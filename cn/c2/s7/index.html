
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="计算机图形学概论(graphicsbook)">
      
      
      
        <link rel="canonical" href="https://hellowac.github.io/graphicsbook-zh-cn/cn/c2/s7/">
      
      
        <link rel="prev" href="../s6/">
      
      
        <link rel="next" href="../../c3/">
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.18">
    
    
      
        <title>第7节: SVG：一种场景描述语言 - 计算机图形学概论</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.66ac8b77.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      

  
  
  
  
  <style>:root{--md-annotation-icon:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M22 12a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10M6 13h8l-3.5 3.5 1.42 1.42L17.84 12l-5.92-5.92L10.5 7.5 14 11H6v2Z"/></svg>');}</style>


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
   <link href="../../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
        html.glightbox-open { overflow: initial; height: 100%; }
        .gslide-title { margin-top: 0px; user-select: text; }
        .gslide-desc { color: #666; user-select: text; }
        .gslide-image img { background: white; }
        
            .gscrollbar-fixer { padding-right: 15px; }
            .gdesc-inner { font-size: 0.75rem; }
            body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
            body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
            body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}
            </style> <script src="../../../assets/javascripts/glightbox.min.js"></script></head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="default" data-md-color-accent="red">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#第7节-svg一种场景描述语言" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../../.." title="计算机图形学概论" class="md-header__button md-logo" aria-label="计算机图形学概论" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            计算机图形学概论
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              第7节: SVG：一种场景描述语言
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
      <div class="md-header__option">
  <div class="md-select">
    
    <button class="md-header__button md-icon" aria-label="选择当前语言">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12.87 15.07-2.54-2.51.03-.03A17.52 17.52 0 0 0 14.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04M18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12m-2.62 7 1.62-4.33L19.12 17h-3.24Z"/></svg>
    </button>
    <div class="md-select__inner">
      <ul class="md-select__list">
        
          <li class="md-select__item">
            <a href="/graphicsbook-zh-cn/en/" hreflang="en" class="md-select__link">
              English
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="/graphicsbook-zh-cn/cn/" hreflang="cn" class="md-select__link">
              中文
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</div>
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/hellowac/graphicsbook-zh-cn" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    graphicsbook
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="标签" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../" class="md-tabs__link">
        
  
    
  
  首页

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../preface/" class="md-tabs__link">
        
  
    
  
  前言

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../c1/" class="md-tabs__link">
          
  
    
  
  1.简介

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../" class="md-tabs__link">
          
  
    
  
  2.二维图形

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../c3/" class="md-tabs__link">
          
  
    
  
  3.几何

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../c4/" class="md-tabs__link">
          
  
    
  
  4.灯光和材质

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../c5/" class="md-tabs__link">
          
  
    
  
  5.three.js

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../c6/" class="md-tabs__link">
          
  
    
  
  6.WebGL

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../c7/" class="md-tabs__link">
          
  
    
  
  7.WebGL 3D

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../c8/" class="md-tabs__link">
          
  
    
  
  8.高阶3D

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../c9/" class="md-tabs__link">
          
  
    
  
  9.WEBGPU

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../a1/" class="md-tabs__link">
          
  
    
  
  附录

        </a>
      </li>
    
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        
  
    
  
  关于

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="计算机图形学概论" class="md-nav__button md-logo" aria-label="计算机图形学概论" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    计算机图形学概论
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/hellowac/graphicsbook-zh-cn" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    graphicsbook
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    首页
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../preface/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    前言
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../c1/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    1.简介
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            1.简介
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../c1/s1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    第 1 节 绘画与绘图
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../c1/s2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    第 2 节：三维(3D)图形的要素
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../c1/s3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    第 3 节：硬件与软件
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    2.二维图形
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4" id="__nav_4_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            2.二维图形
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../s1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    第1节: 像素、坐标和颜色
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../s2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    第2节: 形状
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../s3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    第3节: 变换
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../s4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    第4节: 分层建模
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../s5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    第5节: Java 绘制2D
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../s6/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    第6节: HTML Canvas图形
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    第7节: SVG：一种场景描述语言
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    第7节: SVG：一种场景描述语言
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#271--svg-document-structure" class="md-nav__link">
    <span class="md-ellipsis">
      2.7.1  SVG Document Structure
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#272--shapes-styles-and-transforms" class="md-nav__link">
    <span class="md-ellipsis">
      2.7.2  Shapes, Styles, and Transforms
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#273--polygons-and-paths" class="md-nav__link">
    <span class="md-ellipsis">
      2.7.3  Polygons and Paths
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#274--hierarchical-models" class="md-nav__link">
    <span class="md-ellipsis">
      2.7.4  Hierarchical Models
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#275--animation" class="md-nav__link">
    <span class="md-ellipsis">
      2.7.5  Animation
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../c3/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    3.几何
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5" id="__nav_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            3.几何
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../c3/s1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.1 OpenGL 1.1 中的形状和颜色
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../c3/s2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.2 3D 坐标和变换
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../c3/s3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.3 投影与观看
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../c3/s4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.4 多边形网格和 glDrawArrays
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../c3/s5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.5 部分线性代数基础
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../c3/s6/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.6 使用 GLUT 和 JOGL
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../c4/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    4.灯光和材质
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6" id="__nav_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            4.灯光和材质
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../c4/s1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4.1 照明简介
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../c4/s2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4.2 OpenGL 1.1 中的光和材质
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../c4/s3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4.3 图像纹理
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../c4/s4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4.4 灯光、相机、动作
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../c5/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    5.three.js
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_7" id="__nav_7_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            5.three.js
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../c5/s1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    5.1 Three.js 基础
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../c5/s2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    5.2 构建对象
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../c5/s3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    5.3 其他功能
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../c6/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    6.WebGL
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_8" id="__nav_8_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            6.WebGL
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../c6/s1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    6.1 可编程流水线
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../c6/s2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    6.2 第一个例子
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../c6/s3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    6.3 GLSL
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../c6/s4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    6.4 图像纹理
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../c6/s5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    6.5 实现 2D 变换
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../c7/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    7.WebGL 3D
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_9" id="__nav_9_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            7.WebGL 3D
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../c7/s1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    7.1 3D变换
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../c7/s2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    7.2 照明和材质
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../c7/s3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    7.3 纹理
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../c7/s4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    7.4 帧缓冲区
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../c7/s5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    7.5 WebGL 扩展
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../c8/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    8.高阶3D
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10" id="__nav_10_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10">
            <span class="md-nav__icon md-icon"></span>
            8.高阶3D
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../c8/s1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    8.1 光线追踪
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../c8/s2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    8.2 路径追踪
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_11" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../c9/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    9.WEBGPU
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_11" id="__nav_11_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_11">
            <span class="md-nav__icon md-icon"></span>
            9.WEBGPU
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../c9/s1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    9.1 WebGPU 基础
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../c9/s2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    9.2 实例和索引
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../c9/s3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    9.3 WGSL
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../c9/s4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    9.4 WebGPU 中的 3D 图形
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../c9/s5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    9.5 纹理
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../c9/s6/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    9.6 计算着色器
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../c9/s7/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    9.7 细节
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_12" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../a1/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    附录
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_12" id="__nav_12_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_12">
            <span class="md-nav__icon md-icon"></span>
            附录
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../a2/index.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Blender 3D建模
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../a3/index.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Gimp和Inkscape
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../source/index.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    示例程序源代码
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../glossary/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    术语表
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    关于
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#271--svg-document-structure" class="md-nav__link">
    <span class="md-ellipsis">
      2.7.1  SVG Document Structure
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#272--shapes-styles-and-transforms" class="md-nav__link">
    <span class="md-ellipsis">
      2.7.2  Shapes, Styles, and Transforms
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#273--polygons-and-paths" class="md-nav__link">
    <span class="md-ellipsis">
      2.7.3  Polygons and Paths
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#274--hierarchical-models" class="md-nav__link">
    <span class="md-ellipsis">
      2.7.4  Hierarchical Models
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#275--animation" class="md-nav__link">
    <span class="md-ellipsis">
      2.7.5  Animation
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="第7节-svg一种场景描述语言">第7节: <abbr title="可缩放矢量图形。一种用于指定2D矢量图形的XML语言。SVG是一种场景描述语言。它旨在集成到网页中。">SVG</abbr>：一种场景描述语言<a class="headerlink" href="#第7节-svg一种场景描述语言" title="Permanent link">&para;</a></h1>
<p><strong><abbr title="可缩放矢量图形。一种用于指定2D矢量图形的XML语言。SVG是一种场景描述语言。它旨在集成到网页中。">SVG</abbr>: A Scene Description Language</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:2"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">中文</label><label for="__tabbed_1_2">英文</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>我们结束这一章的内容，再看一看另一个二维图形系统：<strong><abbr title="可缩放矢量图形。一种用于指定2D矢量图形的XML语言。SVG是一种场景描述语言。它旨在集成到网页中。">SVG</abbr></strong>，即可缩放矢量图形。到目前为止，我们一直在考虑图形编程 <abbr title="Application Programming Interface. A collection of related classes, functions, constants, etc., for performing some task. An API is an &quot;interface&quot; in the sense that it can be used without understanding how its functionality is actually implemented.">API</abbr>。而 <abbr title="可缩放矢量图形。一种用于指定2D矢量图形的XML语言。SVG是一种场景描述语言。它旨在集成到网页中。">SVG</abbr> 则是一种<strong><abbr title="一种用于通过说明图像中包含什么来指定图形图像的语言。也就是说，场景是通过声明其包含的内容来“声明性”地创建的，而不是通过程序“过程性”地创建的。使用场景描述语言编写的文档可用于为场景生成场景图。">场景描述语言</abbr></strong>，而不是一种编程语言。编程语言通过程序生成其内容来创建场景，而场景描述语言通过列出其内容来“声明性地”指定场景。由于 <abbr title="可缩放矢量图形。一种用于指定2D矢量图形的XML语言。SVG是一种场景描述语言。它旨在集成到网页中。">SVG</abbr> 是一种矢量图形语言，场景的内容包括形状、颜色和线宽等属性，以及几何变换。这些大多数对你来说应该很熟悉，但在新的上下文中看到它应该是很有趣的。</p>
<p><abbr title="可缩放矢量图形。一种用于指定2D矢量图形的XML语言。SVG是一种场景描述语言。它旨在集成到网页中。">SVG</abbr> 是一种 <abbr title="eXtensible Markup Language. Not a single language as such, but a class of languages that follow certain syntax rules. For example, SVG is an XML language because it follows those rules, but it also has further restrictions on its syntax that make it appropriate for specifying 2D graphics. XML documents, like HTML documents, have a tree-like structure defined by &quot;elements.&quot; However, HTML is not an XML language since it does not follow all the syntax rules. XHTML is an alternative language for web pages that is similar to HTML but follows XML syntax rules.">XML</abbr> 语言，这意味着它有着非常严格且有些冗长的语法。这可能使得编写它有点烦人，但另一方面，这使得即使你不熟悉语法，也可以阅读和理解 <abbr title="可缩放矢量图形。一种用于指定2D矢量图形的XML语言。SVG是一种场景描述语言。它旨在集成到网页中。">SVG</abbr> 文档。<abbr title="可缩放矢量图形。一种用于指定2D矢量图形的XML语言。SVG是一种场景描述语言。它旨在集成到网页中。">SVG</abbr> 可能最初代表“简单”<abbr title="基于形状的图形，在此类图形中，图像被指定为出现在图像中的形状或对象的列表。">矢量图形</abbr>，但目前来看它绝不是一种简单的语言。我这里只会涵盖其中的一部分，而且还有很多语言的部分和选项我不会提到。我的目标是介绍场景描述语言的概念，并展示这种语言如何使用本章其余部分所使用的相同基本思想。</p>
<p><abbr title="可缩放矢量图形。一种用于指定2D矢量图形的XML语言。SVG是一种场景描述语言。它旨在集成到网页中。">SVG</abbr> 可以用作存储矢量图形图像的文件格式，方式与 PNG 和 JPEG 用于存储像素图像的文件格式类似。这意味着你几乎可以用任何网络浏览器打开 <abbr title="可缩放矢量图形。一种用于指定2D矢量图形的XML语言。SVG是一种场景描述语言。它旨在集成到网页中。">SVG</abbr> 文件查看图像。通过将其用作 <code>&lt;img&gt;</code> 元素的 src，可以在网页中包含 <abbr title="可缩放矢量图形。一种用于指定2D矢量图形的XML语言。SVG是一种场景描述语言。它旨在集成到网页中。">SVG</abbr> 图像。这就是本页面上显示的 <abbr title="可缩放矢量图形。一种用于指定2D矢量图形的XML语言。SVG是一种场景描述语言。它旨在集成到网页中。">SVG</abbr> 示例的方法。由于 <abbr title="可缩放矢量图形。一种用于指定2D矢量图形的XML语言。SVG是一种场景描述语言。它旨在集成到网页中。">SVG</abbr> 文档是用纯文本编写的，因此你可以使用常规文本编辑器创建 <abbr title="可缩放矢量图形。一种用于指定2D矢量图形的XML语言。SVG是一种场景描述语言。它旨在集成到网页中。">SVG</abbr> 图像，并且可以通过在文本编辑器中打开它或在网页浏览器中显示图像时查看图像的源代码来读取 <abbr title="可缩放矢量图形。一种用于指定2D矢量图形的XML语言。SVG是一种场景描述语言。它旨在集成到网页中。">SVG</abbr> 图像的源代码。</p>
</div>
<div class="tabbed-block">
<p>We finish this chapter with a look at one more 2D graphics system: <strong><abbr title="可缩放矢量图形。一种用于指定2D矢量图形的XML语言。SVG是一种场景描述语言。它旨在集成到网页中。">SVG</abbr></strong>, or Scalable Vector Graphics. So far, we have been considering graphics programming APIs. <abbr title="可缩放矢量图形。一种用于指定2D矢量图形的XML语言。SVG是一种场景描述语言。它旨在集成到网页中。">SVG</abbr>, on the other hand is a <strong><abbr title="A language that can be used to specify graphics images by stating what's in the image. That is, the scene is created &quot;declaratively,&quot; by stating what it contains, as opposed to being created &quot;procedurally,&quot; by a program. A document written in a scene description language can be used to generate a scene graph for the scene.">scene description language</abbr></strong> rather than a programming language. Where a programming language creates a scene by generating its contents procedurally, a <abbr title="A language that can be used to specify graphics images by stating what's in the image. That is, the scene is created &quot;declaratively,&quot; by stating what it contains, as opposed to being created &quot;procedurally,&quot; by a program. A document written in a scene description language can be used to generate a scene graph for the scene.">scene description language</abbr> specifies a scene "declaratively," by listing its content. Since <abbr title="可缩放矢量图形。一种用于指定2D矢量图形的XML语言。SVG是一种场景描述语言。它旨在集成到网页中。">SVG</abbr> is a <abbr title="An element of a vector space. Elements of a vector space can be added and can be multiplied by constants. For computer graphics, a vector is just a list or array containing two, three, or four numbers. Vectors in that sense are often used to represent points in 2D, 3D, or 4D space. Properly, however, a vector represents a quantity that has a length and a direction; a vector used in this way can be visualized as an arrow.">vector</abbr> graphics language, the content of a scene includes shapes, <abbr title="A property, such as color, of a graphical object. An image can be specified by the geometric shapes that it contains, together with their attributes.">attributes</abbr> such as color and line width, and geometric transforms. Most of this should be familiar to you, but it should be interesting to see it in a new context.</p>
<p><abbr title="可缩放矢量图形。一种用于指定2D矢量图形的XML语言。SVG是一种场景描述语言。它旨在集成到网页中。">SVG</abbr> is an <abbr title="eXtensible Markup Language. Not a single language as such, but a class of languages that follow certain syntax rules. For example, SVG is an XML language because it follows those rules, but it also has further restrictions on its syntax that make it appropriate for specifying 2D graphics. XML documents, like HTML documents, have a tree-like structure defined by &quot;elements.&quot; However, HTML is not an XML language since it does not follow all the syntax rules. XHTML is an alternative language for web pages that is similar to HTML but follows XML syntax rules.">XML</abbr> language, which means it has a very strict and somewhat verbose syntax. This can make it a little annoying to write, but on the other hand, it makes it possible to read and understand <abbr title="可缩放矢量图形。一种用于指定2D矢量图形的XML语言。SVG是一种场景描述语言。它旨在集成到网页中。">SVG</abbr> documents even if you are not familiar with the syntax. It's possible that <abbr title="可缩放矢量图形。一种用于指定2D矢量图形的XML语言。SVG是一种场景描述语言。它旨在集成到网页中。">SVG</abbr> originally stood for "Simple" Vector Graphics, but it is by no means a simple language at this point. I will cover only a part of it here, and there are many parts of the language and many options that I will not mention. My goal is to introduce the idea of a <abbr title="A language that can be used to specify graphics images by stating what's in the image. That is, the scene is created &quot;declaratively,&quot; by stating what it contains, as opposed to being created &quot;procedurally,&quot; by a program. A document written in a scene description language can be used to generate a scene graph for the scene.">scene description language</abbr> and to show how such a language can use the same basic ideas that are used in the rest of this chapter.</p>
<p><abbr title="可缩放矢量图形。一种用于指定2D矢量图形的XML语言。SVG是一种场景描述语言。它旨在集成到网页中。">SVG</abbr> can be used as a file format for storing <abbr title="An element of a vector space. Elements of a vector space can be added and can be multiplied by constants. For computer graphics, a vector is just a list or array containing two, three, or four numbers. Vectors in that sense are often used to represent points in 2D, 3D, or 4D space. Properly, however, a vector represents a quantity that has a length and a direction; a vector used in this way can be visualized as an arrow.">vector</abbr> graphics images, in much the same way that PNG and JPEG are file formats for storing <abbr title="A digital image is made up of rows and columns of small rectangles called pixels. To specify a digital image, a color is assigned to each pixel in the image.">pixel</abbr>-based images. That means that you can open an <abbr title="可缩放矢量图形。一种用于指定2D矢量图形的XML语言。SVG是一种场景描述语言。它旨在集成到网页中。">SVG</abbr> file with almost any web browser to view the image. An <abbr title="可缩放矢量图形。一种用于指定2D矢量图形的XML语言。SVG是一种场景描述语言。它旨在集成到网页中。">SVG</abbr> image can be included in a web page by using it as the src of an <code>&lt;img&gt;</code> element. That's how the <abbr title="可缩放矢量图形。一种用于指定2D矢量图形的XML语言。SVG是一种场景描述语言。它旨在集成到网页中。">SVG</abbr> examples on this page are displayed. Since <abbr title="可缩放矢量图形。一种用于指定2D矢量图形的XML语言。SVG是一种场景描述语言。它旨在集成到网页中。">SVG</abbr> documents are written in plain text, you can create <abbr title="可缩放矢量图形。一种用于指定2D矢量图形的XML语言。SVG是一种场景描述语言。它旨在集成到网页中。">SVG</abbr> images using a regular text editor, and you can read the source for an <abbr title="可缩放矢量图形。一种用于指定2D矢量图形的XML语言。SVG是一种场景描述语言。它旨在集成到网页中。">SVG</abbr> image by opening it in a text editor or by <abbr title="Setting the position and orientation of the viewer in a 3D world, which determine what will be visible when the 2D image of a 3D world is rendered.">viewing</abbr> the source of the image when it is displayed in a web browser.</p>
</div>
</div>
</div>
<h2 id="271--svg-document-structure">2.7.1  <abbr title="可缩放矢量图形。一种用于指定2D矢量图形的XML语言。SVG是一种场景描述语言。它旨在集成到网页中。">SVG</abbr> Document Structure<a class="headerlink" href="#271--svg-document-structure" title="Permanent link">&para;</a></h2>
<p><strong><abbr title="可缩放矢量图形。一种用于指定2D矢量图形的XML语言。SVG是一种场景描述语言。它旨在集成到网页中。">SVG</abbr> Document Structure</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="2:2"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio" /><input id="__tabbed_2_2" name="__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="__tabbed_2_1">中文</label><label for="__tabbed_2_2">英文</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>一个 <abbr title="可缩放矢量图形。一种用于指定2D矢量图形的XML语言。SVG是一种场景描述语言。它旨在集成到网页中。">SVG</abbr> 文件，就像任何 <abbr title="eXtensible Markup Language. Not a single language as such, but a class of languages that follow certain syntax rules. For example, SVG is an XML language because it follows those rules, but it also has further restrictions on its syntax that make it appropriate for specifying 2D graphics. XML documents, like HTML documents, have a tree-like structure defined by &quot;elements.&quot; However, HTML is not an XML language since it does not follow all the syntax rules. XHTML is an alternative language for web pages that is similar to HTML but follows XML syntax rules.">XML</abbr> 文档一样，以一些几乎没有人记住的标准代码开头。它应该只是被复制到一个新文档中。以下是一些代码，可作为本节讨论的 <abbr title="可缩放矢量图形。一种用于指定2D矢量图形的XML语言。SVG是一种场景描述语言。它旨在集成到网页中。">SVG</abbr> 文档的起始点进行复制（请记住，这些代码只使用了完整 <abbr title="可缩放矢量图形。一种用于指定2D矢量图形的XML语言。SVG是一种场景描述语言。它旨在集成到网页中。">SVG</abbr> 规范的一个子集）：</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?xml version=&quot;1.0&quot;?&gt;</span>
<span class="cp">&lt;!DOCTYPE svg PUBLIC &quot;-//W3C//DTD SVG 1.1//EN&quot; </span>
<span class="cp">&quot;http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd&quot;&gt;</span>
<span class="nt">&lt;svg</span><span class="w"> </span><span class="na">version=</span><span class="s">&quot;1.1&quot;</span><span class="w"> </span><span class="na">xmlns=</span><span class="s">&quot;http://www.w3.org/2000/svg&quot;</span><span class="w"> </span>
<span class="w">        </span><span class="na">xmlns:xlink=</span><span class="s">&quot;http://www.w3.org/1999/xlink&quot;</span>
<span class="w">        </span><span class="na">width=</span><span class="s">&quot;4in&quot;</span><span class="w"> </span><span class="na">height=</span><span class="s">&quot;4in&quot;</span><span class="w"> </span>
<span class="w">        </span><span class="na">viewBox=</span><span class="s">&quot;0 0 400 400&quot;</span>
<span class="w">        </span><span class="na">preserveAspectRatio=</span><span class="s">&quot;xMidYMid&quot;</span><span class="nt">&gt;</span>

<span class="w">    </span><span class="cm">&lt;!-- 这里放置场景描述！  --&gt;</span><span class="w">   </span>

<span class="nt">&lt;/svg&gt;</span>
</code></pre></div>
<p>前三行表示这是一个 <abbr title="eXtensible Markup Language. Not a single language as such, but a class of languages that follow certain syntax rules. For example, SVG is an XML language because it follows those rules, but it also has further restrictions on its syntax that make it appropriate for specifying 2D graphics. XML documents, like HTML documents, have a tree-like structure defined by &quot;elements.&quot; However, HTML is not an XML language since it does not follow all the syntax rules. XHTML is an alternative language for web pages that is similar to HTML but follows XML syntax rules.">XML</abbr> <abbr title="可缩放矢量图形。一种用于指定2D矢量图形的XML语言。SVG是一种场景描述语言。它旨在集成到网页中。">SVG</abbr> 文档。文档的其余部分是一个 <code>&lt;svg&gt;</code> 元素，它作为整个场景描述的容器。你需要了解一些关于 <abbr title="eXtensible Markup Language. Not a single language as such, but a class of languages that follow certain syntax rules. For example, SVG is an XML language because it follows those rules, but it also has further restrictions on its syntax that make it appropriate for specifying 2D graphics. XML documents, like HTML documents, have a tree-like structure defined by &quot;elements.&quot; However, HTML is not an XML language since it does not follow all the syntax rules. XHTML is an alternative language for web pages that is similar to HTML but follows XML syntax rules.">XML</abbr> 语法的知识。首先，<abbr title="eXtensible Markup Language. Not a single language as such, but a class of languages that follow certain syntax rules. For example, SVG is an XML language because it follows those rules, but it also has further restrictions on its syntax that make it appropriate for specifying 2D graphics. XML documents, like HTML documents, have a tree-like structure defined by &quot;elements.&quot; However, HTML is not an XML language since it does not follow all the syntax rules. XHTML is an alternative language for web pages that is similar to HTML but follows XML syntax rules.">XML</abbr> 元素的一般形式如下：</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;elementname</span><span class="w"> </span><span class="na">attrib1=</span><span class="s">&quot;value1&quot;</span><span class="w"> </span><span class="na">attrib2=</span><span class="s">&quot;value2&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span>...content...<span class="w"> </span>
<span class="nt">&lt;/elementname&gt;</span>
</code></pre></div>
<p>元素以一个“开始标签”开始，它以一个“<code>&lt;</code>”开头，后面跟着一个标识符，该标识符是标签名称，并以“<code>&gt;</code>”结尾。开始标签可以包含“<abbr title="图形对象的属性，例如颜色。图像可以通过其包含的几何形状以及它们的属性来指定。">属性</abbr>”，属性的形式为 <code>name="value"</code>。名称是一个标识符；值是一个字符串。值必须用单引号或双引号括起来。元素以一个“结束标签”结束，结束标签的元素名称与开始标签中的元素名称匹配，并且形式为 <code>&lt;/elementname&gt;</code>。元素名称和属性名称区分大小写。开始标签和结束标签之间是元素的“内容”。内容可以包含文本和嵌套元素。如果一个元素没有内容，你可以将开始标签末尾的“<code>&gt;</code>”替换为“<code>/&gt;</code>”，并省略结束标签。这被称为“自闭合标签”。例如，</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;circle</span><span class="w"> </span><span class="na">cx=</span><span class="s">&quot;5&quot;</span><span class="w"> </span><span class="na">cy=</span><span class="s">&quot;5&quot;</span><span class="w"> </span><span class="na">r=</span><span class="s">&quot;4&quot;</span><span class="w"> </span><span class="na">fill=</span><span class="s">&quot;red&quot;</span><span class="nt">/&gt;</span>
</code></pre></div>
<p>这是一个实际的 <abbr title="可缩放矢量图形。一种用于指定2D矢量图形的XML语言。SVG是一种场景描述语言。它旨在集成到网页中。">SVG</abbr> 元素，指定了一个圆。很容易忘记自闭合标签末尾的“/”，但它必须存在以形成合法的 <abbr title="eXtensible Markup Language. Not a single language as such, but a class of languages that follow certain syntax rules. For example, SVG is an XML language because it follows those rules, but it also has further restrictions on its syntax that make it appropriate for specifying 2D graphics. XML documents, like HTML documents, have a tree-like structure defined by &quot;elements.&quot; However, HTML is not an XML language since it does not follow all the syntax rules. XHTML is an alternative language for web pages that is similar to HTML but follows XML syntax rules.">XML</abbr> 文档。</p>
<p>回顾一下 <abbr title="可缩放矢量图形。一种用于指定2D矢量图形的XML语言。SVG是一种场景描述语言。它旨在集成到网页中。">SVG</abbr> 文档，以 <code>&lt;svg</code> 开头的五行只是一个长的开始标签。你可以像示例中那样使用标签，并自定义宽度、高度、viewBox 和 preserveAspectRatio 属性的值。下一行是一个注释；<abbr title="eXtensible Markup Language. Not a single language as such, but a class of languages that follow certain syntax rules. For example, SVG is an XML language because it follows those rules, but it also has further restrictions on its syntax that make it appropriate for specifying 2D graphics. XML documents, like HTML documents, have a tree-like structure defined by &quot;elements.&quot; However, HTML is not an XML language since it does not follow all the syntax rules. XHTML is an alternative language for web pages that is similar to HTML but follows XML syntax rules.">XML</abbr> 中的注释以“<code>&lt;!--</code>”开始，以“<code>--&gt;</code>”结束。</p>
<p><code>&lt;svg&gt;</code> 标签的 <em>width</em> 和 <em>height</em> 属性指定了图像的自然或首选大小。它可以被强制改变大小，例如，如果它被用在一个网页上的 <code>&lt;img&gt;</code> 元素中，该元素指定了不同的宽度和高度。大小可以使用诸如 <em>in</em>（英寸）、cm（厘米）和 px（<abbr title="像素: 数字图像由称为像素的小矩形的行和列组成。为了指定数字图像，需要为图像中的每个像素分配一种颜色。">像素</abbr>）之类的单位进行指定，每英寸有 90 <abbr title="像素: 数字图像由称为像素的小矩形的行和列组成。为了指定数字图像，需要为图像中的每个像素分配一种颜色。">像素</abbr>。如果未指定单位，则使用像素。数字和单位之间不能有任何空格。</p>
<p><em>viewBox</em> 属性设置了用于绘制图像的坐标系。这就是我在 <a href="../s3/#231--视口和建模">2.3.1 小节</a> 中称之为视窗的东西。viewBox 的值是一个包含四个数字的列表，分别给出了视窗的最小 x 值、最小 y 值、宽度和高度。宽度和高度必须是正值，因此 x 从左到右增加，y 从上到下增加。列表中的四个数字可以用空格或逗号分隔；这在 <abbr title="可缩放矢量图形。一种用于指定2D矢量图形的XML语言。SVG是一种场景描述语言。它旨在集成到网页中。">SVG</abbr> 中的数字列表中是典型的。</p>
<p>最后，preserveAspectRatio 属性告诉当 viewBox 的宽高比与图像显示的矩形的宽高比不匹配时会发生什么。默认值“xMidYMid”会水平或垂直地扩展 viewBox 的限制以保持宽高比，并且 viewBox 会出现在显示矩形的中心。如果你希望你的图像拉伸以填满显示矩形，忽略宽高比，将 preserveAspectRatio 的值设置为“none”。（宽高比问题已在 <a href="../s3/#237--视窗到视口">2.3.7 小节</a> 中讨论过。）</p>
<p>让我们看一个绘制几个简单形状的完整 <abbr title="可缩放矢量图形。一种用于指定2D矢量图形的XML语言。SVG是一种场景描述语言。它旨在集成到网页中。">SVG</abbr> 文档。下面是文档。即使你不了解 <abbr title="可缩放矢量图形。一种用于指定2D矢量图形的XML语言。SVG是一种场景描述语言。它旨在集成到网页中。">SVG</abbr> 的更多信息，你也可以大致猜出它绘制了什么：</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?xml version=&quot;1.0&quot;?&gt;</span>
<span class="cp">&lt;!DOCTYPE svg PUBLIC &quot;-//W3C//DTD SVG 1.1//EN&quot; </span>
<span class="cp">&quot;http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd&quot;&gt;</span>
<span class="nt">&lt;svg</span><span class="w"> </span><span class="na">version=</span><span class="s">&quot;1.1&quot;</span><span class="w"> </span><span class="na">xmlns=</span><span class="s">&quot;http://www.w3.org/2000/svg&quot;</span><span class="w"> </span>
<span class="w">    </span><span class="na">xmlns:xlink=</span><span class="s">&quot;http://www.w3.org/1999/xlink&quot;</span>
<span class="w">    </span><span class="na">width=</span><span class="s">&quot;300px&quot;</span><span class="w"> </span><span class="na">height=</span><span class="s">&quot;200px&quot;</span><span class="w"> </span>
<span class="w">    </span><span class="na">viewBox=</span><span class="s">&quot;0 0 3 2&quot;</span>
<span class="w">    </span><span class="na">preserveAspectRatio=</span><span class="s">&quot;xMidYMid&quot;</span><span class="nt">&gt;</span>

<span class="nt">&lt;rect</span><span class="w"> </span><span class="na">x=</span><span class="s">&quot;0&quot;</span><span class="w"> </span><span class="na">y=</span><span class="s">&quot;0&quot;</span><span class="w"> </span><span class="na">width=</span><span class="s">&quot;3&quot;</span><span class="w"> </span><span class="na">height=</span><span class="s">&quot;2&quot;</span><span class="w"> </span>
<span class="w">                            </span><span class="na">stroke=</span><span class="s">&quot;blue&quot;</span><span class="w"> </span><span class="na">fill=</span><span class="s">&quot;none&quot;</span><span class="w"> </span><span class="na">stroke-width=</span><span class="s">&quot;0.05&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;text</span><span class="w"> </span><span class="na">x=</span><span class="s">&quot;0.2&quot;</span><span class="w"> </span><span class="na">y=</span><span class="s">&quot;0.5&quot;</span><span class="w"> </span><span class="na">font-size=</span><span class="s">&quot;0.4&quot;</span><span class="w"> </span><span class="na">fill=</span><span class="s">&quot;red&quot;</span><span class="nt">&gt;</span>Hello<span class="w"> </span>World!<span class="nt">&lt;/text&gt;</span>
<span class="nt">&lt;line</span><span class="w"> </span><span class="na">x1=</span><span class="s">&quot;0.1&quot;</span><span class="w"> </span><span class="na">y1=</span><span class="s">&quot;0.7&quot;</span><span class="w"> </span><span class="na">x2=</span><span class="s">&quot;2.9&quot;</span><span class="w"> </span><span class="na">y2=</span><span class="s">&quot;0.7&quot;</span><span class="w"> </span><span class="na">stroke-width=</span><span class="s">&quot;0.05</span>

<span class="s">&quot;</span><span class="w"> </span><span class="na">stroke=</span><span class="s">&quot;blue&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;ellipse</span><span class="w"> </span><span class="na">cx=</span><span class="s">&quot;1.5&quot;</span><span class="w"> </span><span class="na">cy=</span><span class="s">&quot;1.4&quot;</span><span class="w"> </span><span class="na">rx=</span><span class="s">&quot;.6&quot;</span><span class="w"> </span><span class="na">ry=</span><span class="s">&quot;.4&quot;</span><span class="w"> </span><span class="na">fill=</span><span class="s">&quot;rgb(0,255,180)&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;circle</span><span class="w"> </span><span class="na">cx=</span><span class="s">&quot;0.4&quot;</span><span class="w"> </span><span class="na">cy=</span><span class="s">&quot;1.4&quot;</span><span class="w"> </span><span class="na">r=</span><span class="s">&quot;0.3&quot;</span><span class="w"> </span>
<span class="w">                    </span><span class="na">fill=</span><span class="s">&quot;magenta&quot;</span><span class="w"> </span><span class="na">stroke=</span><span class="s">&quot;black&quot;</span><span class="w"> </span><span class="na">stroke-width=</span><span class="s">&quot;0.03&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;polygon</span><span class="w"> </span><span class="na">points=</span><span class="s">&quot;2.2,1.7 2.4,1 2.9,1.7&quot;</span><span class="w"> </span>
<span class="w">                    </span><span class="na">fill=</span><span class="s">&quot;none&quot;</span><span class="w"> </span><span class="na">stroke=</span><span class="s">&quot;green&quot;</span><span class="w"> </span><span class="na">stroke-width=</span><span class="s">&quot;0.02&quot;</span><span class="nt">/&gt;</span>

<span class="nt">&lt;/svg&gt;</span>
</code></pre></div>
<p>这是该示例生成的图像：</p>
<p><figure markdown="span">
    <a class="glightbox" href="../../../en/c2/first-svg-example.svg" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="pixel-coordinates" src="../../../en/c2/first-svg-example.svg" /></a>
</figure></p>
<p>对于此示例的绘图坐标系，x 范围从 0 到 3，y 范围从 0 到 2。所有用于绘制的值，包括描边宽度和字体大小，都是以这个坐标系来给出的。请记住，你可以使用任何你觉得方便的坐标系！顺便提一下，未被绘制形状覆盖的图像部分将是透明的。</p>
<p>这是另一个示例，其中包含多种形状。此示例的源代码有很多注释。它使用了我们将在本节的其余部分中讨论的特性。</p>
<p><figure markdown="span">
    <a class="glightbox" href="../../../en/c2/svg-starter.svg" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="pixel-coordinates" src="../../../en/c2/svg-starter.svg" /></a>
</figure></p>
<p>你可以查看源代码，<a href="../../../en/source/svg/svg-starter.svg">svg/svg-starter.svg</a>。（例如，在文本编辑器中打开它，或者在网页浏览器中打开它并使用浏览器的“查看源代码”命令。）</p>
</div>
<div class="tabbed-block">
<p>An <abbr title="可缩放矢量图形。一种用于指定2D矢量图形的XML语言。SVG是一种场景描述语言。它旨在集成到网页中。">SVG</abbr> file, like any <abbr title="eXtensible Markup Language. Not a single language as such, but a class of languages that follow certain syntax rules. For example, SVG is an XML language because it follows those rules, but it also has further restrictions on its syntax that make it appropriate for specifying 2D graphics. XML documents, like HTML documents, have a tree-like structure defined by &quot;elements.&quot; However, HTML is not an XML language since it does not follow all the syntax rules. XHTML is an alternative language for web pages that is similar to HTML but follows XML syntax rules.">XML</abbr> document, starts with some standard code that almost no one memorizes. It should just be copied into a new document. Here is some code that can be copied as a starting point for <abbr title="可缩放矢量图形。一种用于指定2D矢量图形的XML语言。SVG是一种场景描述语言。它旨在集成到网页中。">SVG</abbr> documents of the type discussed in this section (which, remember use only a subset of the full <abbr title="可缩放矢量图形。一种用于指定2D矢量图形的XML语言。SVG是一种场景描述语言。它旨在集成到网页中。">SVG</abbr> specification):</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?xml version=&quot;1.0&quot;?&gt;</span>
<span class="cp">&lt;!DOCTYPE svg PUBLIC &quot;-//W3C//DTD SVG 1.1//EN&quot; </span>
<span class="cp">&quot;http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd&quot;&gt;</span>
<span class="nt">&lt;svg</span><span class="w"> </span><span class="na">version=</span><span class="s">&quot;1.1&quot;</span><span class="w"> </span><span class="na">xmlns=</span><span class="s">&quot;http://www.w3.org/2000/svg&quot;</span><span class="w"> </span>
<span class="w">        </span><span class="na">xmlns:xlink=</span><span class="s">&quot;http://www.w3.org/1999/xlink&quot;</span>
<span class="w">        </span><span class="na">width=</span><span class="s">&quot;4in&quot;</span><span class="w"> </span><span class="na">height=</span><span class="s">&quot;4in&quot;</span><span class="w"> </span>
<span class="w">        </span><span class="na">viewBox=</span><span class="s">&quot;0 0 400 400&quot;</span>
<span class="w">        </span><span class="na">preserveAspectRatio=</span><span class="s">&quot;xMidYMid&quot;</span><span class="nt">&gt;</span>

<span class="w">    </span><span class="cm">&lt;!-- The scene description goes here!  --&gt;</span><span class="w">   </span>

<span class="nt">&lt;/svg&gt;</span>
</code></pre></div>
<p>The first three lines say that this is an <abbr title="eXtensible Markup Language. Not a single language as such, but a class of languages that follow certain syntax rules. For example, SVG is an XML language because it follows those rules, but it also has further restrictions on its syntax that make it appropriate for specifying 2D graphics. XML documents, like HTML documents, have a tree-like structure defined by &quot;elements.&quot; However, HTML is not an XML language since it does not follow all the syntax rules. XHTML is an alternative language for web pages that is similar to HTML but follows XML syntax rules.">XML</abbr> <abbr title="可缩放矢量图形。一种用于指定2D矢量图形的XML语言。SVG是一种场景描述语言。它旨在集成到网页中。">SVG</abbr> document. The rest of the document is an <code>&lt;svg&gt;</code> element that acts as a container for the entire scene description. You'll need to know a little about <abbr title="eXtensible Markup Language. Not a single language as such, but a class of languages that follow certain syntax rules. For example, SVG is an XML language because it follows those rules, but it also has further restrictions on its syntax that make it appropriate for specifying 2D graphics. XML documents, like HTML documents, have a tree-like structure defined by &quot;elements.&quot; However, HTML is not an XML language since it does not follow all the syntax rules. XHTML is an alternative language for web pages that is similar to HTML but follows XML syntax rules.">XML</abbr> syntax. First, an <abbr title="eXtensible Markup Language. Not a single language as such, but a class of languages that follow certain syntax rules. For example, SVG is an XML language because it follows those rules, but it also has further restrictions on its syntax that make it appropriate for specifying 2D graphics. XML documents, like HTML documents, have a tree-like structure defined by &quot;elements.&quot; However, HTML is not an XML language since it does not follow all the syntax rules. XHTML is an alternative language for web pages that is similar to HTML but follows XML syntax rules.">XML</abbr> "element" in its general form looks like this:</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;elementname</span><span class="w"> </span><span class="na">attrib1=</span><span class="s">&quot;value1&quot;</span><span class="w"> </span><span class="na">attrib2=</span><span class="s">&quot;value2&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span>...content...<span class="w"> </span>
<span class="nt">&lt;/elementname&gt;</span>
</code></pre></div>
<p>The element starts with a "start tag," which begins with a "<code>&lt;</code>" followed by an identifier that is the name of the tag, and ending with a "<code>&gt;</code>". The start tag can include "<abbr title="A property, such as color, of a graphical object. An image can be specified by the geometric shapes that it contains, together with their attributes.">attributes</abbr>," which have the form <code>name="value"</code>. The name is an identifier; the value is a string. The value must be enclosed in single or double quotation marks. The element ends with an "end tag," which has an element name that matches the element name in the start tag and has the form <code>&lt;/elementname&gt;</code>. Element names and <abbr title="A property, such as color, of a graphical object. An image can be specified by the geometric shapes that it contains, together with their attributes.">attribute</abbr> names are case-sensitive. Between the start and end tags comes the "content" of the element. The content can consist of text and nested elements. If an element has no content, you can replace the "<code>&gt;</code>" at the end of the start tag with "<code>/&gt;</code>", and leave out the end tag. This is called a "self-closing tag." For example,</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;circle</span><span class="w"> </span><span class="na">cx=</span><span class="s">&quot;5&quot;</span><span class="w"> </span><span class="na">cy=</span><span class="s">&quot;5&quot;</span><span class="w"> </span><span class="na">r=</span><span class="s">&quot;4&quot;</span><span class="w"> </span><span class="na">fill=</span><span class="s">&quot;red&quot;</span><span class="nt">/&gt;</span>
</code></pre></div>
<p>This is an actual <abbr title="可缩放矢量图形。一种用于指定2D矢量图形的XML语言。SVG是一种场景描述语言。它旨在集成到网页中。">SVG</abbr> element that specifies a circle. It's easy to forget the "/" at the end of a self-closing tag, but it has to be there to have a legal <abbr title="eXtensible Markup Language. Not a single language as such, but a class of languages that follow certain syntax rules. For example, SVG is an XML language because it follows those rules, but it also has further restrictions on its syntax that make it appropriate for specifying 2D graphics. XML documents, like HTML documents, have a tree-like structure defined by &quot;elements.&quot; However, HTML is not an XML language since it does not follow all the syntax rules. XHTML is an alternative language for web pages that is similar to HTML but follows XML syntax rules.">XML</abbr> document.</p>
<p>Looking back at the <abbr title="可缩放矢量图形。一种用于指定2D矢量图形的XML语言。SVG是一种场景描述语言。它旨在集成到网页中。">SVG</abbr> document, the five lines starting with <code>&lt;svg</code> are just a long start tag. You can use the tag as shown, and customize the values of the width, height, viewBox, and preserveAspectRatio <abbr title="A property, such as color, of a graphical object. An image can be specified by the geometric shapes that it contains, together with their attributes.">attributes</abbr>. The next line is a comment; comments in <abbr title="eXtensible Markup Language. Not a single language as such, but a class of languages that follow certain syntax rules. For example, SVG is an XML language because it follows those rules, but it also has further restrictions on its syntax that make it appropriate for specifying 2D graphics. XML documents, like HTML documents, have a tree-like structure defined by &quot;elements.&quot; However, HTML is not an XML language since it does not follow all the syntax rules. XHTML is an alternative language for web pages that is similar to HTML but follows XML syntax rules.">XML</abbr> start with <code>"&lt;!--"</code> and end with <code>"--&gt;"</code>.</p>
<p>The <em>width</em> and height <abbr title="A property, such as color, of a graphical object. An image can be specified by the geometric shapes that it contains, together with their attributes.">attributes</abbr> of the <code>&lt;svg&gt;</code> tag specify a natural or preferred size for the image. It can be forced into a different size, for example if it is used in an <code>&lt;img&gt;</code> element on a web page that specifies a different width and height. The size can be specified using units of measure such as <em>in</em> for inches, cm for centimeters, and px, for <abbr title="A digital image is made up of rows and columns of small rectangles called pixels. To specify a digital image, a color is assigned to each pixel in the image.">pixels</abbr>, with 90 <abbr title="A digital image is made up of rows and columns of small rectangles called pixels. To specify a digital image, a color is assigned to each pixel in the image.">pixels</abbr> to the inch. If no unit of measure is specified, <abbr title="A digital image is made up of rows and columns of small rectangles called pixels. To specify a digital image, a color is assigned to each pixel in the image.">pixels</abbr> are used. There cannot be any space between the number and the unit of measure.</p>
<p>The <em>viewBox</em> <abbr title="A property, such as color, of a graphical object. An image can be specified by the geometric shapes that it contains, together with their attributes.">attribute</abbr> sets up the <abbr title="A way of assigning numerical coordinates to geometric points. In two dimensions, each point corresponds to a pair of numbers. In three dimensions, each point corresponds to a triple of numbers.">coordinate system</abbr> that will be used for drawing the image. It is what I called the <abbr title="As used in this book, the window, or view window, for 2D graphics is the rectangle in the xy-plane that contains the portion of the plane that will be displayed in the image. (The corresponding term in 3D graphics is &quot;view volume.&quot;)">view window</abbr> in <a href="../s3/#231--视口和建模">Subsection 2.3.1</a>. The value for viewBox is a list of four numbers, giving the minimum x-value, the minimum y-value, the width, and the height of the <abbr title="As used in this book, the window, or view window, for 2D graphics is the rectangle in the xy-plane that contains the portion of the plane that will be displayed in the image. (The corresponding term in 3D graphics is &quot;view volume.&quot;)">view window</abbr>. The width and the height must be positive, so x increases from left-to-right, and y increases from top-to-bottom. The four numbers in the list can be separated either by spaces or by commas; this is typical for lists of numbers in <abbr title="可缩放矢量图形。一种用于指定2D矢量图形的XML语言。SVG是一种场景描述语言。它旨在集成到网页中。">SVG</abbr>.</p>
<p>Finally, the preserveAspectRatio <abbr title="A property, such as color, of a graphical object. An image can be specified by the geometric shapes that it contains, together with their attributes.">attribute</abbr> tells what happens when the <abbr title="The ratio of the width, w, of a rectangle to the height, h, of the rectangle, expressed either as a ratio **w:h** or as a fraction** w/h**.">aspect ratio</abbr> of the viewBox does not match the <abbr title="The ratio of the width, w, of a rectangle to the height, h, of the rectangle, expressed either as a ratio **w:h** or as a fraction** w/h**.">aspect ratio</abbr> of the rectangle in which the image is displayed. The default value, "xMidYMid", will extend the limts on the viewBox either horizontally or vertically to preserve the <abbr title="The ratio of the width, w, of a rectangle to the height, h, of the rectangle, expressed either as a ratio **w:h** or as a fraction** w/h**.">aspect ratio</abbr>, and the viewBox will appear in the center of the display rectangle. If you would like your image to stretch to fill the display rectangle, ignoring the <abbr title="The ratio of the width, w, of a rectangle to the height, h, of the rectangle, expressed either as a ratio **w:h** or as a fraction** w/h**.">aspect ratio</abbr>, set the value of preserveAspectRatio to "none". (The <abbr title="The ratio of the width, w, of a rectangle to the height, h, of the rectangle, expressed either as a ratio **w:h** or as a fraction** w/h**.">aspect ratio</abbr> issue was discussed in <a href="../s3/#237--视窗到视口">Subsection 2.3.7</a>.)</p>
<p>Let's look at a complete <abbr title="可缩放矢量图形。一种用于指定2D矢量图形的XML语言。SVG是一种场景描述语言。它旨在集成到网页中。">SVG</abbr> document that draws a few simple shapes. Here's the document. You could probably figure out what it draws even without knowing any more about <abbr title="可缩放矢量图形。一种用于指定2D矢量图形的XML语言。SVG是一种场景描述语言。它旨在集成到网页中。">SVG</abbr>:</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?xml version=&quot;1.0&quot;?&gt;</span>
<span class="cp">&lt;!DOCTYPE svg PUBLIC &quot;-//W3C//DTD SVG 1.1//EN&quot; </span>
<span class="cp">&quot;http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd&quot;&gt;</span>
<span class="nt">&lt;svg</span><span class="w"> </span><span class="na">version=</span><span class="s">&quot;1.1&quot;</span><span class="w"> </span><span class="na">xmlns=</span><span class="s">&quot;http://www.w3.org/2000/svg&quot;</span><span class="w"> </span>
<span class="w">    </span><span class="na">xmlns:xlink=</span><span class="s">&quot;http://www.w3.org/1999/xlink&quot;</span>
<span class="w">    </span><span class="na">width=</span><span class="s">&quot;300px&quot;</span><span class="w"> </span><span class="na">height=</span><span class="s">&quot;200px&quot;</span><span class="w"> </span>
<span class="w">    </span><span class="na">viewBox=</span><span class="s">&quot;0 0 3 2&quot;</span>
<span class="w">    </span><span class="na">preserveAspectRatio=</span><span class="s">&quot;xMidYMid&quot;</span><span class="nt">&gt;</span>

<span class="nt">&lt;rect</span><span class="w"> </span><span class="na">x=</span><span class="s">&quot;0&quot;</span><span class="w"> </span><span class="na">y=</span><span class="s">&quot;0&quot;</span><span class="w"> </span><span class="na">width=</span><span class="s">&quot;3&quot;</span><span class="w"> </span><span class="na">height=</span><span class="s">&quot;2&quot;</span><span class="w"> </span>
<span class="w">                            </span><span class="na">stroke=</span><span class="s">&quot;blue&quot;</span><span class="w"> </span><span class="na">fill=</span><span class="s">&quot;none&quot;</span><span class="w"> </span><span class="na">stroke-width=</span><span class="s">&quot;0.05&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;text</span><span class="w"> </span><span class="na">x=</span><span class="s">&quot;0.2&quot;</span><span class="w"> </span><span class="na">y=</span><span class="s">&quot;0.5&quot;</span><span class="w"> </span><span class="na">font-size=</span><span class="s">&quot;0.4&quot;</span><span class="w"> </span><span class="na">fill=</span><span class="s">&quot;red&quot;</span><span class="nt">&gt;</span>Hello<span class="w"> </span>World!<span class="nt">&lt;/text&gt;</span>
<span class="nt">&lt;line</span><span class="w"> </span><span class="na">x1=</span><span class="s">&quot;0.1&quot;</span><span class="w"> </span><span class="na">y1=</span><span class="s">&quot;0.7&quot;</span><span class="w"> </span><span class="na">x2=</span><span class="s">&quot;2.9&quot;</span><span class="w"> </span><span class="na">y2=</span><span class="s">&quot;0.7&quot;</span><span class="w"> </span><span class="na">stroke-width=</span><span class="s">&quot;0.05&quot;</span><span class="w"> </span><span class="na">stroke=</span><span class="s">&quot;blue&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;ellipse</span><span class="w"> </span><span class="na">cx=</span><span class="s">&quot;1.5&quot;</span><span class="w"> </span><span class="na">cy=</span><span class="s">&quot;1.4&quot;</span><span class="w"> </span><span class="na">rx=</span><span class="s">&quot;.6&quot;</span><span class="w"> </span><span class="na">ry=</span><span class="s">&quot;.4&quot;</span><span class="w"> </span><span class="na">fill=</span><span class="s">&quot;rgb(0,255,180)&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;circle</span><span class="w"> </span><span class="na">cx=</span><span class="s">&quot;0.4&quot;</span><span class="w"> </span><span class="na">cy=</span><span class="s">&quot;1.4&quot;</span><span class="w"> </span><span class="na">r=</span><span class="s">&quot;0.3&quot;</span><span class="w"> </span>
<span class="w">                    </span><span class="na">fill=</span><span class="s">&quot;magenta&quot;</span><span class="w"> </span><span class="na">stroke=</span><span class="s">&quot;black&quot;</span><span class="w"> </span><span class="na">stroke-width=</span><span class="s">&quot;0.03&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;polygon</span><span class="w"> </span><span class="na">points=</span><span class="s">&quot;2.2,1.7 2.4,1 2.9,1.7&quot;</span><span class="w"> </span>
<span class="w">                    </span><span class="na">fill=</span><span class="s">&quot;none&quot;</span><span class="w"> </span><span class="na">stroke=</span><span class="s">&quot;green&quot;</span><span class="w"> </span><span class="na">stroke-width=</span><span class="s">&quot;0.02&quot;</span><span class="nt">/&gt;</span>

<span class="nt">&lt;/svg&gt;</span>
</code></pre></div>
<p>and here's the image that is produced by this example:</p>
<p><figure markdown="span">
    <a class="glightbox" href="../../../en/c2/first-svg-example.svg" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="pixel-coordinates" src="../../../en/c2/first-svg-example.svg" /></a>
</figure></p>
<p>In the drawing <abbr title="A way of assigning numerical coordinates to geometric points. In two dimensions, each point corresponds to a pair of numbers. In three dimensions, each point corresponds to a triple of numbers.">coordinate system</abbr> for this example, x ranges from 0 to 3, and y ranges from 0 to 2. All values used for drawing, including stroke width and font size, are given in terms of this <abbr title="A way of assigning numerical coordinates to geometric points. In two dimensions, each point corresponds to a pair of numbers. In three dimensions, each point corresponds to a triple of numbers.">coordinate system</abbr>. Remember that you can use any <abbr title="A way of assigning numerical coordinates to geometric points. In two dimensions, each point corresponds to a pair of numbers. In three dimensions, each point corresponds to a triple of numbers.">coordinate system</abbr> that you find convenient! Note, by the way, that parts of the image that are not covered by the shapes that are drawn will be transparent.</p>
<p>Here's another example, with a larger variety of shapes. The source code for this example has a lot of comments. It uses features that we will discuss in the remainer of this section.</p>
<p><figure markdown="span">
    <a class="glightbox" href="../../../en/c2/svg-starter.svg" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="pixel-coordinates" src="../../../en/c2/svg-starter.svg" /></a>
</figure></p>
<p>You can take a look at the source code, <a href="../../../en/source/svg/svg-starter.svg">svg/svg-starter.svg</a>. (For example, open it in a text editor, or open it in a web browser and use the browser's "view source" command.)</p>
</div>
</div>
</div>
<h2 id="272--shapes-styles-and-transforms">2.7.2  Shapes, Styles, and Transforms<a class="headerlink" href="#272--shapes-styles-and-transforms" title="Permanent link">&para;</a></h2>
<p><strong>Shapes, Styles, and Transforms</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="3:2"><input checked="checked" id="__tabbed_3_1" name="__tabbed_3" type="radio" /><input id="__tabbed_3_2" name="__tabbed_3" type="radio" /><div class="tabbed-labels"><label for="__tabbed_3_1">中文</label><label for="__tabbed_3_2">英文</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>在 <abbr title="可缩放矢量图形。一种用于指定2D矢量图形的XML语言。SVG是一种场景描述语言。它旨在集成到网页中。">SVG</abbr> 中，基本形状由一个元素来指定，其中标签名称给出形状，属性给出形状的属性。有一些属性用于指定几何形状，比如线的端点或圆的半径。其他属性指定样式属性，比如填充颜色和线宽。（在本书的其他地方，我称样式属性为属性；在本节中，我在其 <abbr title="eXtensible Markup Language. Not a single language as such, but a class of languages that follow certain syntax rules. For example, SVG is an XML language because it follows those rules, but it also has further restrictions on its syntax that make it appropriate for specifying 2D graphics. XML documents, like HTML documents, have a tree-like structure defined by &quot;elements.&quot; However, HTML is not an XML language since it does not follow all the syntax rules. XHTML is an alternative language for web pages that is similar to HTML but follows XML syntax rules.">XML</abbr> 意义上使用术语“<abbr title="图形对象的属性，例如颜色。图像可以通过其包含的几何形状以及它们的属性来指定。">属性</abbr>”）。还有一个 <em>transform</em> <abbr title="图形对象的属性，例如颜色。图像可以通过其包含的几何形状以及它们的属性来指定。">属性</abbr>，可以用来对形状应用几何变换。</p>
<p>举个详细的例子，考虑 rect 元素，它指定了一个矩形。矩形的几何形状通常由名为 x、y、width 和 height 的属性给出。x 和 y 的默认值是零；也就是说，它们是可选的，将它们省略与将它们的值设置为零是一样的。<em>width</em> 和 <em>height</em> 是必需的属性。它们的值必须是非负的。例如，元素</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;rect</span><span class="w"> </span><span class="na">width=</span><span class="s">&quot;3&quot;</span><span class="w"> </span><span class="na">height=</span><span class="s">&quot;2&quot;</span><span class="nt">/&gt;</span>
</code></pre></div>
<p>指定一个左上角为 (0,0)，宽为 3，高为 2 的矩形，而</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;rect</span><span class="w"> </span><span class="na">x=</span><span class="s">&quot;100&quot;</span><span class="w"> </span><span class="na">y=</span><span class="s">&quot;200&quot;</span><span class="w"> </span><span class="na">height=</span><span class="s">&quot;480&quot;</span><span class="w"> </span><span class="na">width=</span><span class="s">&quot;640&quot;</span><span class="nt">/&gt;</span>
</code></pre></div>
<p>给出一个左上角为 (100,200)，宽为 640，高为 480 的矩形。（顺便提一下，<abbr title="eXtensible Markup Language. Not a single language as such, but a class of languages that follow certain syntax rules. For example, SVG is an XML language because it follows those rules, but it also has further restrictions on its syntax that make it appropriate for specifying 2D graphics. XML documents, like HTML documents, have a tree-like structure defined by &quot;elements.&quot; However, HTML is not an XML language since it does not follow all the syntax rules. XHTML is an alternative language for web pages that is similar to HTML but follows XML syntax rules.">XML</abbr> 元素中的属性可以以任何顺序给出。）<em>rect</em> 元素还有可选属性 <em>rx</em> 和 <em>ry</em>，它们可以用来创建“圆角矩形”，其角被椭圆弧替换。<em>rx</em> 和 <em>ry</em> 的值给出了椭圆弧的水平和垂直半径。</p>
<p>样式属性可以添加来指定形状的描边和填充方式。默认情况下，使用黑色填充和无描边。（更准确地说，正如我们后面将看到的，形状默认从其环境中继承样式属性的值。黑色填充和无描边是初始环境。）这里是一些常见的样式属性：</p>
<ul>
<li><code>fill</code> — 指定如何填充形状。该值可以是“none”，表示不填充形状。它可以是颜色，格式与 <abbr title="HyperText Markup Language. A language that is used for specifying the content of web pages. An HTML document is made up of text, along with &quot;elements&quot; for adding other content, such as images, and for defining the structure of the document. Because of nesting of elements, the document can be represented by a tree-like data structure.">HTML</abbr> 画布 <abbr title="Application Programming Interface. A collection of related classes, functions, constants, etc., for performing some task. An API is an &quot;interface&quot; in the sense that it can be used without understanding how its functionality is actually implemented.">API</abbr> 中使用的 <abbr title="Cascading Style Sheets. A language that is used for specifying the style, or presentation, of the content of web pages. CSS can control things like colors, backgrounds, fonts, shadows, borders, and the size and position of elements of the page.">CSS</abbr> 颜色相同。例如，它可以是常见的颜色名称如“black”或“red”，或者是 RGB 颜色如“rgb(255,200,180)” 。还有渐变和图案填充，不过我这里不会讨论它们。</li>
<li><code>stroke</code> — 指定如何描边形状，可取与“fill”相同的值。</li>
<li><code>stroke-opacity</code> 和 <code>fill-opacity</code> — 是介于 0.0 和 1.0 之间的数字，指定描边和填充的不透明度。小于 1.0 的值会产生半透明的描边或填充。默认值为 1.0，表示完全不透明。</li>
<li><code>stroke-width</code> — 是一个数字，用于设置描边的线宽。请注意，线宽受到变换的影响。默认值是“1”，如果坐标系使用像素作为单位，则这个值是可以接受的，但在自定义坐标系中通常太宽了。</li>
<li><code>stroke-linecap</code> — 确定描边的端点外观。该值可以是“square”、“round”或“butt”。默认值是“butt”。（有关线端点和连接处的讨论，请参见 <a href="../s2/#221--基本形状">2.2.1 小节</a>。）</li>
<li><code>stroke-linejoin</code> — 确定描边的两个线段相交处的外观。该值可以是“miter”、“round”或“bevel”。默认值是“miter”。</li>
</ul>
<p>作为一个使用了许多这些选项的示例，让我们创建一个正方形，其角被圆化而不是尖锐化，大小为 1，居中于原点，并使用半透明的红色填充和灰色描边：</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;rect</span><span class="w"> </span><span class="na">x=</span><span class="s">&quot;-0.5&quot;</span><span class="w"> </span><span class="na">y=</span><span class="s">&quot;-0.5&quot;</span><span class="w"> </span><span class="na">width=</span><span class="s">&quot;1&quot;</span><span class="w"> </span><span class="na">height=</span><span class="s">&quot;1&quot;</span><span class="w"> </span>
<span class="w">        </span><span class="na">rx=</span><span class="s">&quot;0.1&quot;</span><span class="w"> </span><span class="na">ry=</span><span class="s">&quot;0.1&quot;</span>
<span class="w">        </span><span class="na">fill=</span><span class="s">&quot;red&quot;</span><span class="w"> </span><span class="na">fill-opacity=</span><span class="s">&quot;0.5&quot;</span>
<span class="w">        </span><span class="na">stroke=</span><span class="s">&quot;gray&quot;</span><span class="w"> </span><span class="na">stroke-width=</span><span class="s">&quot;0.05&quot;</span><span class="w"> </span><span class="na">stroke-linejoin=</span><span class="s">&quot;round&quot;</span><span class="nt">/&gt;</span>
</code></pre></div>
<p>以及一个简单的矩形轮廓，没有填充：</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;rect</span><span class="w"> </span><span class="na">width=</span><span class="s">&quot;200&quot;</span><span class="w"> </span><span class="na">height=</span><span class="s">&quot;100&quot;</span><span class="w"> </span><span class="na">stroke=</span><span class="s">&quot;black&quot;</span><span class="w"> </span><span class="na">fill=</span><span class="s">&quot;none&quot;</span><span class="nt">/&gt;</span>
</code></pre></div>
<hr />
<p><em>transform</em> 属性可以用来对形状应用一个或一系列变换。举个例子，我们可以让一个矩形与水平线倾斜 30 度：</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;rect</span><span class="w"> </span><span class="na">width=</span><span class="s">&quot;100&quot;</span><span class="w"> </span><span class="na">height=</span><span class="s">&quot;50&quot;</span><span class="w"> </span><span class="na">transform=</span><span class="s">&quot;rotate(30)&quot;</span><span class="nt">/&gt;</span>
</code></pre></div>
<p>值"rotate(30)"表示围绕原点 (0,0) <abbr title="一种几何变换，它围绕某个点（在2D中）或轴（在3D中）旋转每个点到指定角度。">旋转</abbr> 30 度（不是弧度！）。正旋转方向通常将正 x 轴旋转到正 y 轴的方向。你可以通过为 rotate 添加参数来指定不同的旋转中心。例如，要围绕相同的矩形中心旋转：</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;rect</span><span class="w"> </span><span class="na">width=</span><span class="s">&quot;100&quot;</span><span class="w"> </span><span class="na">height=</span><span class="s">&quot;50&quot;</span><span class="w"> </span><span class="na">transform=</span><span class="s">&quot;rotate(30,50,25)&quot;</span><span class="nt">/&gt;</span>
</code></pre></div>
<p>平移和缩放的工作方式与您可能期望的一样，使用形式为 "translate(dx,dy)" 和 "scale(sx,sy)" 的 transform 值。还有剪切变换，但它们的名称为 <em>skewX</em> 和 <em>skewY</em>，参数是倾斜角而不是剪切量。例如，transform "skewX(45)" 将 y 轴倾斜 45 度，等价于 x 方向的剪切，剪切因子为 1。（将 y 轴倾斜的函数称为 <em>skewX</em>，因为它修改或倾斜了点的 x <abbr title="一种将数值坐标分配给几何点的方法。在二维中，每个点对应一对数字。在三维中，每个点对应一组三个数字。">坐标</abbr>，而保持它们的 y 坐标不变。）例如，我们可以使用 <em>skewX</em> 将一个矩形倾斜，并将其变成平行四边形：</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;rect</span><span class="w"> </span><span class="na">width=</span><span class="s">&quot;100&quot;</span><span class="w"> </span><span class="na">height=</span><span class="s">&quot;50&quot;</span><span class="w"> </span><span class="na">transform=</span><span class="s">&quot;skewX(-30)&quot;</span><span class="nt">/&gt;</span>
</code></pre></div>
<p>我使用了 -30 度的角度，以便在常规像素坐标系统中使矩形向右倾斜。</p>
<p><em>transform</em> 属性的值可以是一系列用空格或逗号分隔的变换。与通常相反的顺序应用这些变换到对象上，与它们被列出的顺序相反。所以，</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;rect</span><span class="w"> </span><span class="na">width=</span><span class="s">&quot;100&quot;</span><span class="w"> </span><span class="na">height=</span><span class="s">&quot;50&quot;</span><span class="w"> </span>
<span class="w">        </span><span class="na">transform=</span><span class="s">&quot;translate(0,50) rotate(45) skewX(-30)&quot;</span><span class="nt">/&gt;</span>
</code></pre></div>
<p>首先将矩形倾斜成平行四边形，然后围绕原点旋转平行四边形 45 度，最后沿 y 方向平移 50 个单位。</p>
<hr />
<p>除了矩形外，<abbr title="可缩放矢量图形。一种用于指定2D矢量图形的XML语言。SVG是一种场景描述语言。它旨在集成到网页中。">SVG</abbr> 还有线条、圆、椭圆和文本作为基本形状。以下是一些详细信息。一个 <code>&lt;line&gt;</code> 元素表示一条线段，具有几何属性 x1、y1、x2 和 y2 来指定线段端点的坐标。这四个属性的默认值为零，这样更容易指定水平和垂直线。例如，</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;line</span><span class="w"> </span><span class="na">x1=</span><span class="s">&quot;100&quot;</span><span class="w"> </span><span class="na">x2=</span><span class="s">&quot;300&quot;</span><span class="w"> </span><span class="na">stroke=</span><span class="s">&quot;black&quot;</span><span class="nt">/&gt;</span>
</code></pre></div>
<p>如果没有 <em>stroke</em> <abbr title="图形对象的属性，例如颜色。图像可以通过其包含的几何形状以及它们的属性来指定。">属性</abbr>，你就看不到这条线，因为 <em>stoke</em> 的默认值是“none”。</p>
<p>对于 <code>&lt;circle&gt;</code> 元素，几何属性是 cx、cy 和 r，给出圆的中心坐标和半径。中心坐标的默认值为零。对于 <code>&lt;ellipse&gt;</code> 元素，属性是 cx、cy、rx 和 ry，其中 rx 和 ry 给出椭圆在 x 和 y 方向的半径。</p>
<p>一个 <code>&lt;text&gt;</code> 元素略有不同。它有属性 x 和 y，默认值为零，用于指定文本的基点位置。然而，文本本身是作为元素的内容而不是属性给出的。也就是说，该元素分为开始标记和结束标记，文本出现在开始和结束标记之间。例如，</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;text</span><span class="w"> </span><span class="na">x=</span><span class="s">&quot;10&quot;</span><span class="w"> </span><span class="na">y=</span><span class="s">&quot;30&quot;</span><span class="nt">&gt;</span>这段文本将出现在图像中<span class="w"> </span><span class="nt">&lt;/text&gt;</span>
</code></pre></div>
<p>通常的描边和填充属性适用于文本，但文本有额外的样式属性。<em>font-family</em> 属性指定字体本身。它的值可以是一种通用字体名称 "serif"、"sans-serif"、"monospace"，或系统中可用的特定字体名称。<em>font-size</em> 可以是一个给出字符在坐标系中（近似）高度的数字。（字体大小受坐标和建模变换的影响，就像任何其他长度一样。）通过将 <em>font-weight</em> 设置为 "bold" 和 <em>font-style</em> 设置为 "italic"，你可以获得粗体和斜体文本。以下是一个使用了所有这些选项，并施加了一些额外样式和变换的示例：</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;text</span><span class="w"> </span><span class="na">x=</span><span class="s">&quot;10&quot;</span><span class="w"> </span><span class="na">y=</span><span class="s">&quot;30&quot;</span><span class="w"> </span>
<span class="w">    </span><span class="na">font-family=</span><span class="s">&quot;sans-serif&quot;</span><span class="w"> </span><span class="na">font-size=</span><span class="s">&quot;50&quot;</span><span class="w"> </span>
<span class="w">    </span><span class="na">font-style=</span><span class="s">&quot;italic&quot;</span><span class="w"> </span><span class="na">font-weight=</span><span class="s">&quot;bold&quot;</span>
<span class="w">    </span><span class="na">stroke=</span><span class="s">&quot;black&quot;</span><span class="w"> </span><span class="na">stroke-width=</span><span class="s">&quot;1&quot;</span><span class="w"> </span><span class="na">fill=</span><span class="s">&quot;rgb(255,200,0)&quot;</span>
<span class="w">    </span><span class="na">transform=</span><span class="s">&quot;rotate(20)&quot;</span><span class="nt">&gt;</span>Hello<span class="w"> </span>World<span class="nt">&lt;/text&gt;</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p>In <abbr title="可缩放矢量图形。一种用于指定2D矢量图形的XML语言。SVG是一种场景描述语言。它旨在集成到网页中。">SVG</abbr>, a basic shape is specified by an element in which the tag name gives the shape, and <abbr title="A property, such as color, of a graphical object. An image can be specified by the geometric shapes that it contains, together with their attributes.">attributes</abbr> give the properties of the shape. There are <abbr title="A property, such as color, of a graphical object. An image can be specified by the geometric shapes that it contains, together with their attributes.">attributes</abbr> to specify the geometry, such as the endpoints of a line or the radius of a circle. Other <abbr title="A property, such as color, of a graphical object. An image can be specified by the geometric shapes that it contains, together with their attributes.">attributes</abbr> specify style properties, such as fill color and line width. (The style properties are what I call <abbr title="A property, such as color, of a graphical object. An image can be specified by the geometric shapes that it contains, together with their attributes.">attributes</abbr> elsewhere in this book; in this section, I am using the term "<abbr title="A property, such as color, of a graphical object. An image can be specified by the geometric shapes that it contains, together with their attributes.">attribute</abbr>" in its <abbr title="eXtensible Markup Language. Not a single language as such, but a class of languages that follow certain syntax rules. For example, SVG is an XML language because it follows those rules, but it also has further restrictions on its syntax that make it appropriate for specifying 2D graphics. XML documents, like HTML documents, have a tree-like structure defined by &quot;elements.&quot; However, HTML is not an XML language since it does not follow all the syntax rules. XHTML is an alternative language for web pages that is similar to HTML but follows XML syntax rules.">XML</abbr> sense.) And there is a <em>transform</em> <abbr title="A property, such as color, of a graphical object. An image can be specified by the geometric shapes that it contains, together with their attributes.">attribute</abbr> that can be used to apply a <abbr title="A coordinate transformation; that is, a function that can be applied to each of the points in a geometric object to produce a new object. Common transforms include scaling, rotation, and translation.">geometric transform</abbr> to the shape.</p>
<p>For a detailed example, consider the rect element, which specifies a rectangle. The geometry of the rectangle is given by <abbr title="A property, such as color, of a graphical object. An image can be specified by the geometric shapes that it contains, together with their attributes.">attributes</abbr> named x, y, width and height in the usual way. The default value for x and y is zero; that is, they are optional, and leaving them out is the same as setting their value to zero. The <em>width</em> and the height are required <abbr title="A property, such as color, of a graphical object. An image can be specified by the geometric shapes that it contains, together with their attributes.">attributes</abbr>. Their values must be non-negative. For example, the element</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;rect</span><span class="w"> </span><span class="na">width=</span><span class="s">&quot;3&quot;</span><span class="w"> </span><span class="na">height=</span><span class="s">&quot;2&quot;</span><span class="nt">/&gt;</span>
</code></pre></div>
<p>specifies a rectangle with corner at (0,0), width 3, and height 2, while</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;rect</span><span class="w"> </span><span class="na">x=</span><span class="s">&quot;100&quot;</span><span class="w"> </span><span class="na">y=</span><span class="s">&quot;200&quot;</span><span class="w"> </span><span class="na">height=</span><span class="s">&quot;480&quot;</span><span class="w"> </span><span class="na">width=</span><span class="s">&quot;640&quot;</span><span class="nt">/&gt;</span>
</code></pre></div>
<p>gives a rectangle with corner at (100,200), width 640, and height 480. (Note, by the way, that the <abbr title="A property, such as color, of a graphical object. An image can be specified by the geometric shapes that it contains, together with their attributes.">attributes</abbr> in an <abbr title="eXtensible Markup Language. Not a single language as such, but a class of languages that follow certain syntax rules. For example, SVG is an XML language because it follows those rules, but it also has further restrictions on its syntax that make it appropriate for specifying 2D graphics. XML documents, like HTML documents, have a tree-like structure defined by &quot;elements.&quot; However, HTML is not an XML language since it does not follow all the syntax rules. XHTML is an alternative language for web pages that is similar to HTML but follows XML syntax rules.">XML</abbr> element can be given in any order.) The <em>rect</em> element also has optional <abbr title="A property, such as color, of a graphical object. An image can be specified by the geometric shapes that it contains, together with their attributes.">attributes</abbr> <em>rx</em> and <em>ry</em> that can be used to make "roundRects," with their corners replaced by elliptical arcs. The values of <em>rx</em> and <em>ry</em> give the horizontal and vertical radii of the elliptical arcs.</p>
<p>Style <abbr title="A property, such as color, of a graphical object. An image can be specified by the geometric shapes that it contains, together with their attributes.">attributes</abbr> can be added to say how the shape should be stroked and filled. The default is to use a black fill and no stroke. (More precisely, as we will see later, the default is for a shape to inherit the values of style <abbr title="A property, such as color, of a graphical object. An image can be specified by the geometric shapes that it contains, together with their attributes.">attributes</abbr> from its environment. Black fill and no stroke is the initial environment.) Here are some common style <abbr title="A property, such as color, of a graphical object. An image can be specified by the geometric shapes that it contains, together with their attributes.">attributes</abbr>:</p>
<ul>
<li><code>fill</code> — specifies how to fill the shape. The value can be "none" to indicate that the shape is not filled. It can be a color, in the same format as the <abbr title="Cascading Style Sheets. A language that is used for specifying the style, or presentation, of the content of web pages. CSS can control things like colors, backgrounds, fonts, shadows, borders, and the size and position of elements of the page.">CSS</abbr> colors that are used in the <abbr title="HyperText Markup Language. A language that is used for specifying the content of web pages. An HTML document is made up of text, along with &quot;elements&quot; for adding other content, such as images, and for defining the structure of the document. Because of nesting of elements, the document can be represented by a tree-like data structure.">HTML</abbr> canvas <abbr title="Application Programming Interface. A collection of related classes, functions, constants, etc., for performing some task. An API is an &quot;interface&quot; in the sense that it can be used without understanding how its functionality is actually implemented.">API</abbr>. For example, it can be a common color name such as "black" or "red", or an <abbr title="A color specified by three numbers giving the amount of red, green, and blue in the color.">RGB color</abbr> such as "rgb(255,200,180)". There are also <abbr title="A pattern of color produced by assigning colors to certain reference points and computing color for other points by interpolating or extrapolating colors from the reference points. The effect is a color progression along line segments between reference points. Different rules for extending the colors beyond those lines produce different types of gradient, such as linear gradients and radial gradients.">gradient</abbr> and pattern fills, though I will not discuss them here.</li>
<li><code>stroke</code> — specifies how to stroke the shape, with the same possible values as "fill".
stroke-opacity and fill-opacity — are numbers between 0.0 and 1.0 that specify the opacity of the stroke and fill. Values less than 1.0 give a translucent stroke or fill. The default value, 1.0, means fully opaque.</li>
<li><code>stroke-width</code> — is a number that sets the line width to use for the stroke. Note that the line width is subject to transforms. The default value is "1", which is fine if the <abbr title="A way of assigning numerical coordinates to geometric points. In two dimensions, each point corresponds to a pair of numbers. In three dimensions, each point corresponds to a triple of numbers.">coordinate system</abbr> is using <abbr title="A digital image is made up of rows and columns of small rectangles called pixels. To specify a digital image, a color is assigned to each pixel in the image.">pixels</abbr> as the unit of measure, but often too wide in custom <abbr title="A way of assigning numerical coordinates to geometric points. In two dimensions, each point corresponds to a pair of numbers. In three dimensions, each point corresponds to a triple of numbers.">coordinate systems</abbr>.</li>
<li><code>stroke-linecap</code> — determines the appearance of the endpoints of a stroke. The value can be "square", "round", or "butt". The default is "butt". (See <a href="../s2/#221--基本形状">Subsection 2.2.1</a> for a discussion of line caps and joins.)</li>
<li><code>stroke-linejoin</code> — determines the appearance of points where two segments of a stroke meet. The values can be "miter", "round", or "bevel". The default is "miter".</li>
</ul>
<p>As an example that uses many of these options, let's make a square that is rounded rather than pointed at the corners, with size 1, centered at the origin, and using a translucent red fill and a gray stroke:</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;rect</span><span class="w"> </span><span class="na">x=</span><span class="s">&quot;-0.5&quot;</span><span class="w"> </span><span class="na">y=</span><span class="s">&quot;-0.5&quot;</span><span class="w"> </span><span class="na">width=</span><span class="s">&quot;1&quot;</span><span class="w"> </span><span class="na">height=</span><span class="s">&quot;1&quot;</span><span class="w"> </span>
<span class="w">        </span><span class="na">rx=</span><span class="s">&quot;0.1&quot;</span><span class="w"> </span><span class="na">ry=</span><span class="s">&quot;0.1&quot;</span>
<span class="w">        </span><span class="na">fill=</span><span class="s">&quot;red&quot;</span><span class="w"> </span><span class="na">fill-opacity=</span><span class="s">&quot;0.5&quot;</span>
<span class="w">        </span><span class="na">stroke=</span><span class="s">&quot;gray&quot;</span><span class="w"> </span><span class="na">stroke-width=</span><span class="s">&quot;0.05&quot;</span><span class="w"> </span><span class="na">stroke-linejoin=</span><span class="s">&quot;round&quot;</span><span class="nt">/&gt;</span>
</code></pre></div>
<p>and a simple outline of a rectangle with no fill:</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;rect</span><span class="w"> </span><span class="na">width=</span><span class="s">&quot;200&quot;</span><span class="w"> </span><span class="na">height=</span><span class="s">&quot;100&quot;</span><span class="w"> </span><span class="na">stroke=</span><span class="s">&quot;black&quot;</span><span class="w"> </span><span class="na">fill=</span><span class="s">&quot;none&quot;</span><span class="nt">/&gt;</span>
</code></pre></div>
<hr />
<p>The <em>transform</em> <abbr title="A property, such as color, of a graphical object. An image can be specified by the geometric shapes that it contains, together with their attributes.">attribute</abbr> can be used to apply a transform or a series of transforms to a shape. As an example, we can make a rectangle tilted 30 degrees from the horizontal:</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;rect</span><span class="w"> </span><span class="na">width=</span><span class="s">&quot;100&quot;</span><span class="w"> </span><span class="na">height=</span><span class="s">&quot;50&quot;</span><span class="w"> </span><span class="na">transform=</span><span class="s">&quot;rotate(30)&quot;</span><span class="nt">/&gt;</span>
</code></pre></div>
<p>The value "rotate(30)" represents a <abbr title="A geometric transform that rotates each point by a specified angle about some point (in 2D) or axis (in 3D).">rotation</abbr> of 30 degrees (not radians!) about the origin, (0,0). The positive direction of <abbr title="A geometric transform that rotates each point by a specified angle about some point (in 2D) or axis (in 3D).">rotation</abbr>, as usual, rotates the positive x-axis in the direction of the positive y-axis. You can specify a different center of <abbr title="A geometric transform that rotates each point by a specified angle about some point (in 2D) or axis (in 3D).">rotation</abbr> by adding arguments to rotate. For example, to rotate the same rectangle about its center</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;rect</span><span class="w"> </span><span class="na">width=</span><span class="s">&quot;100&quot;</span><span class="w"> </span><span class="na">height=</span><span class="s">&quot;50&quot;</span><span class="w"> </span><span class="na">transform=</span><span class="s">&quot;rotate(30,50,25)&quot;</span><span class="nt">/&gt;</span>
</code></pre></div>
<p>Translation and <abbr title="A geometric transform that multiplies each coordinate of a point by a number called the scaling factor. Scaling increases or decreases the size of an object, but also moves its points closer to or farther from the origin. Scaling can be uniform—the same in every direction—or non-uniform—with a different scaling factor in each coordinate direction. A negative scaling factor can be used to apply a reflection.">scaling</abbr> work as you probably expect, with transform values of the form "translate(dx,dy)" and "scale(sx,sy)". There are also shear transforms, but they go by the names <em>skewX</em> and <em>skewY</em>, and the argument is a skew angle rather than a shear amount. For example, the transform "skewX(45)" tilts the y-axis by 45 degrees and is equivalent to an x-shear with shear factor 1. (The function that tilts the y-axis is called <em>skewX</em> because it modifies, or skews, the x-coordinates of points while leaving their y-coordinates unchanged.) For example, we can use <em>skewX</em> to tilt a rectangle and make it into a parallelogram:</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;rect</span><span class="w"> </span><span class="na">width=</span><span class="s">&quot;100&quot;</span><span class="w"> </span><span class="na">height=</span><span class="s">&quot;50&quot;</span><span class="w"> </span><span class="na">transform=</span><span class="s">&quot;skewX(-30)&quot;</span><span class="nt">/&gt;</span>
</code></pre></div>
<p>I used an angle of -30 degrees to make the rectangle tilt to the right in the usual <abbr title="A digital image is made up of rows and columns of small rectangles called pixels. To specify a digital image, a color is assigned to each pixel in the image.">pixel</abbr> <abbr title="A way of assigning numerical coordinates to geometric points. In two dimensions, each point corresponds to a pair of numbers. In three dimensions, each point corresponds to a triple of numbers.">coordinate system</abbr>.</p>
<p>The value of the <em>transform</em> <abbr title="A property, such as color, of a graphical object. An image can be specified by the geometric shapes that it contains, together with their attributes.">attribute</abbr> can be a list of transforms, separated by spaces or commas. The transforms are applied to the object, as usual, in the opposite of the order in which they are listed. So,</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;rect</span><span class="w"> </span><span class="na">width=</span><span class="s">&quot;100&quot;</span><span class="w"> </span><span class="na">height=</span><span class="s">&quot;50&quot;</span><span class="w"> </span>
<span class="w">        </span><span class="na">transform=</span><span class="s">&quot;translate(0,50) rotate(45) skewX(-30)&quot;</span><span class="nt">/&gt;</span>
</code></pre></div>
<p>would first skew the rectangle into a parallelogram, then rotate the parallelogram by 45 degrees about the origin, then translate it by 50 units in the y-direction.</p>
<hr />
<p>In addition to rectangles, <abbr title="可缩放矢量图形。一种用于指定2D矢量图形的XML语言。SVG是一种场景描述语言。它旨在集成到网页中。">SVG</abbr> has lines, circles, ellipses, and text as basic shapes. Here are some details. A <code>&lt;line&gt;</code> element represents a line segement and has geometric <abbr title="A property, such as color, of a graphical object. An image can be specified by the geometric shapes that it contains, together with their attributes.">attributes</abbr> x1, y1, x2, and y2 to specify the coordinates of the endpoints of the line segment. These four <abbr title="A property, such as color, of a graphical object. An image can be specified by the geometric shapes that it contains, together with their attributes.">attributes</abbr> have zero as default value, which makes it easier to specify horizontal and vertical lines. For example,</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;line</span><span class="w"> </span><span class="na">x1=</span><span class="s">&quot;100&quot;</span><span class="w"> </span><span class="na">x2=</span><span class="s">&quot;300&quot;</span><span class="w"> </span><span class="na">stroke=</span><span class="s">&quot;black&quot;</span><span class="nt">/&gt;</span>
</code></pre></div>
<p>Without the <em>stroke</em> <abbr title="A property, such as color, of a graphical object. An image can be specified by the geometric shapes that it contains, together with their attributes.">attribute</abbr>, you wouldn't see the line, since the default value for <em>stoke</em> is "none".</p>
<p>For a <code>&lt;circle&gt;</code> element, the geometric <abbr title="A property, such as color, of a graphical object. An image can be specified by the geometric shapes that it contains, together with their attributes.">attributes</abbr> are cx, cy, and r giving the coordinates of the center of the circle and the radius. The center coordinates have default values equal to zero. For an <code>&lt;ellipse&gt;</code> element, the <abbr title="A property, such as color, of a graphical object. An image can be specified by the geometric shapes that it contains, together with their attributes.">attributes</abbr> are cx, cy, rx, and ry, where rx and ry give the radii of the ellipse in the x- and y-directions.</p>
<p>A <code>&lt;text&gt;</code> element is a little different. It has <abbr title="A property, such as color, of a graphical object. An image can be specified by the geometric shapes that it contains, together with their attributes.">attributes</abbr> x and y, with default values zero, to specify the location of the basepoint of the text. However, the text itself is given as the content of the element rather than as an <abbr title="A property, such as color, of a graphical object. An image can be specified by the geometric shapes that it contains, together with their attributes.">attribute</abbr>. That is, the element is divided into a start tag and an end tag, and the text that will appear in the drawing comes between the start and end tags. For example,</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;text</span><span class="w"> </span><span class="na">x=</span><span class="s">&quot;10&quot;</span><span class="w"> </span><span class="na">y=</span><span class="s">&quot;30&quot;</span><span class="nt">&gt;</span>This<span class="w"> </span>text<span class="w"> </span>will<span class="w"> </span>appear<span class="w"> </span>in<span class="w"> </span>the<span class="w"> </span>image<span class="w"> </span><span class="nt">&lt;/text&gt;</span>
</code></pre></div>
<p>The usual stroke and fill <abbr title="A property, such as color, of a graphical object. An image can be specified by the geometric shapes that it contains, together with their attributes.">attributes</abbr> apply to text, but text has additional style <abbr title="A property, such as color, of a graphical object. An image can be specified by the geometric shapes that it contains, together with their attributes.">attributes</abbr>. The <em>font-family</em> <abbr title="A property, such as color, of a graphical object. An image can be specified by the geometric shapes that it contains, together with their attributes.">attribute</abbr> specifies the font itself. Its value can be one of the generic font names "serif", "sans-serif", "monospace", or the name of a specific font that is available on the system. The <em>font-size</em> can be a number giving the (approximate) height of the characters in the <abbr title="A way of assigning numerical coordinates to geometric points. In two dimensions, each point corresponds to a pair of numbers. In three dimensions, each point corresponds to a triple of numbers.">coordinate system</abbr>. (Font size is subject to coordinate and modeling transforms like any other length.) You can get bold and italic text by setting <em>font-weight</em> equal to "bold" and <em>font-style</em> equal to "italic". Here is an example that uses all of these options, and applies some additional styles and a transform for good measure:</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;text</span><span class="w"> </span><span class="na">x=</span><span class="s">&quot;10&quot;</span><span class="w"> </span><span class="na">y=</span><span class="s">&quot;30&quot;</span><span class="w"> </span>
<span class="w">    </span><span class="na">font-family=</span><span class="s">&quot;sans-serif&quot;</span><span class="w"> </span><span class="na">font-size=</span><span class="s">&quot;50&quot;</span><span class="w"> </span>
<span class="w">    </span><span class="na">font-style=</span><span class="s">&quot;italic&quot;</span><span class="w"> </span><span class="na">font-weight=</span><span class="s">&quot;bold&quot;</span>
<span class="w">    </span><span class="na">stroke=</span><span class="s">&quot;black&quot;</span><span class="w"> </span><span class="na">stroke-width=</span><span class="s">&quot;1&quot;</span><span class="w"> </span><span class="na">fill=</span><span class="s">&quot;rgb(255,200,0)&quot;</span>
<span class="w">    </span><span class="na">transform=</span><span class="s">&quot;rotate(20)&quot;</span><span class="nt">&gt;</span>Hello<span class="w"> </span>World<span class="nt">&lt;/text&gt;</span>
</code></pre></div>
</div>
</div>
</div>
<h2 id="273--polygons-and-paths">2.7.3  Polygons and Paths<a class="headerlink" href="#273--polygons-and-paths" title="Permanent link">&para;</a></h2>
<p><strong>Polygons and Paths</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="4:2"><input checked="checked" id="__tabbed_4_1" name="__tabbed_4" type="radio" /><input id="__tabbed_4_2" name="__tabbed_4" type="radio" /><div class="tabbed-labels"><label for="__tabbed_4_1">中文</label><label for="__tabbed_4_2">英文</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p><abbr title="可缩放矢量图形。一种用于指定2D矢量图形的XML语言。SVG是一种场景描述语言。它旨在集成到网页中。">SVG</abbr> 具有一些很好的功能，可以制作更复杂的形状。<code>&lt;polygon&gt;</code> 元素使得从一系列坐标对创建多边形变得容易。例如，</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;polygon</span><span class="w"> </span><span class="na">points=</span><span class="s">&quot;0,0 100,0 100,75 50,100 0,75&quot;</span><span class="nt">/&gt;</span>
</code></pre></div>
<p>创建了一个五边形，顶点分别在 (0,0)、(100,0)、(100,75)、(50,100) 和 (0,75) 处。<em>points</em> 属性中的每一对数字指定一个顶点。数字可以用空格或逗号分隔。我在这里使用了混合的空格和逗号，以清楚地显示数字的配对。当然，你可以给多边形元素添加通常的描边和填充样式属性。<code>&lt;polyline&gt;</code> 类似于 <code>&lt;polygon&gt;</code>，不同之处在于它将最后一个线段从最后一个顶点返回到起始顶点的部分省略了。这种差异只在描边时才会显示出来；填充多边形时，会将缺失的边添加进去。</p>
<p><code>&lt;path&gt;</code> 元素更加有趣。事实上，除了文本之外，所有其他基本形状都可以用路径元素制作。路径可以由直线段、贝塞尔曲线和椭圆弧组成（尽管我不会在这里讨论椭圆弧）。指定路径的语法非常简洁，它具有一些我们之前未见过的特性。路径元素具有一个名为 d 的属性，其中包含路径的数据。数据由一个或多个命令组成，每个命令由一个单独的字母后跟命令所需的任何数据组成。你已经熟悉的 moveTo、lineTo、cubic Bezier 和 quadratic Bezier 命令由字母 M、L、C 和 Q 编码。关闭路径段的命令是 Z，它不需要数据。例如，路径数据 "M 10 20 L 100 200" 将绘制一条线段，从点 (10,20) 到点 (100,200)。你可以将几个连接的线段组合成一个 L 命令。例如，上面给出的 <code>&lt;polygon&gt;</code> 示例可以使用 <code>&lt;path&gt;</code> 元素创建：</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;path</span><span class="w"> </span><span class="na">d=</span><span class="s">&quot;M 0,0 L 100,0 100,75 50,100 0,75 Z&quot;</span><span class="nt">/&gt;</span>
</code></pre></div>
<p>数据末尾的 Z 关闭了路径，通过添加最后一条边，形成多边形。（请注意，和往常一样，你可以在数据中使用逗号或空格。）</p>
<p>C 命令使用六个数字作为数据，来指定三次贝塞尔曲线段的两个控制点和最终端点。你也可以给出多个六个值来获得一系列连接的曲线段。类似地，Q 命令使用四个数据值来指定二次贝塞尔曲线段的控制点和最终端点。前面在本节图片中展示的大、弯曲、黄色形状是通过两个线段和两个贝塞尔曲线段创建的路径：</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;path</span><span class="w"> </span>
<span class="na">d=</span><span class="s">&quot;M 20,70 C 150,70 250,350 380,350 L 380,380 C 250,380 150,100 20,100 Z&quot;</span>
<span class="na">fill=</span><span class="s">&quot;yellow&quot;</span><span class="w"> </span><span class="na">stroke-width=</span><span class="s">&quot;2&quot;</span><span class="w"> </span><span class="na">stroke=</span><span class="s">&quot;black&quot;</span><span class="nt">/&gt;</span>
</code></pre></div>
<p><abbr title="可缩放矢量图形。一种用于指定2D矢量图形的XML语言。SVG是一种场景描述语言。它旨在集成到网页中。">SVG</abbr> 路径通过定义路径命令的 "相对" 版本来增加了灵活性，其中命令的数据相对于当前位置给出。例如，相对移动命令不是告诉要移动到哪里，而是告诉从当前位置移动多远。路径命令的相对版本的名称是小写字母，而不是大写字母。"M 10,20" 意味着移动到坐标 (10,20) 的点，而 "m 10,20" 意味着从当前位置水平移动 10 个单位，垂直移动 20 个单位。类似地，如果当前位置是 (x,y)，则命令 "l 3,5"（第一个字符是小写的 L）会从 (x,y) 绘制一条线到 (x+3,y+5)。</p>
</div>
<div class="tabbed-block">
<p><abbr title="可缩放矢量图形。一种用于指定2D矢量图形的XML语言。SVG是一种场景描述语言。它旨在集成到网页中。">SVG</abbr> has some nice features for making more complex shapes. The <code>&lt;polygon&gt;</code> element makes it easy to create a <abbr title="A multi-sided shape lying in a plane and specified by a list of points, called its vertices, and made up of the line segments from each point in the list to the next point in the list, plus a line segment from the last point in the list to the first point. All the points are required to lie in the same plane. Sometimes the term &quot;polygon&quot; includes the interior of the shape as well as its boundary.">polygon</abbr> from a list of coordinate pairs. For example,</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;polygon</span><span class="w"> </span><span class="na">points=</span><span class="s">&quot;0,0 100,0 100,75 50,100 0,75&quot;</span><span class="nt">/&gt;</span>
</code></pre></div>
<p>creates a five-sided <abbr title="A multi-sided shape lying in a plane and specified by a list of points, called its vertices, and made up of the line segments from each point in the list to the next point in the list, plus a line segment from the last point in the list to the first point. All the points are required to lie in the same plane. Sometimes the term &quot;polygon&quot; includes the interior of the shape as well as its boundary.">polygon</abbr> with vertices at (0,0), (100,0), (100,75), (50,100), and (0,75). Every pair of numbers in the <em>points</em> <abbr title="A property, such as color, of a graphical object. An image can be specified by the geometric shapes that it contains, together with their attributes.">attribute</abbr> specifies a <abbr title="One of the points that define a geometric primitive, such as the two endpoints of a line segment or the three vertices of a triangle. (The plural is &quot;vertices.&quot;) A vertex can be specified in a coordinate system by giving its x and y coordinates in 2D graphics, or its x, y, and z coordinates in 3D graphics.">vertex</abbr>. The numbers can be separated by either spaces or commas. I've used a mixture of spaces and commas here to make it clear how the numbers pair up. Of course, you can add the usual style <abbr title="A property, such as color, of a graphical object. An image can be specified by the geometric shapes that it contains, together with their attributes.">attributes</abbr> for stroke and fill to the <abbr title="A multi-sided shape lying in a plane and specified by a list of points, called its vertices, and made up of the line segments from each point in the list to the next point in the list, plus a line segment from the last point in the list to the first point. All the points are required to lie in the same plane. Sometimes the term &quot;polygon&quot; includes the interior of the shape as well as its boundary.">polygon</abbr> element. A <code>&lt;polyline&gt;</code> is similar to a <code>&lt;polygon&gt;</code>, except that it leaves out the last line from the final <abbr title="One of the points that define a geometric primitive, such as the two endpoints of a line segment or the three vertices of a triangle. (The plural is &quot;vertices.&quot;) A vertex can be specified in a coordinate system by giving its x and y coordinates in 2D graphics, or its x, y, and z coordinates in 3D graphics.">vertex</abbr> back to the starting <abbr title="One of the points that define a geometric primitive, such as the two endpoints of a line segment or the three vertices of a triangle. (The plural is &quot;vertices.&quot;) A vertex can be specified in a coordinate system by giving its x and y coordinates in 2D graphics, or its x, y, and z coordinates in 3D graphics.">vertex</abbr>. The difference only shows up when a polyline is stroked; a polyline is filled as if the missing side were added.</p>
<p>The <code>&lt;path&gt;</code> element is much more interesting. In fact, all of the other basic shapes, except text, could be made using path elements. A path can consist of line segments, Bezier curves, and elliptical arcs (although I won't discuss elliptical arcs here). The syntax for specifying a path is very succinct, and it has some features that we have not seen before. A path element has an <abbr title="A property, such as color, of a graphical object. An image can be specified by the geometric shapes that it contains, together with their attributes.">attribute</abbr> named d that contains the data for the path. The data consists of one or more commands, where each command consists of a single letter followed by any data necessary for the command. The moveTo, lineTo, cubic Bezier, and quadratic Bezier commands that you are already familiar with are coded by the letters M, L, C, and Q. The command for closing a path segment is Z, and it requires no data. For example the path data "M 10 20 L 100 200" would draw a line segment from the point (10,20) to the point (100,200). You can combine several connected line segments into one L command. For example, the <code>&lt;polygon&gt;</code> example given above could be created using the <code>&lt;path&gt;</code> element</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;path</span><span class="w"> </span><span class="na">d=</span><span class="s">&quot;M 0,0 L 100,0 100,75 50,100 0,75 Z&quot;</span><span class="nt">/&gt;</span>
</code></pre></div>
<p>The Z at the end of the data closes the path by adding the final side to the <abbr title="A multi-sided shape lying in a plane and specified by a list of points, called its vertices, and made up of the line segments from each point in the list to the next point in the list, plus a line segment from the last point in the list to the first point. All the points are required to lie in the same plane. Sometimes the term &quot;polygon&quot; includes the interior of the shape as well as its boundary.">polygon</abbr>. (Note that, as usual, you can use either commas or spaces in the data.)</p>
<p>The C command takes six numbers as data, to specify the two control points and the final endpoint of the cubic <abbr title="A smooth curve between two points defined by parametric polynomial equations. A cubic Bezier curve segment is defined by its two endpoints P1 and P2 and by two control points C1 and C2. The tangent to the curve (its direction and speed) at P1 is given by the line from P1 to C1. The tangent vector to the curve at P2 is given by the line from C2 to P2. A quadratic Bezier curve is defined by its two endpoints and a single control point C. The tangent at each endpoint is the line between that endpoint and C.">Bezier curve</abbr> segment. You can also give a multiple of six values to get a connected sequence of curve segements. Similarly, the Q command uses four data values to specify the <abbr title="A point that does not lie on the curve but that is used to help control the shape of the curve. For example, a control point for a Bezier curve segment is used to specify the tangent vector (direction and speed) of the curve at an endpoint.">control point</abbr> and final endpoint of the quadratic <abbr title="A smooth curve between two points defined by parametric polynomial equations. A cubic Bezier curve segment is defined by its two endpoints P1 and P2 and by two control points C1 and C2. The tangent to the curve (its direction and speed) at P1 is given by the line from P1 to C1. The tangent vector to the curve at P2 is given by the line from C2 to P2. A quadratic Bezier curve is defined by its two endpoints and a single control point C. The tangent at each endpoint is the line between that endpoint and C.">Bezier curve</abbr> segment. The large, curvy, yellow shape shown in the picture earlier in this section was created as a path with two line segments and two <abbr title="A smooth curve between two points defined by parametric polynomial equations. A cubic Bezier curve segment is defined by its two endpoints P1 and P2 and by two control points C1 and C2. The tangent to the curve (its direction and speed) at P1 is given by the line from P1 to C1. The tangent vector to the curve at P2 is given by the line from C2 to P2. A quadratic Bezier curve is defined by its two endpoints and a single control point C. The tangent at each endpoint is the line between that endpoint and C.">Bezier curve</abbr> segments:</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;path</span><span class="w"> </span>
<span class="na">d=</span><span class="s">&quot;M 20,70 C 150,70 250,350 380,350 L 380,380 C 250,380 150,100 20,100 Z&quot;</span>
<span class="na">fill=</span><span class="s">&quot;yellow&quot;</span><span class="w"> </span><span class="na">stroke-width=</span><span class="s">&quot;2&quot;</span><span class="w"> </span><span class="na">stroke=</span><span class="s">&quot;black&quot;</span><span class="nt">/&gt;</span>
</code></pre></div>
<p><abbr title="可缩放矢量图形。一种用于指定2D矢量图形的XML语言。SVG是一种场景描述语言。它旨在集成到网页中。">SVG</abbr> paths add flexibility by defining "relative" versions of the path commands, where the data for the command is given relative to the current position. A relative move command, for example, instead of telling where to move, tells how far to move from the current position. The names of the relative versions of the path commands are lower case letters instead of upper case. "M 10,20" means to move to the point with coordinates (10,20), while "m 10,20" means to move 10 units horizontally and 20 units vertically from the current position. Similarly, if the current position is (x,y), then the command "l 3,5", where the first character is a lower case L, draws a line from (x,y) to (x+3,y+5).</p>
</div>
</div>
</div>
<h2 id="274--hierarchical-models">2.7.4  Hierarchical Models<a class="headerlink" href="#274--hierarchical-models" title="Permanent link">&para;</a></h2>
<p><strong>Hierarchical Models</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="5:2"><input checked="checked" id="__tabbed_5_1" name="__tabbed_5" type="radio" /><input id="__tabbed_5_2" name="__tabbed_5" type="radio" /><div class="tabbed-labels"><label for="__tabbed_5_1">中文</label><label for="__tabbed_5_2">英文</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p><abbr title="可缩放矢量图形。一种用于指定2D矢量图形的XML语言。SVG是一种场景描述语言。它旨在集成到网页中。">SVG</abbr> 如果只能处理单个简单形状，那将不是一个很有趣的语言。对于复杂的场景，我们希望能够进行分层建模，其中对象可以由子对象构建，并且可以将变换应用于整个复杂对象。我们需要一种方法来对对象进行分组，以便它们可以作为一个单元进行处理。为此，<abbr title="可缩放矢量图形。一种用于指定2D矢量图形的XML语言。SVG是一种场景描述语言。它旨在集成到网页中。">SVG</abbr> 使用了 <code>&lt;g&gt;</code> 元素。<code>&lt;g&gt;</code> 元素的内容是一系列形状元素，可以是简单形状或嵌套的 <code>&lt;g&gt;</code> 元素。</p>
<p>你可以为 <code>&lt;g&gt;</code> 元素添加样式和变换属性。分组的主要作用是将组作为单个对象处理。在 <code>&lt;g&gt;</code> 中的变换属性将整个组作为一个整体进行变换。在 <code>&lt;g&gt;</code> 元素上的样式属性，如 fill 或 font-family，将为该组设置默认值，替换当前的默认值。以下是一个示例：</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;g</span><span class="w"> </span><span class="na">fill=</span><span class="s">&quot;none&quot;</span><span class="w"> </span><span class="na">stroke=</span><span class="s">&quot;black&quot;</span><span class="w"> </span><span class="na">stroke-width=</span><span class="s">&quot;2&quot;</span><span class="w"> </span><span class="na">transform=</span><span class="s">&quot;scale(1,-1)&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;circle</span><span class="w"> </span><span class="na">r=</span><span class="s">&quot;98&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;ellipse</span><span class="w"> </span><span class="na">cx=</span><span class="s">&quot;40&quot;</span><span class="w"> </span><span class="na">cy=</span><span class="s">&quot;40&quot;</span><span class="w"> </span><span class="na">rx=</span><span class="s">&quot;20&quot;</span><span class="w"> </span><span class="na">ry=</span><span class="s">&quot;7&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;ellipse</span><span class="w"> </span><span class="na">cx=</span><span class="s">&quot;-40&quot;</span><span class="w"> </span><span class="na">cy=</span><span class="s">&quot;40&quot;</span><span class="w"> </span><span class="na">rx=</span><span class="s">&quot;20&quot;</span><span class="w"> </span><span class="na">ry=</span><span class="s">&quot;7&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;line</span><span class="w"> </span><span class="na">y1=</span><span class="s">&quot;20&quot;</span><span class="w"> </span><span class="na">y2=</span><span class="s">&quot;-10&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;path</span><span class="w"> </span><span class="na">d=</span><span class="s">&quot;M -40,-40 C -30,-50 30,-50 40,-40&quot;</span><span class="w"> </span><span class="na">stroke-width=</span><span class="s">&quot;4&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/g&gt;</span>
</code></pre></div>
<p>嵌套的形状使用 <code>fill="none" stroke="black" stroke-width="2"</code> 作为属性的默认值。可以通过为元素指定不同的值来覆盖默认值，就像在此示例中为 <code>&lt;path&gt;</code> 元素的 <code>stroke-width</code> 属性所做的那样。在组中设置 <code>transform="scale(1,−1)"</code> 将整个图像垂直翻转。我之所以这样做，仅因为我更喜欢使用一个坐标系统，其中 y 从下到上增加，而不是从上到下增加。以下是此组生成的简单线描绘的脸部图案：</p>
<p><figure markdown="span">
    <a class="glightbox" href="../../../en/c2/svg-face.svg" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="pixel-coordinates" src="../../../en/c2/svg-face.svg" /></a>
</figure></p>
<p>现在，假设我们想在场景中包含多个对象的多个副本。不应该需要重复绘制对象的代码。像可重用子例程一样会很好。事实上，<abbr title="可缩放矢量图形。一种用于指定2D矢量图形的XML语言。SVG是一种场景描述语言。它旨在集成到网页中。">SVG</abbr> 有非常相似的东西：你可以在 <code>&lt;defs&gt;</code> 元素内定义可重用对象。在 <code>&lt;defs&gt;</code> 中定义的对象不会添加到场景中，但可以使用单个命令将对象的副本添加到场景中。为了使其工作，对象必须具有用于标识它的 id <abbr title="图形对象的属性，例如颜色。图像可以通过其包含的几何形状以及它们的属性来指定。">属性</abbr>。例如，我们可以定义一个看起来像加号的对象：</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;defs&gt;</span>
<span class="nt">&lt;g</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;plus&quot;</span><span class="w"> </span><span class="na">stroke=</span><span class="s">&quot;black&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;line</span><span class="w"> </span><span class="na">x1=</span><span class="s">&quot;-20&quot;</span><span class="w"> </span><span class="na">y1=</span><span class="s">&quot;0&quot;</span><span class="w"> </span><span class="na">x2=</span><span class="s">&quot;20&quot;</span><span class="w"> </span><span class="na">y2=</span><span class="s">&quot;0&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;line</span><span class="w"> </span><span class="na">x1=</span><span class="s">&quot;0&quot;</span><span class="w"> </span><span class="na">y1=</span><span class="s">&quot;-20&quot;</span><span class="w"> </span><span class="na">x2=</span><span class="s">&quot;0&quot;</span><span class="w"> </span><span class="na">y2=</span><span class="s">&quot;20&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/g&gt;</span>
<span class="nt">&lt;/defs&gt;</span>
</code></pre></div>
<p>然后，可以使用 <code>&lt;use&gt;</code> 元素将加号对象的副本添加到场景中。语法是：</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;use</span><span class="w"> </span><span class="na">xlink:href=</span><span class="s">&quot;#plus&quot;</span><span class="nt">/&gt;</span>
</code></pre></div>
<p>xlink:href 属性的值必须是对象的 id，前面加上一个 "#" 字符。（不要忘记 #。如果你漏掉它，<code>&lt;use&gt;</code> 元素将被简单地忽略。）你可以为 <code>&lt;use&gt;</code> 元素添加 transform <abbr title="图形对象的属性，例如颜色。图像可以通过其包含的几何形状以及它们的属性来指定。">属性</abbr>，以将变换应用于对象的副本。你还可以应用样式属性，这些属性将用作副本中属性的默认值。例如，我们可以使用不同的变换和描边宽度绘制几个加号：</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;use</span><span class="w"> </span><span class="na">xlink:href=</span><span class="s">&quot;#plus&quot;</span><span class="w"> </span><span class="na">transform=</span><span class="s">&quot;translate(50,20)&quot;</span><span class="w"> </span><span class="na">stroke-width=</span><span class="s">&quot;5&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;use</span><span class="w"> </span><span class="na">xlink:href=</span><span class="s">&quot;#plus&quot;</span><span class="w"> </span><span class="na">transform=</span><span class="s">&quot;translate(0,30) rotate(45)&quot;</span><span class="nt">/&gt;</span>
</code></pre></div>
<p>请注意，我们无法更改加号的颜色，因为它已经指定了自己的描边颜色。</p>
<p>在 <code>&lt;defs&gt;</code> 部分定义的对象也可以用作其他对象定义中的子对象。这使得可以创建具有多个级别的层次结构。以下是从 <a href="../../../en/source/svg/svg-hierarchy.svg">svg/svg-hierarchy.svg</a> 中的示例中定义了一个 "轮子" 对象，然后在 "车" 对象中将两个轮子的副本用作子对象的示例：</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;defs&gt;</span>

<span class="cm">&lt;!-- Define an object that represents a wheel centered at (0,0) and with</span>
<span class="cm">    radius 1.  The wheel is made out of several filled circles, with</span>
<span class="cm">    thin rectangles for the spokes. --&gt;</span>

<span class="nt">&lt;g</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;wheel&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;circle</span><span class="w"> </span><span class="na">cx=</span><span class="s">&quot;0&quot;</span><span class="w"> </span><span class="na">cy=</span><span class="s">&quot;0&quot;</span><span class="w"> </span><span class="na">r=</span><span class="s">&quot;1&quot;</span><span class="w"> </span><span class="na">fill=</span><span class="s">&quot;black&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;circle</span><span class="w"> </span><span class="na">cx=</span><span class="s">&quot;0&quot;</span><span class="w"> </span><span class="na">cy=</span><span class="s">&quot;0&quot;</span><span class="w"> </span><span class="na">r=</span><span class="s">&quot;0.8&quot;</span><span class="w"> </span><span class="na">fill=</span><span class="s">&quot;lightGray&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;rect</span><span class="w"> </span><span class="na">x=</span><span class="s">&quot;-0.9&quot;</span><span class="w"> </span><span class="na">y=</span><span class="s">&quot;-0.05&quot;</span><span class="w"> </span><span class="na">width=</span><span class="s">&quot;1.8&quot;</span><span class="w"> </span><span class="na">height=</span><span class="s">&quot;.1&quot;</span><span class="w"> </span><span class="na">fill=</span><span class="s">&quot;black&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;rect</span><span class="w"> </span><span class="na">x=</span><span class="s">&quot;-0.9&quot;</span><span class="w"> </span><span class="na">y=</span><span class="s">&quot;-0.05&quot;</span><span class="w"> </span><span class="na">width=</span><span class="s">&quot;1.8&quot;</span><span class="w"> </span><span class="na">height=</span><span class="s">&quot;.1&quot;</span><span class="w"> </span><span class="na">fill=</span><span class="s">&quot;black&quot;</span><span class="w"> </span>
<span class="w">                                            </span><span class="na">transform=</span><span class="s">&quot;rotate(120)&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;rect</span><span class="w"> </span><span class="na">x=</span><span class="s">&quot;-0.9&quot;</span><span class="w"> </span><span class="na">y=</span><span class="s">&quot;-0.05&quot;</span><span class="w"> </span><span class="na">width=</span><span class="s">&quot;1.8&quot;</span><span class="w"> </span><span class="na">height=</span><span class="s">&quot;.1&quot;</span><span class="w"> </span><span class="na">fill=</span><span class="s">&quot;black&quot;</span><span class="w"> </span>
<span class="w">                                            </span><span class="na">transform=</span><span class="s">&quot;rotate(240)&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;circle</span><span class="w"> </span><span class="na">cx=</span><span class="s">&quot;0&quot;</span><span class="w"> </span><span class="na">cy=</span><span class="s">&quot;0&quot;</span><span class="w"> </span><span class="na">r=</span><span class="s">&quot;0.2&quot;</span><span class="w"> </span><span class="na">fill=</span><span class="s">&quot;black&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/g&gt;</span>

<span class="cm">&lt;!-- Define an object that represents a cart made out of two wheels,</span>
<span class="cm">    with two rectangles for the body of the cart. --&gt;</span>

<span class="nt">&lt;g</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;cart&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;use</span><span class="w"> </span><span class="na">xlink:href=</span><span class="s">&quot;#wheel&quot;</span><span class="w"> </span><span class="na">transform=</span><span class="s">&quot;translate(-1.5,-0.1) scale(0.8,0.8)&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;use</span><span class="w"> </span><span class="na">xlink:href=</span><span class="s">&quot;#wheel&quot;</span><span class="w"> </span><span class="na">transform=</span><span class="s">&quot;translate(1.5,-0.1) scale(0.8,0.8)&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;rect</span><span class="w"> </span><span class="na">x=</span><span class="s">&quot;-3&quot;</span><span class="w"> </span><span class="na">y=</span><span class="s">&quot;0&quot;</span><span class="w"> </span><span class="na">width=</span><span class="s">&quot;6&quot;</span><span class="w"> </span><span class="na">height=</span><span class="s">&quot;2&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;rect</span><span class="w"> </span><span class="na">x=</span><span class="s">&quot;-2.3&quot;</span><span class="w"> </span><span class="na">y=</span><span class="s">&quot;1.9&quot;</span><span class="w"> </span><span class="na">width=</span><span class="s">&quot;2.6&quot;</span><span class="w"> </span><span class="na">height=</span><span class="s">&quot;1&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/g&gt;</span>

<span class="nt">&lt;/defs&gt;</span>
</code></pre></div>
<p><abbr title="可缩放矢量图形。一种用于指定2D矢量图形的XML语言。SVG是一种场景描述语言。它旨在集成到网页中。">SVG</abbr> 文件继续</p>
<p>向图像添加了一个轮子的副本和四个车的副本。这四个车具有不同的颜色和变换。以下是图像：</p>
<p><figure markdown="span">
    <a class="glightbox" href="../../../en/c2/svg-hierarchy.svg" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="pixel-coordinates" src="../../../en/c2/svg-hierarchy.svg" /></a>
</figure></p>
</div>
<div class="tabbed-block">
<p><abbr title="可缩放矢量图形。一种用于指定2D矢量图形的XML语言。SVG是一种场景描述语言。它旨在集成到网页中。">SVG</abbr> would not be a very interesting language if it could only work with individual simple shapes. For complex scenes, we want to be able to do <abbr title="Creating complex geometric models in a hierarchical fashion, starting with geometric primitives, combining them into components that can then be further combined into more complex components, and so on.">hierarchical modeling</abbr>, where objects can be constructed from sub-objects, and a transform can be applied to an entire complex object. We need a way to group objects so that they can be treated as a unit. For that, <abbr title="可缩放矢量图形。一种用于指定2D矢量图形的XML语言。SVG是一种场景描述语言。它旨在集成到网页中。">SVG</abbr> has the <code>&lt;g&gt;</code> element. The content of a <code>&lt;g&gt;</code> element is a list of shape elements, which can be simple shapes or nested <code>&lt;g&gt;</code> elements.</p>
<p>You can add style and transform <abbr title="A property, such as color, of a graphical object. An image can be specified by the geometric shapes that it contains, together with their attributes.">attributes</abbr> to a <code>&lt;g&gt;</code> element. The main point of grouping is that a group can be treated as a single object. A transform <abbr title="A property, such as color, of a graphical object. An image can be specified by the geometric shapes that it contains, together with their attributes.">attribute</abbr> in a <code>&lt;g&gt;</code> will transform the entire group as a whole. A style <abbr title="A property, such as color, of a graphical object. An image can be specified by the geometric shapes that it contains, together with their attributes.">attribute</abbr>, such as fill or font-family, on a <code>&lt;g&gt;</code> element will set a default value for the group, replacing the current default. Here is an example:</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;g</span><span class="w"> </span><span class="na">fill=</span><span class="s">&quot;none&quot;</span><span class="w"> </span><span class="na">stroke=</span><span class="s">&quot;black&quot;</span><span class="w"> </span><span class="na">stroke-width=</span><span class="s">&quot;2&quot;</span><span class="w"> </span><span class="na">transform=</span><span class="s">&quot;scale(1,-1)&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;circle</span><span class="w"> </span><span class="na">r=</span><span class="s">&quot;98&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;ellipse</span><span class="w"> </span><span class="na">cx=</span><span class="s">&quot;40&quot;</span><span class="w"> </span><span class="na">cy=</span><span class="s">&quot;40&quot;</span><span class="w"> </span><span class="na">rx=</span><span class="s">&quot;20&quot;</span><span class="w"> </span><span class="na">ry=</span><span class="s">&quot;7&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;ellipse</span><span class="w"> </span><span class="na">cx=</span><span class="s">&quot;-40&quot;</span><span class="w"> </span><span class="na">cy=</span><span class="s">&quot;40&quot;</span><span class="w"> </span><span class="na">rx=</span><span class="s">&quot;20&quot;</span><span class="w"> </span><span class="na">ry=</span><span class="s">&quot;7&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;line</span><span class="w"> </span><span class="na">y1=</span><span class="s">&quot;20&quot;</span><span class="w"> </span><span class="na">y2=</span><span class="s">&quot;-10&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;path</span><span class="w"> </span><span class="na">d=</span><span class="s">&quot;M -40,-40 C -30,-50 30,-50 40,-40&quot;</span><span class="w"> </span><span class="na">stroke-width=</span><span class="s">&quot;4&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/g&gt;</span>

The<span class="w"> </span>nested<span class="w"> </span>shapes<span class="w"> </span>use<span class="w"> </span>fill=&quot;none&quot;<span class="w"> </span>stroke=&quot;black&quot;<span class="w"> </span>stroke-width=&quot;2&quot;<span class="w"> </span>for<span class="w"> </span>the<span class="w"> </span>default<span class="w"> </span>values<span class="w"> </span>of<span class="w"> </span>the<span class="w"> </span>attributes.<span class="w"> </span>The<span class="w"> </span>default<span class="w"> </span>can<span class="w"> </span>be<span class="w"> </span>overridden<span class="w"> </span>by<span class="w"> </span>specifying<span class="w"> </span>a<span class="w"> </span>different<span class="w"> </span>value<span class="w"> </span>for<span class="w"> </span>the<span class="w"> </span>element,<span class="w"> </span>as<span class="w"> </span>is<span class="w"> </span>done<span class="w"> </span>for<span class="w"> </span>the<span class="w"> </span>stroke-width<span class="w"> </span>of<span class="w"> </span>the<span class="w"> </span><span class="nt">&lt;path&gt;</span><span class="w"> </span>element<span class="w"> </span>in<span class="w"> </span>this<span class="w"> </span>example.<span class="w"> </span>Setting<span class="w"> </span>transform=&quot;scale(1,−1)&quot;<span class="w"> </span>for<span class="w"> </span>the<span class="w"> </span>group<span class="w"> </span>flips<span class="w"> </span>the<span class="w"> </span>entire<span class="w"> </span>image<span class="w"> </span>vertically.<span class="w"> </span>I<span class="w"> </span>do<span class="w"> </span>this<span class="w"> </span>only<span class="w"> </span>because<span class="w"> </span>I<span class="w"> </span>am<span class="w"> </span>more<span class="w"> </span>comfortable<span class="w"> </span>working<span class="w"> </span>in<span class="w"> </span>a<span class="w"> </span>coordinate<span class="w"> </span>system<span class="w"> </span>in<span class="w"> </span>which<span class="w"> </span>y<span class="w"> </span>increases<span class="w"> </span>from<span class="w"> </span>bottom-to-top<span class="w"> </span>rather<span class="w"> </span>than<span class="w"> </span>top-to-bottom.<span class="w"> </span>Here<span class="w"> </span>is<span class="w"> </span>the<span class="w"> </span>simple<span class="w"> </span>line<span class="w"> </span>drawing<span class="w"> </span>of<span class="w"> </span>a<span class="w"> </span>face<span class="w"> </span>that<span class="w"> </span>is<span class="w"> </span>produced<span class="w"> </span>by<span class="w"> </span>this<span class="w"> </span>group:

<span class="nt">&lt;figure</span><span class="w"> </span><span class="na">markdown=</span><span class="s">&quot;span&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span>![pixel-coordinates](../../en/c2/svg-face.svg)
<span class="nt">&lt;/figure&gt;</span>

Now,<span class="w"> </span>suppose<span class="w"> </span>that<span class="w"> </span>we<span class="w"> </span>want<span class="w"> </span>to<span class="w"> </span>include<span class="w"> </span>multiple<span class="w"> </span>copies<span class="w"> </span>of<span class="w"> </span>an<span class="w"> </span>object<span class="w"> </span>in<span class="w"> </span>a<span class="w"> </span>scene.<span class="w"> </span>It<span class="w"> </span>shouldn&#39;t<span class="w"> </span>be<span class="w"> </span>necessary<span class="w"> </span>to<span class="w"> </span>repeat<span class="w"> </span>the<span class="w"> </span>code<span class="w"> </span>for<span class="w"> </span>drawing<span class="w"> </span>the<span class="w"> </span>object.<span class="w"> </span>It<span class="w"> </span>would<span class="w"> </span>be<span class="w"> </span>nice<span class="w"> </span>to<span class="w"> </span>have<span class="w"> </span>something<span class="w"> </span>like<span class="w"> </span>reusable<span class="w"> </span>subroutines.<span class="w"> </span>In<span class="w"> </span>fact,<span class="w"> </span>SVG<span class="w"> </span>has<span class="w"> </span>something<span class="w"> </span>very<span class="w"> </span>similar:<span class="w"> </span>You<span class="w"> </span>can<span class="w"> </span>define<span class="w"> </span>reusable<span class="w"> </span>objects<span class="w"> </span>inside<span class="w"> </span>a<span class="w"> </span>`<span class="nt">&lt;defs&gt;</span>`<span class="w"> </span>element.<span class="w"> </span>An<span class="w"> </span>object<span class="w"> </span>that<span class="w"> </span>is<span class="w"> </span>defined<span class="w"> </span>inside<span class="w"> </span>`<span class="nt">&lt;defs&gt;</span>`<span class="w"> </span>is<span class="w"> </span>not<span class="w"> </span>added<span class="w"> </span>to<span class="w"> </span>the<span class="w"> </span>scene,<span class="w"> </span>but<span class="w"> </span>copies<span class="w"> </span>of<span class="w"> </span>the<span class="w"> </span>object<span class="w"> </span>can<span class="w"> </span>be<span class="w"> </span>added<span class="w"> </span>to<span class="w"> </span>the<span class="w"> </span>scene<span class="w"> </span>with<span class="w"> </span>a<span class="w"> </span>single<span class="w"> </span>command.<span class="w"> </span>For<span class="w"> </span>this<span class="w"> </span>to<span class="w"> </span>work,<span class="w"> </span>the<span class="w"> </span>object<span class="w"> </span>must<span class="w"> </span>have<span class="w"> </span>an<span class="w"> </span>id<span class="w"> </span>attribute<span class="w"> </span>to<span class="w"> </span>identify<span class="w"> </span>it.<span class="w"> </span>For<span class="w"> </span>example,<span class="w"> </span>we<span class="w"> </span>could<span class="w"> </span>define<span class="w"> </span>an<span class="w"> </span>object<span class="w"> </span>that<span class="w"> </span>looks<span class="w"> </span>like<span class="w"> </span>a<span class="w"> </span>plus<span class="w"> </span>sign:

```xml
<span class="nt">&lt;defs&gt;</span>
<span class="nt">&lt;g</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;plus&quot;</span><span class="w"> </span><span class="na">stroke=</span><span class="s">&quot;black&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;line</span><span class="w"> </span><span class="na">x1=</span><span class="s">&quot;-20&quot;</span><span class="w"> </span><span class="na">y1=</span><span class="s">&quot;0&quot;</span><span class="w"> </span><span class="na">x2=</span><span class="s">&quot;20&quot;</span><span class="w"> </span><span class="na">y2=</span><span class="s">&quot;0&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;line</span><span class="w"> </span><span class="na">x1=</span><span class="s">&quot;0&quot;</span><span class="w"> </span><span class="na">y1=</span><span class="s">&quot;-20&quot;</span><span class="w"> </span><span class="na">x2=</span><span class="s">&quot;0&quot;</span><span class="w"> </span><span class="na">y2=</span><span class="s">&quot;20&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/g&gt;</span>
<span class="nt">&lt;/defs&gt;</span>
</code></pre></div>
<p>A <code>&lt;use&gt;</code> element can then be used to add a copy of the plus sign object to the scene. The syntax is</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;use</span><span class="w"> </span><span class="na">xlink:href=</span><span class="s">&quot;#plus&quot;</span><span class="nt">/&gt;</span>
</code></pre></div>
<p>The value of the xlink:href <abbr title="A property, such as color, of a graphical object. An image can be specified by the geometric shapes that it contains, together with their attributes.">attribute</abbr> must be the id of the object, with a "#" character added at the beginning. (Don't forget the #. If you leave it out, the <code>&lt;use&gt;</code> element will simply be ignored.) You can add a transform <abbr title="A property, such as color, of a graphical object. An image can be specified by the geometric shapes that it contains, together with their attributes.">attribute</abbr> to the <code>&lt;use&gt;</code> element to apply a transformation to the copy of the object. You can also apply style <abbr title="A property, such as color, of a graphical object. An image can be specified by the geometric shapes that it contains, together with their attributes.">attributes</abbr>, which will be used as default values for the <abbr title="A property, such as color, of a graphical object. An image can be specified by the geometric shapes that it contains, together with their attributes.">attributes</abbr> in the copy. For example, we can draw several plus signs with different transforms and stroke widths:</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;use</span><span class="w"> </span><span class="na">xlink:href=</span><span class="s">&quot;#plus&quot;</span><span class="w"> </span><span class="na">transform=</span><span class="s">&quot;translate(50,20)&quot;</span><span class="w"> </span><span class="na">stroke-width=</span><span class="s">&quot;5&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;use</span><span class="w"> </span><span class="na">xlink:href=</span><span class="s">&quot;#plus&quot;</span><span class="w"> </span><span class="na">transform=</span><span class="s">&quot;translate(0,30) rotate(45)&quot;</span><span class="nt">/&gt;</span>
</code></pre></div>
<p>Note that we can't change the color of the plus sign, since it already specifies its own stroke color.</p>
<p>An object that has been defined in the <code>&lt;defs&gt;</code> section can also be used as a sub-object in other object definitions. This makes it possible to create a hierarchy with multiple levels. Here is an example from <a href="../../../en/source/svg/svg-hierarchy.svg">svg/svg-hierarchy.svg</a> that defines a "wheel" object, then uses two copies of the wheel as sub-objects in a "cart" object:</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;defs&gt;</span>

<span class="cm">&lt;!-- Define an object that represents a wheel centered at (0,0) and with</span>
<span class="cm">    radius 1.  The wheel is made out of several filled circles, with</span>
<span class="cm">    thin rectangles for the spokes. --&gt;</span>

<span class="nt">&lt;g</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;wheel&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;circle</span><span class="w"> </span><span class="na">cx=</span><span class="s">&quot;0&quot;</span><span class="w"> </span><span class="na">cy=</span><span class="s">&quot;0&quot;</span><span class="w"> </span><span class="na">r=</span><span class="s">&quot;1&quot;</span><span class="w"> </span><span class="na">fill=</span><span class="s">&quot;black&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;circle</span><span class="w"> </span><span class="na">cx=</span><span class="s">&quot;0&quot;</span><span class="w"> </span><span class="na">cy=</span><span class="s">&quot;0&quot;</span><span class="w"> </span><span class="na">r=</span><span class="s">&quot;0.8&quot;</span><span class="w"> </span><span class="na">fill=</span><span class="s">&quot;lightGray&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;rect</span><span class="w"> </span><span class="na">x=</span><span class="s">&quot;-0.9&quot;</span><span class="w"> </span><span class="na">y=</span><span class="s">&quot;-0.05&quot;</span><span class="w"> </span><span class="na">width=</span><span class="s">&quot;1.8&quot;</span><span class="w"> </span><span class="na">height=</span><span class="s">&quot;.1&quot;</span><span class="w"> </span><span class="na">fill=</span><span class="s">&quot;black&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;rect</span><span class="w"> </span><span class="na">x=</span><span class="s">&quot;-0.9&quot;</span><span class="w"> </span><span class="na">y=</span><span class="s">&quot;-0.05&quot;</span><span class="w"> </span><span class="na">width=</span><span class="s">&quot;1.8&quot;</span><span class="w"> </span><span class="na">height=</span><span class="s">&quot;.1&quot;</span><span class="w"> </span><span class="na">fill=</span><span class="s">&quot;black&quot;</span><span class="w"> </span>
<span class="w">                                            </span><span class="na">transform=</span><span class="s">&quot;rotate(120)&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;rect</span><span class="w"> </span><span class="na">x=</span><span class="s">&quot;-0.9&quot;</span><span class="w"> </span><span class="na">y=</span><span class="s">&quot;-0.05&quot;</span><span class="w"> </span><span class="na">width=</span><span class="s">&quot;1.8&quot;</span><span class="w"> </span><span class="na">height=</span><span class="s">&quot;.1&quot;</span><span class="w"> </span><span class="na">fill=</span><span class="s">&quot;black&quot;</span><span class="w"> </span>
<span class="w">                                            </span><span class="na">transform=</span><span class="s">&quot;rotate(240)&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;circle</span><span class="w"> </span><span class="na">cx=</span><span class="s">&quot;0&quot;</span><span class="w"> </span><span class="na">cy=</span><span class="s">&quot;0&quot;</span><span class="w"> </span><span class="na">r=</span><span class="s">&quot;0.2&quot;</span><span class="w"> </span><span class="na">fill=</span><span class="s">&quot;black&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/g&gt;</span>

<span class="cm">&lt;!-- Define an object that represents a cart made out of two wheels,</span>
<span class="cm">    with two rectangles for the body of the cart. --&gt;</span>

<span class="nt">&lt;g</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;cart&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;use</span><span class="w"> </span><span class="na">xlink:href=</span><span class="s">&quot;#wheel&quot;</span><span class="w"> </span><span class="na">transform=</span><span class="s">&quot;translate(-1.5,-0.1) scale(0.8,0.8)&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;use</span><span class="w"> </span><span class="na">xlink:href=</span><span class="s">&quot;#wheel&quot;</span><span class="w"> </span><span class="na">transform=</span><span class="s">&quot;translate(1.5,-0.1) scale(0.8,0.8)&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;rect</span><span class="w"> </span><span class="na">x=</span><span class="s">&quot;-3&quot;</span><span class="w"> </span><span class="na">y=</span><span class="s">&quot;0&quot;</span><span class="w"> </span><span class="na">width=</span><span class="s">&quot;6&quot;</span><span class="w"> </span><span class="na">height=</span><span class="s">&quot;2&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;rect</span><span class="w"> </span><span class="na">x=</span><span class="s">&quot;-2.3&quot;</span><span class="w"> </span><span class="na">y=</span><span class="s">&quot;1.9&quot;</span><span class="w"> </span><span class="na">width=</span><span class="s">&quot;2.6&quot;</span><span class="w"> </span><span class="na">height=</span><span class="s">&quot;1&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/g&gt;</span>

<span class="nt">&lt;/defs&gt;</span>
</code></pre></div>
<p>The <abbr title="可缩放矢量图形。一种用于指定2D矢量图形的XML语言。SVG是一种场景描述语言。它旨在集成到网页中。">SVG</abbr> file goes on to add one copy of the wheel and four copies of the cart to the image. The four carts have different colors and transforms. Here is the image:</p>
<p><figure markdown="span">
    <a class="glightbox" href="../../../en/c2/svg-hierarchy.svg" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="pixel-coordinates" src="../../../en/c2/svg-hierarchy.svg" /></a>
</figure></p>
</div>
</div>
</div>
<h2 id="275--animation">2.7.5  Animation<a class="headerlink" href="#275--animation" title="Permanent link">&para;</a></h2>
<p><strong>Animation</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="6:2"><input checked="checked" id="__tabbed_6_1" name="__tabbed_6" type="radio" /><input id="__tabbed_6_2" name="__tabbed_6" type="radio" /><div class="tabbed-labels"><label for="__tabbed_6_1">中文</label><label for="__tabbed_6_2">英文</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p><abbr title="可缩放矢量图形。一种用于指定2D矢量图形的XML语言。SVG是一种场景描述语言。它旨在集成到网页中。">SVG</abbr> 有许多高级功能，我这里不会讨论，但我想提一下一个：<abbr title="一系列图像，当快速连续显示时，将产生连续运动或变化的印象。动画这个术语还指的是创建这样的图像序列的过程。">动画</abbr>。几乎可以对 <abbr title="可缩放矢量图形。一种用于指定2D矢量图形的XML语言。SVG是一种场景描述语言。它旨在集成到网页中。">SVG</abbr> 对象的任何属性进行动画，包括几何形状、样式和变换。动画的语法本身相当复杂，我只会做一些例子。但我会告诉你足够的内容来产生一个相当复杂的层次动画，就像在 <a href="../s4/#241--构建复杂对象">Subsection 2.4.1</a> 中讨论和用作演示的 "cart-and-windmills" 示例。该动画的 <abbr title="可缩放矢量图形。一种用于指定2D矢量图形的XML语言。SVG是一种场景描述语言。它旨在集成到网页中。">SVG</abbr> 版本可以在 <a href="../../../en/source/svg/cart-and-windmills.svg">svg/cart-and-windmills.svg</a> 中找到。这是它的样子，尽管某些网络浏览器可能不会显示动画，因为有些浏览器没有正确或完全实现 <abbr title="可缩放矢量图形。一种用于指定2D矢量图形的XML语言。SVG是一种场景描述语言。它旨在集成到网页中。">SVG</abbr> <abbr title="一系列图像，当快速连续显示时，将产生连续运动或变化的印象。动画这个术语还指的是创建这样的图像序列的过程。">动画</abbr>：</p>
<p><figure markdown="span">
    <a class="glightbox" href="../../../en/c2/cart-and-windmills.svg" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="pixel-coordinates" src="../../../en/c2/cart-and-windmills.svg" /></a>
</figure></p>
<p>形状元素的许多属性都可以通过在形状元素的内容中添加 <animate> 元素来进行动画处理。以下是一个示例，使一个矩形从左向右移动图像：</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;rect</span><span class="w"> </span><span class="na">x=</span><span class="s">&quot;0&quot;</span><span class="w"> </span><span class="na">y=</span><span class="s">&quot;210&quot;</span><span class="w"> </span><span class="na">width=</span><span class="s">&quot;40&quot;</span><span class="w"> </span><span class="na">height=</span><span class="s">&quot;40&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;animate</span><span class="w"> </span><span class="na">attributeName=</span><span class="s">&quot;x&quot;</span>
<span class="w">    </span><span class="na">from=</span><span class="s">&quot;0&quot;</span><span class="w"> </span><span class="na">to=</span><span class="s">&quot;430&quot;</span><span class="w"> </span><span class="na">dur=</span><span class="s">&quot;7s&quot;</span>
<span class="w">    </span><span class="na">repeatCount=</span><span class="s">&quot;indefinite&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/rect&gt;</span>
</code></pre></div>
<p>请注意，<code>&lt;animate&gt;</code> 嵌套在 <code>&lt;rect&gt;</code> 内部。<em>attributeName</em> 属性告诉我们正在对 <code>&lt;rect&gt;</code> 的哪个属性进行动画处理，这里是 x。<em>from</em> 和 <em>to</em> 属性表示 x 将取值从 0 到 430。<em>dur</em> 属性是 "持续时间"，即动画持续的时间；值 "7s" 表示 "7 秒"。<em>repeatCount</em>="indefinite" 属性表示动画完成后，它将重新开始，并且将无限重复，也就是说，只要图像显示出来就会一直重复。如果省略了 <em>repeatCount</em> <abbr title="图形对象的属性，例如颜色。图像可以通过其包含的几何形状以及它们的属性来指定。">属性</abbr>，则动画运行一次后，矩形将跳回到其原始位置并保持在那里。如果将 repeatCount 替换为 <em>fill</em>="freeze"，则在动画运行后，矩形将被冻结在其最终位置，而不是跳回到起始位置。动画在图像首次加载时开始。如果希望动画在稍后的时间开始，可以添加一个 <em>begin</em> <abbr title="图形对象的属性，例如颜色。图像可以通过其包含的几何形状以及它们的属性来指定。">属性</abbr>，其值给出动画应该在图像加载后的多少秒后开始。</p>
<p>如果我们希望矩形在初始和最终位置之间来回移动怎么办？为此，我们需要一种称为<strong><abbr title="一种动画技术，在动画过程中仅明确地在某些时间点指定某个量的值。指定量的时间点称为关键帧。在关键帧之间，该量的值通过在关键帧指定的值之间进行插值来获得。">关键帧动画</abbr></strong>的东西，这是一个重要的概念。<em>from</em> 和 <em>to</em> 属性只允许你在动画的开始和结束时指定值。在关键帧动画中，在动画中间的其他时间点指定值。对于 <abbr title="可缩放矢量图形。一种用于指定2D矢量图形的XML语言。SVG是一种场景描述语言。它旨在集成到网页中。">SVG</abbr> 中的关键帧动画，<em>from</em> 和 <em>to</em> 属性被 keyTimes 和 values 替换。以下是我们的移动矩形示例，修改为使用关键帧： </p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;rect</span><span class="w"> </span><span class="na">x=</span><span class="s">&quot;0&quot;</span><span class="w"> </span><span class="na">y=</span><span class="s">&quot;210&quot;</span><span class="w"> </span><span class="na">width=</span><span class="s">&quot;40&quot;</span><span class="w"> </span><span class="na">height=</span><span class="s">&quot;40&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;animate</span><span class="w"> </span><span class="na">attributeName=</span><span class="s">&quot;x&quot;</span>
<span class="w">    </span><span class="na">keyTimes=</span><span class="s">&quot;0;0.5;1&quot;</span><span class="w"> </span><span class="na">values=</span><span class="s">&quot;0;430;0&quot;</span><span class="w"> </span><span class="na">dur=</span><span class="s">&quot;7s&quot;</span>
<span class="w">    </span><span class="na">repeatCount=</span><span class="s">&quot;indefinite&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/rect&gt;</span>
</code></pre></div>
<p><em>keyTimes</em> 属性是一个由分号分隔的数字列表。这些数字在 0 到 1 的范围内，并且应按升序排列。第一个数字应为 0，最后一个数字应为 1。一个数字表示动画期间的时间，作为完整动画的一部分的分数。例如，0.5 是动画进行到一半的时间点，0.75 是动画进行到四分之三的时间点。<em>values</em> 属性是一个值的列表，每个关键时间点有一个值。在这种情况下，x 的值在动画开始时为 0，在动画进行到一半时为 430，然后在动画结束时再次为 0。在关键时间点之间，通过对关键时间点指定的值进行插值来获取 x 的值。在这种情况下的结果是，在动画的前半部分，矩形从左向右移动，然后在后半部分从右向左移动。</p>
<p>变换也可以被动画化，但是你需要使用 <code>&lt;animateTransform&gt;</code> 标签而不是 <code>&lt;animate&gt;</code>，并且你需要添加一个 <em>type</em> 属性来指定你正在动画化的变换，比如 "rotate" 或 "translate"。例如，下面是应用于一个组的变换动画：</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;g</span><span class="w"> </span><span class="na">transform=</span><span class="s">&quot;scale(0,0)&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;animateTransform</span><span class="w"> </span><span class="na">attributeName=</span><span class="s">&quot;transform&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;scale&quot;</span>
<span class="w">        </span><span class="na">from=</span><span class="s">&quot;0,0&quot;</span><span class="w"> </span><span class="na">to=</span><span class="s">&quot;0.4,0.7&quot;</span>
<span class="w">        </span><span class="na">begin=</span><span class="s">&quot;3s&quot;</span><span class="w"> </span><span class="na">dur=</span><span class="s">&quot;15s&quot;</span><span class="w"> </span><span class="na">fill=</span><span class="s">&quot;freeze&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;rect</span><span class="w"> </span><span class="na">x=</span><span class="s">&quot;-15&quot;</span><span class="w"> </span><span class="na">y=</span><span class="s">&quot;0&quot;</span><span class="w"> </span><span class="na">width=</span><span class="s">&quot;30&quot;</span><span class="w"> </span><span class="na">height=</span><span class="s">&quot;40&quot;</span><span class="w"> </span><span class="na">fill=</span><span class="s">&quot;rgb(150,100,0)&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;polygon</span><span class="w"> </span><span class="na">points=</span><span class="s">&quot;-60,40 60,40 0,200&quot;</span><span class="w"> </span><span class="na">fill=</span><span class="s">&quot;green&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/g&gt;</span>
</code></pre></div>
<p>该动画显示了一个由绿色三角形和棕色矩形组成的不断增长的 "树"。在动画中，变换从 <em>scale</em>(0,0) 到 <em>scale</em>(0.4,0.7)。动画在图像加载后的 3 秒后开始，持续 15 秒。在动画结束时，树以最终缩放比冻结。<code>&lt;g&gt;</code> 元素上的 <em>transform</em> 属性指定了直到动画开始时生效的缩放。（缩放因子为 0 会将对象折叠为大小为零，使其不可见。）你可以在示例文件 <a href="../../../en/source/svg/first-svg-animation.svg">svg/first-svg-<abbr title="A sequence of images that, when displayed quickly one after the other, will produce the impression of continuous motion or change. The term animation also refers to the process of creating such image sequences.">animation</abbr>.svg</a> 中找到这个示例，以及一个移动的矩形和一个关键帧动画。以下是动画本身。要查看不断增长的树，你可能需要重新加载此页面或在单独的窗口中查看图像：</p>
<p><figure markdown="span">
    <a class="glightbox" href="../../../en/c2/first-svg-animation.svg" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="pixel-coordinates" src="../../../en/c2/first-svg-animation.svg" /></a>
</figure></p>
<p>你可以在 <abbr title="可缩放矢量图形。一种用于指定2D矢量图形的XML语言。SVG是一种场景描述语言。它旨在集成到网页中。">SVG</abbr> 文件的 <code>&lt;defs&gt;</code> 部分创建动画对象，并且可以将动画应用于 <code>&lt;use&gt;</code> 元素。这使得创建分层动画成为可能。这里有一个简单的例子：</p>
<p><figure markdown="span">
    <a class="glightbox" href="../../../en/c2/hierarchical-animation.svg" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="pixel-coordinates" src="../../../en/c2/hierarchical-animation.svg" /></a>
</figure></p>
<p>这个示例显示了一个旋转的六边形，每个六边形顶点都有一个旋转的正方形。六边形是由一个对象的六个副本构成的，每个副本应用了不同的旋转。（六边形右侧的图像显示了基本对象的一个副本。）正方形被定义为一个带有自己旋转的动画对象。它被用作六边形中的一个子对象。施加在六边形上的旋转也适用于正方形，覆盖了它自己内置的旋转。这就是这个示例是分层动画的原因。</p>
<p>现在回顾一下<a href="../../../en/source/svg/cart-and-windmills.svg">cart-and-windmills</a>的示例，你可能已经能够看出如何做动画了。别忘了查看源代码，它非常简短！</p>
</div>
<div class="tabbed-block">
<p><abbr title="可缩放矢量图形。一种用于指定2D矢量图形的XML语言。SVG是一种场景描述语言。它旨在集成到网页中。">SVG</abbr> has a number of advanced features that I won't discuss here, but I do want to mention one: <abbr title="A sequence of images that, when displayed quickly one after the other, will produce the impression of continuous motion or change. The term animation also refers to the process of creating such image sequences.">animation</abbr>. It is possible to animate almost any property of an <abbr title="可缩放矢量图形。一种用于指定2D矢量图形的XML语言。SVG是一种场景描述语言。它旨在集成到网页中。">SVG</abbr> object, including geometry, style, and transforms. The syntax for <abbr title="A sequence of images that, when displayed quickly one after the other, will produce the impression of continuous motion or change. The term animation also refers to the process of creating such image sequences.">animation</abbr> is itself fairly complex, and I will only do a few examples. But I will tell you enough to produce a fairly complex hierarchical <abbr title="A sequence of images that, when displayed quickly one after the other, will produce the impression of continuous motion or change. The term animation also refers to the process of creating such image sequences.">animation</abbr> like the "cart-and-windmills" example that was discussed and used as a demo in <a href="../s4/#241--构建复杂对象">Subsection 2.4.1</a>. An <abbr title="可缩放矢量图形。一种用于指定2D矢量图形的XML语言。SVG是一种场景描述语言。它旨在集成到网页中。">SVG</abbr> version of that <abbr title="A sequence of images that, when displayed quickly one after the other, will produce the impression of continuous motion or change. The term animation also refers to the process of creating such image sequences.">animation</abbr> can be found in <a href="../../../en/source/svg/cart-and-windmills.svg">svg/cart-and-windmills.svg</a>. Here is what it looks like, although some web browsers might not show the <abbr title="A sequence of images that, when displayed quickly one after the other, will produce the impression of continuous motion or change. The term animation also refers to the process of creating such image sequences.">animation</abbr>, since some browsers do not implement <abbr title="可缩放矢量图形。一种用于指定2D矢量图形的XML语言。SVG是一种场景描述语言。它旨在集成到网页中。">SVG</abbr> animations correctly or at all:</p>
<p><figure markdown="span">
    <a class="glightbox" href="../../../en/c2/cart-and-windmills.svg" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="pixel-coordinates" src="../../../en/c2/cart-and-windmills.svg" /></a>
</figure></p>
<p>Many <abbr title="A property, such as color, of a graphical object. An image can be specified by the geometric shapes that it contains, together with their attributes.">attributes</abbr> of a shape element can be animated by adding an <animate> element to the content of the shape element. Here is an example that makes a rectangle move across the image from left to right:</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;rect</span><span class="w"> </span><span class="na">x=</span><span class="s">&quot;0&quot;</span><span class="w"> </span><span class="na">y=</span><span class="s">&quot;210&quot;</span><span class="w"> </span><span class="err">wid</span><span class="w"> </span><span class="na">th=</span><span class="s">&quot;40&quot;</span><span class="w"> </span><span class="na">height=</span><span class="s">&quot;40&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;animate</span><span class="w"> </span><span class="na">attributeName=</span><span class="s">&quot;x&quot;</span>
<span class="w">    </span><span class="na">from=</span><span class="s">&quot;0&quot;</span><span class="w"> </span><span class="na">to=</span><span class="s">&quot;430&quot;</span><span class="w"> </span><span class="na">dur=</span><span class="s">&quot;7s&quot;</span>
<span class="w">    </span><span class="na">repeatCount=</span><span class="s">&quot;indefinite&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/rect&gt;</span>
</code></pre></div>
<p>Note that the <code>&lt;animate&gt;</code> is nested inside the <code>&lt;rect&gt;</code>. The <em>attributeName</em> <abbr title="A property, such as color, of a graphical object. An image can be specified by the geometric shapes that it contains, together with their attributes.">attribute</abbr> tells which <abbr title="A property, such as color, of a graphical object. An image can be specified by the geometric shapes that it contains, together with their attributes.">attribute</abbr> of the <code>&lt;rect&gt;</code> is being animated, in this case, x. The <em>from</em> and <em>to</em> <abbr title="A property, such as color, of a graphical object. An image can be specified by the geometric shapes that it contains, together with their attributes.">attributes</abbr> say that x will take on values from 0 to 430. The <em>dur</em> <abbr title="A property, such as color, of a graphical object. An image can be specified by the geometric shapes that it contains, together with their attributes.">attribute</abbr> is the "duration", that is, how long the <abbr title="A sequence of images that, when displayed quickly one after the other, will produce the impression of continuous motion or change. The term animation also refers to the process of creating such image sequences.">animation</abbr> lasts; the value "7s" means "7 seconds." The <abbr title="A property, such as color, of a graphical object. An image can be specified by the geometric shapes that it contains, together with their attributes.">attribute</abbr> <em>repeatCount</em>="indefinite" means that after the <abbr title="A sequence of images that, when displayed quickly one after the other, will produce the impression of continuous motion or change. The term animation also refers to the process of creating such image sequences.">animation</abbr> completes, it will start over, and it will repeat indefinitely, that is, as long as the image is displayed. If the <em>repeatCount</em> <abbr title="A property, such as color, of a graphical object. An image can be specified by the geometric shapes that it contains, together with their attributes.">attribute</abbr> is omitted, then after the <abbr title="A sequence of images that, when displayed quickly one after the other, will produce the impression of continuous motion or change. The term animation also refers to the process of creating such image sequences.">animation</abbr> runs once, the rectangle will jump back to its original position and remain there. If repeatCount is replaced by <em>fill</em>="freeze", then after the <abbr title="A sequence of images that, when displayed quickly one after the other, will produce the impression of continuous motion or change. The term animation also refers to the process of creating such image sequences.">animation</abbr> runs, the rectangle will be frozen in its final position, instead of jumping back to the starting position. The <abbr title="A sequence of images that, when displayed quickly one after the other, will produce the impression of continuous motion or change. The term animation also refers to the process of creating such image sequences.">animation</abbr> begins when the image first loads. If you want the <abbr title="A sequence of images that, when displayed quickly one after the other, will produce the impression of continuous motion or change. The term animation also refers to the process of creating such image sequences.">animation</abbr> to start at a later time, you can add a <em>begin</em> <abbr title="A property, such as color, of a graphical object. An image can be specified by the geometric shapes that it contains, together with their attributes.">attribute</abbr> whose value gives the time when the <abbr title="A sequence of images that, when displayed quickly one after the other, will produce the impression of continuous motion or change. The term animation also refers to the process of creating such image sequences.">animation</abbr> should start, as a number of seconds after the image loads.</p>
<p>What if we want the rectangle to move back and forth between its initial and final position? For that, we need something called <strong>keyframe <abbr title="A sequence of images that, when displayed quickly one after the other, will produce the impression of continuous motion or change. The term animation also refers to the process of creating such image sequences.">animation</abbr></strong>, which is an important idea in its own right. The <em>from</em> and <em>to</em> <abbr title="A property, such as color, of a graphical object. An image can be specified by the geometric shapes that it contains, together with their attributes.">attributes</abbr> allow you to specify values only for the beginning and end of the <abbr title="A sequence of images that, when displayed quickly one after the other, will produce the impression of continuous motion or change. The term animation also refers to the process of creating such image sequences.">animation</abbr>. In a keyframe <abbr title="A sequence of images that, when displayed quickly one after the other, will produce the impression of continuous motion or change. The term animation also refers to the process of creating such image sequences.">animation</abbr>, values are specified at additional times in the middle of the <abbr title="A sequence of images that, when displayed quickly one after the other, will produce the impression of continuous motion or change. The term animation also refers to the process of creating such image sequences.">animation</abbr>. For a keyframe <abbr title="A sequence of images that, when displayed quickly one after the other, will produce the impression of continuous motion or change. The term animation also refers to the process of creating such image sequences.">animation</abbr> in <abbr title="可缩放矢量图形。一种用于指定2D矢量图形的XML语言。SVG是一种场景描述语言。它旨在集成到网页中。">SVG</abbr>, the <em>from</em> and <em>to</em> <abbr title="A property, such as color, of a graphical object. An image can be specified by the geometric shapes that it contains, together with their attributes.">attributes</abbr> are replaced by keyTimes and values. Here is our moving rectangle example, modified to use keyframes:</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;rect</span><span class="w"> </span><span class="na">x=</span><span class="s">&quot;0&quot;</span><span class="w"> </span><span class="na">y=</span><span class="s">&quot;210&quot;</span><span class="w"> </span><span class="na">width=</span><span class="s">&quot;40&quot;</span><span class="w"> </span><span class="na">height=</span><span class="s">&quot;40&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;animate</span><span class="w"> </span><span class="na">attributeName=</span><span class="s">&quot;x&quot;</span>
<span class="w">    </span><span class="na">keyTimes=</span><span class="s">&quot;0;0.5;1&quot;</span><span class="w"> </span><span class="na">values=</span><span class="s">&quot;0;430;0&quot;</span><span class="w"> </span><span class="na">dur=</span><span class="s">&quot;7s&quot;</span>
<span class="w">    </span><span class="na">repeatCount=</span><span class="s">&quot;indefinite&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/rect&gt;</span>
</code></pre></div>
<p>The <em>keyTimes</em> <abbr title="A property, such as color, of a graphical object. An image can be specified by the geometric shapes that it contains, together with their attributes.">attribute</abbr> is a list of numbers, separated by semicolons. The numbers are in the range 0 to 1, and should be in increasing order. The first number should be 0 and the last number should be 1. A number specifies a time during the <abbr title="A sequence of images that, when displayed quickly one after the other, will produce the impression of continuous motion or change. The term animation also refers to the process of creating such image sequences.">animation</abbr>, as a fraction of the complete <abbr title="A sequence of images that, when displayed quickly one after the other, will produce the impression of continuous motion or change. The term animation also refers to the process of creating such image sequences.">animation</abbr>. For example, 0.5 is a point half-way through the <abbr title="A sequence of images that, when displayed quickly one after the other, will produce the impression of continuous motion or change. The term animation also refers to the process of creating such image sequences.">animation</abbr>, and 0.75 is three-quarters of the way. The <em>values</em> <abbr title="A property, such as color, of a graphical object. An image can be specified by the geometric shapes that it contains, together with their attributes.">attribute</abbr> is a list of values, with one value for each key time. In this case, the value for x is 0 at the start of the <abbr title="A sequence of images that, when displayed quickly one after the other, will produce the impression of continuous motion or change. The term animation also refers to the process of creating such image sequences.">animation</abbr>, 430 half-way through the <abbr title="A sequence of images that, when displayed quickly one after the other, will produce the impression of continuous motion or change. The term animation also refers to the process of creating such image sequences.">animation</abbr>, and 0 again at the end of the <abbr title="A sequence of images that, when displayed quickly one after the other, will produce the impression of continuous motion or change. The term animation also refers to the process of creating such image sequences.">animation</abbr>. Between the key times, the value for x is obtained by interpolating between the values specified for the key times. The result in this case is that the rectangle moves from left to right during the first half of the <abbr title="A sequence of images that, when displayed quickly one after the other, will produce the impression of continuous motion or change. The term animation also refers to the process of creating such image sequences.">animation</abbr> and then back from right to left in the second half.</p>
<p>Transforms can also be animated, but you need to use the <code>&lt;animateTransform&gt;</code> tag instead of <code>&lt;animate&gt;</code>, and you need to add a <em>type</em> <abbr title="A property, such as color, of a graphical object. An image can be specified by the geometric shapes that it contains, together with their attributes.">attribute</abbr> to specify which transform you are animating, such as "rotate" or "translate". Here, for example, is a transform <abbr title="A sequence of images that, when displayed quickly one after the other, will produce the impression of continuous motion or change. The term animation also refers to the process of creating such image sequences.">animation</abbr> applied to a group:</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;g</span><span class="w"> </span><span class="na">transform=</span><span class="s">&quot;scale(0,0)&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;animateTransform</span><span class="w"> </span><span class="na">attributeName=</span><span class="s">&quot;transform&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;scale&quot;</span>
<span class="w">        </span><span class="na">from=</span><span class="s">&quot;0,0&quot;</span><span class="w"> </span><span class="na">to=</span><span class="s">&quot;0.4,0.7&quot;</span>
<span class="w">        </span><span class="na">begin=</span><span class="s">&quot;3s&quot;</span><span class="w"> </span><span class="na">dur=</span><span class="s">&quot;15s&quot;</span><span class="w"> </span><span class="na">fill=</span><span class="s">&quot;freeze&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;rect</span><span class="w"> </span><span class="na">x=</span><span class="s">&quot;-15&quot;</span><span class="w"> </span><span class="na">y=</span><span class="s">&quot;0&quot;</span><span class="w"> </span><span class="na">width=</span><span class="s">&quot;30&quot;</span><span class="w"> </span><span class="na">height=</span><span class="s">&quot;40&quot;</span><span class="w"> </span><span class="na">fill=</span><span class="s">&quot;rgb(150,100,0)&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;polygon</span><span class="w"> </span><span class="na">points=</span><span class="s">&quot;-60,40 60,40 0,200&quot;</span><span class="w"> </span><span class="na">fill=</span><span class="s">&quot;green&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/g&gt;</span>
</code></pre></div>
<p>The <abbr title="A sequence of images that, when displayed quickly one after the other, will produce the impression of continuous motion or change. The term animation also refers to the process of creating such image sequences.">animation</abbr> shows a growing "tree" made from a green triangle and a brown rectangle. In the <abbr title="A sequence of images that, when displayed quickly one after the other, will produce the impression of continuous motion or change. The term animation also refers to the process of creating such image sequences.">animation</abbr>, the transform goes from <em>scale</em>(0,0) to <em>scale</em>(0.4,0.7). The <abbr title="A sequence of images that, when displayed quickly one after the other, will produce the impression of continuous motion or change. The term animation also refers to the process of creating such image sequences.">animation</abbr> starts 3 seconds after the image loads and lasts 15 seconds. At the end of the <abbr title="A sequence of images that, when displayed quickly one after the other, will produce the impression of continuous motion or change. The term animation also refers to the process of creating such image sequences.">animation</abbr>, the tree freezes at its final scale. The <em>transform</em> <abbr title="A property, such as color, of a graphical object. An image can be specified by the geometric shapes that it contains, together with their attributes.">attribute</abbr> on the <code>&lt;g&gt;</code> element specifies the scale that is in effect until the <abbr title="A sequence of images that, when displayed quickly one after the other, will produce the impression of continuous motion or change. The term animation also refers to the process of creating such image sequences.">animation</abbr> starts. (A scale factor of 0 collapses the object to size zero, so that it is invisible.) You can find this example, along with a moving rectangle and a keyframe <abbr title="A sequence of images that, when displayed quickly one after the other, will produce the impression of continuous motion or change. The term animation also refers to the process of creating such image sequences.">animation</abbr>, in the sample file <a href="../../../en/source/svg/first-svg-animation.svg">svg/first-svg-<abbr title="A sequence of images that, when displayed quickly one after the other, will produce the impression of continuous motion or change. The term animation also refers to the process of creating such image sequences.">animation</abbr>.svg</a>. Here is the <abbr title="A sequence of images that, when displayed quickly one after the other, will produce the impression of continuous motion or change. The term animation also refers to the process of creating such image sequences.">animation</abbr> itself. To see the growing trees, you might have to reload this page or view the image in a separate window:</p>
<p><figure markdown="span">
    <a class="glightbox" href="../../../en/c2/first-svg-animation.svg" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="pixel-coordinates" src="../../../en/c2/first-svg-animation.svg" /></a>
</figure></p>
<p>You can create animated objects in the <code>&lt;defs&gt;</code> section of an <abbr title="可缩放矢量图形。一种用于指定2D矢量图形的XML语言。SVG是一种场景描述语言。它旨在集成到网页中。">SVG</abbr> file, and you can apply <abbr title="A sequence of images that, when displayed quickly one after the other, will produce the impression of continuous motion or change. The term animation also refers to the process of creating such image sequences.">animation</abbr> to <code>&lt;use&gt;</code> elements. This makes it possible to create hierarchical animations. Here is a simple example:</p>
<p><figure markdown="span">
    <a class="glightbox" href="../../../en/c2/hierarchical-animation.svg" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="pixel-coordinates" src="../../../en/c2/hierarchical-animation.svg" /></a>
</figure></p>
<p>The example shows a rotating hexagon with a rotating square at each <abbr title="One of the points that define a geometric primitive, such as the two endpoints of a line segment or the three vertices of a triangle. (The plural is &quot;vertices.&quot;) A vertex can be specified in a coordinate system by giving its x and y coordinates in 2D graphics, or its x, y, and z coordinates in 3D graphics.">vertex</abbr> of the hexagon. The hexagon is constructed from six copies of one object, with a different <abbr title="A geometric transform that rotates each point by a specified angle about some point (in 2D) or axis (in 3D).">rotation</abbr> applied to each copy. (A copy of the basic object is shown in the image to the right of the hexagon.) The square is defined as an animated object with its own <abbr title="A geometric transform that rotates each point by a specified angle about some point (in 2D) or axis (in 3D).">rotation</abbr>. It is used as a sub-object in the hexagon. The <abbr title="A geometric transform that rotates each point by a specified angle about some point (in 2D) or axis (in 3D).">rotation</abbr> that is applied to the hexagon applies to the square, on top of its own built-in <abbr title="A geometric transform that rotates each point by a specified angle about some point (in 2D) or axis (in 3D).">rotation</abbr>. That's what makes this an example of hierarchical <abbr title="A sequence of images that, when displayed quickly one after the other, will produce the impression of continuous motion or change. The term animation also refers to the process of creating such image sequences.">animation</abbr>.</p>
<p>If you look back at the <a href="../../../en/source/svg/cart-and-windmills.svg">cart-and-windmills</a> example now, you can probably see how to do the <abbr title="A sequence of images that, when displayed quickly one after the other, will produce the impression of continuous motion or change. The term animation also refers to the process of creating such image sequences.">animation</abbr>. Don't forget to check out the source code, which is surprisingly short!</p>
</div>
</div>
</div>
<p>*[纹理单元]：GPU中的一个硬件组件，用于进行纹理查找。（也可以指代这样一个组件的抽象，无论它是否实际在硬件中实现。）也就是说，它将纹理坐标映射到图像纹理的颜色上。这个操作被称为“采样”，纹理单元与GLSL着色器程序中的采样器变量相关联。</p>
<p>*[<abbr title="Texture Mapping Unit, another name for texture unit (perhaps with a stronger implication of actual hardware support). Also called a TPU (Texture Processing Unit).">TMU</abbr>]：纹理映射单元，纹理单元的另一个名称（可能更强调实际的硬件支持）。也称为TPU（纹理处理单元）。</p>
<p>*[采样]：将纹理坐标映射到纹理的颜色上的操作，包括如果可用则使用mipmap，并且在必要时应用缩放或放大滤波器。</p>
<p>*[采样器变量]：在GLSL中，着色器程序中的一个变量，可以用来在图像纹理中进行查找。采样器变量的值指定了将用于进行查找的纹理单元。在WebGL中，采样器变量的类型为“sampler2D”或“samplerCube”。</p>
<p>*[<abbr title="A new JavaScript graphics API, similar to WebGL, but designed to let web programs access modern GPU capabilities such as compute shaders.">WebGPU</abbr>]：一种新的JavaScript图形API，类似于WebGL，但设计上允许Web程序访问现代GPU功能，如计算着色器。</p>







  
    
  
  
    
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="最后更新">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1-2.1-2M12.5 7v5.2l4 2.4-1 1L11 13V7h1.5M11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2v1.8Z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">2024年5月25日</span>
  </span>

    
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="创建日期">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3h-2Z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">2024年4月25日</span>
  </span>

    
    
    
  </aside>





                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  回到页面顶部
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["content.code.copy", "content.tabs.link", "navigation.tabs", "navigation.tabs.sticky", "navigation.indexes", "navigation.top", "toc.follow", "content.tooltips"], "search": "../../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.3220b9d7.min.js"></script>
      
        <script src="../../../javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
        <script src="https://unpkg.com/mermaid@9.4.0/dist/mermaid.min.js"></script>
      
    
  <script>document$.subscribe(() => {const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});})</script></body>
</html>