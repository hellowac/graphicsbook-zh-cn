
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="计算机图形学概论(graphicsbook)">
      
      
      
        <link rel="canonical" href="https://hellowac.github.io/graphicsbook-zh-cn/cn/c3/s6/">
      
      
        <link rel="prev" href="../s5/">
      
      
        <link rel="next" href="../../c4/">
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.28">
    
    
      
        <title>3.6 使用 GLUT 和 JOGL - 计算机图形学概论</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.6543a935.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      

  
  
  
  
  <style>:root{--md-annotation-icon:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M22 12a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10M6 13h8l-3.5 3.5 1.42 1.42L17.84 12l-5.92-5.92L10.5 7.5 14 11H6v2Z"/></svg>');}</style>


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
   <link href="../../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../../../assets/javascripts/glightbox.min.js"></script></head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="default" data-md-color-accent="red">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#36-使用-glut-和-jogl" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../../.." title="计算机图形学概论" class="md-header__button md-logo" aria-label="计算机图形学概论" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            计算机图形学概论
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              3.6 使用 GLUT 和 JOGL
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
      <div class="md-header__option">
  <div class="md-select">
    
    <button class="md-header__button md-icon" aria-label="选择当前语言">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12.87 15.07-2.54-2.51.03-.03A17.52 17.52 0 0 0 14.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04M18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12m-2.62 7 1.62-4.33L19.12 17h-3.24Z"/></svg>
    </button>
    <div class="md-select__inner">
      <ul class="md-select__list">
        
          <li class="md-select__item">
            <a href="/graphicsbook-zh-cn/en/" hreflang="en" class="md-select__link">
              English
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="/graphicsbook-zh-cn/cn/" hreflang="cn" class="md-select__link">
              中文
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</div>
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/hellowac/graphicsbook-zh-cn" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    graphicsbook
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="标签" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../" class="md-tabs__link">
        
  
    
  
  首页

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../preface/" class="md-tabs__link">
        
  
    
  
  前言

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../c1/" class="md-tabs__link">
          
  
    
  
  1.简介

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../c2/" class="md-tabs__link">
          
  
    
  
  2.二维图形

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../" class="md-tabs__link">
          
  
    
  
  3.几何

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../c4/" class="md-tabs__link">
          
  
    
  
  4.灯光和材质

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../c5/" class="md-tabs__link">
          
  
    
  
  5.three.js

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../c6/" class="md-tabs__link">
          
  
    
  
  6.WebGL

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../c7/" class="md-tabs__link">
          
  
    
  
  7.WebGL 3D

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../c8/" class="md-tabs__link">
          
  
    
  
  8.高阶3D

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../c9/" class="md-tabs__link">
          
  
    
  
  9.WEBGPU

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../a1/" class="md-tabs__link">
          
  
    
  
  附录A

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../a2/" class="md-tabs__link">
          
  
    
  
  附录B

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../a3/" class="md-tabs__link">
          
  
    
  
  附录C

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../source/" class="md-tabs__link">
          
  
    
  
  附录D

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../glossary/" class="md-tabs__link">
          
  
    
  
  术语表

        </a>
      </li>
    
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        
  
    
  
  关于

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="计算机图形学概论" class="md-nav__button md-logo" aria-label="计算机图形学概论" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    计算机图形学概论
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/hellowac/graphicsbook-zh-cn" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    graphicsbook
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    首页
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../preface/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    前言
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../c1/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    1.简介
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            1.简介
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../c1/s1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    第 1 节 绘画与绘图
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../c1/s2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    第 2 节：三维(3D)图形的要素
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../c1/s3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    第 3 节：硬件与软件
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../c2/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    2.二维图形
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4" id="__nav_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            2.二维图形
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../c2/s1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    第1节: 像素、坐标和颜色
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../c2/s2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    第2节: 形状
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../c2/s3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    第3节: 变换
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../c2/s4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    第4节: 分层建模
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../c2/s5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    第5节: Java 绘制2D
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../c2/s6/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    第6节: HTML Canvas图形
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../c2/s7/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    第7节: SVG：一种场景描述语言
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    3.几何
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5" id="__nav_5_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            3.几何
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../s1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.1 OpenGL 1.1 中的形状和颜色
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../s2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.2 3D 坐标和变换
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../s3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.3 投影与观看
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../s4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.4 多边形网格和 glDrawArrays
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../s5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.5 部分线性代数基础
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    3.6 使用 GLUT 和 JOGL
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    3.6 使用 GLUT 和 JOGL
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#361-使用glut" class="md-nav__link">
    <span class="md-ellipsis">
      3.6.1 使用GLUT
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#362-使用jogl" class="md-nav__link">
    <span class="md-ellipsis">
      3.6.2 使用JOGL
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#363-关于-glsimjs" class="md-nav__link">
    <span class="md-ellipsis">
      3.6.3 关于 glsim.js
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../c4/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    4.灯光和材质
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6" id="__nav_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            4.灯光和材质
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../c4/s1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4.1 照明简介
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../c4/s2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4.2 OpenGL 1.1 中的光和材质
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../c4/s3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4.3 图像纹理
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../c4/s4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4.4 灯光、相机、动作
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../c5/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    5.three.js
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_7" id="__nav_7_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            5.three.js
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../c5/s1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    5.1 Three.js 基础
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../c5/s2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    5.2 构建对象
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../c5/s3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    5.3 其他功能
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../c6/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    6.WebGL
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_8" id="__nav_8_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            6.WebGL
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../c6/s1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    6.1 可编程流水线
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../c6/s2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    6.2 第一个例子
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../c6/s3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    6.3 GLSL
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../c6/s4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    6.4 图像纹理
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../c6/s5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    6.5 实现 2D 变换
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../c7/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    7.WebGL 3D
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_9" id="__nav_9_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            7.WebGL 3D
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../c7/s1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    7.1 3D变换
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../c7/s2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    7.2 照明和材质
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../c7/s3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    7.3 纹理
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../c7/s4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    7.4 帧缓冲区
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../c7/s5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    7.5 WebGL 扩展
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../c8/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    8.高阶3D
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10" id="__nav_10_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10">
            <span class="md-nav__icon md-icon"></span>
            8.高阶3D
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../c8/s1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    8.1 光线追踪
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../c8/s2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    8.2 路径追踪
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_11" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../c9/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    9.WEBGPU
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_11" id="__nav_11_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_11">
            <span class="md-nav__icon md-icon"></span>
            9.WEBGPU
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../c9/s1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    9.1 WebGPU 基础
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../c9/s2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    9.2 实例和索引
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../c9/s3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    9.3 WGSL
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../c9/s4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    9.4 WebGPU 中的 3D 图形
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../c9/s5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    9.5 纹理
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../c9/s6/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    9.6 计算着色器
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../c9/s7/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    9.7 细节
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_12" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../a1/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    附录A
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_12" id="__nav_12_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_12">
            <span class="md-nav__icon md-icon"></span>
            附录A
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../a1/s1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    A.1 Java 编程语言
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../a1/s2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    A.2 C 编程语言
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../a1/s3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    A.3 JavaScript 编程语言
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../a1/s4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    A.4 JavaScript Promise 和异步函数
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_13" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../a2/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    附录B
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_13" id="__nav_13_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_13_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_13">
            <span class="md-nav__icon md-icon"></span>
            附录B
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../a2/s1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    B.1 节 Blender 基础知识
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../a2/s2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    B.2 节 Blender 建模
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../a2/s3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    B.3 节 Blender 动画
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../a2/s4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    B.4 节 有关光和材料的更多信息
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_14" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../a3/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    附录C
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_14" id="__nav_14_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_14_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_14">
            <span class="md-nav__icon md-icon"></span>
            附录C
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../a3/s1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    C.1 节 Gimp：2D 绘画程序
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_15" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../source/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    附录D
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_15_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_15">
            <span class="md-nav__icon md-icon"></span>
            附录D
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_16" >
        
          
          <label class="md-nav__link" for="__nav_16" id="__nav_16_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    术语表
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_16_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_16">
            <span class="md-nav__icon md-icon"></span>
            术语表
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../glossary/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    术语表
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    关于
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#361-使用glut" class="md-nav__link">
    <span class="md-ellipsis">
      3.6.1 使用GLUT
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#362-使用jogl" class="md-nav__link">
    <span class="md-ellipsis">
      3.6.2 使用JOGL
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#363-关于-glsimjs" class="md-nav__link">
    <span class="md-ellipsis">
      3.6.3 关于 glsim.js
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="36-使用-glut-和-jogl">3.6 使用 <abbr title="OpenGL实用工具包。用于编写OpenGL应用程序的跨平台库。OpenGL本身不包含对窗口或事件的支持。GLUT添加了这样的支持。它还具有用于绘制3D形状（如球体和多面体，更不用说茶壶了）的函数。GLUT用C语言编写，并与OpenGL的C API一起使用。然而，许多GLUT函数也在JOGL中可用，它是OpenGL的Java API。一种较新且稍有改进的工具包版本名为“FreeGLUT”，通常用于取代原始版本。">GLUT</abbr> 和 <abbr title="OpenGL的Java实现。JOGL非常复杂，因为它试图在一个编程系统中支持所有版本的OpenGL。JOGL与Java的Swing和AWT图形无缝集成。">JOGL</abbr><a class="headerlink" href="#36-使用-glut-和-jogl" title="Permanent link">&para;</a></h1>
<p><strong>Using <abbr title="OpenGL实用工具包。用于编写OpenGL应用程序的跨平台库。OpenGL本身不包含对窗口或事件的支持。GLUT添加了这样的支持。它还具有用于绘制3D形状（如球体和多面体，更不用说茶壶了）的函数。GLUT用C语言编写，并与OpenGL的C API一起使用。然而，许多GLUT函数也在JOGL中可用，它是OpenGL的Java API。一种较新且稍有改进的工具包版本名为“FreeGLUT”，通常用于取代原始版本。">GLUT</abbr> and <abbr title="OpenGL的Java实现。JOGL非常复杂，因为它试图在一个编程系统中支持所有版本的OpenGL。JOGL与Java的Swing和AWT图形无缝集成。">JOGL</abbr></strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:2"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">中文</label><label for="__tabbed_1_2">英文</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>OpenGL是一个仅用于图形的API，不支持诸如窗口或事件之类的功能。OpenGL依赖外部机制来创建绘图表面，然后在其上进行绘制。支持OpenGL的窗口API通常作为许多其他库之一，用于生成完整应用程序的一部分。我们将看两个跨平台API，使得在应用程序中使用OpenGL成为可能，一个是用于C/C++的，另一个是用于Java的。</p>
<p>对于用C或C++编写的简单应用程序，一个可能的窗口API是GLUT（OpenGL实用工具包）。<strong> <abbr title="OpenGL实用工具包。用于编写OpenGL应用程序的跨平台库。OpenGL本身不包含对窗口或事件的支持。GLUT添加了这样的支持。它还具有用于绘制3D形状（如球体和多面体，更不用说茶壶了）的函数。GLUT用C语言编写，并与OpenGL的C API一起使用。然而，许多GLUT函数也在JOGL中可用，它是OpenGL的Java API。一种较新且稍有改进的工具包版本名为“FreeGLUT”，通常用于取代原始版本。">GLUT</abbr></strong>是一个小型API。它用于创建作为OpenGL绘图表面简单框架的窗口。它支持处理鼠标和键盘事件，并且可以进行基本动画。它不支持按钮或输入字段等控件，但允许响应鼠标操作而弹出菜单。原始版本的GLUT已不再得到积极支持，推荐使用名为freeglut的版本（<a href="http://freeglut.sourceforge.net/">http://freeglut.sourceforge.net/</a>）。例如，Linux中包含的版本实际上是freeglut。有关freeglut API的详细信息，请参阅<a href="http://freeglut.sourceforge.net/docs/api.php">http://freeglut.sourceforge.net/docs/api.php</a>。</p>
<p>** <abbr title="OpenGL的Java实现。JOGL非常复杂，因为它试图在一个编程系统中支持所有版本的OpenGL。JOGL与Java的Swing和AWT图形无缝集成。">JOGL</abbr><strong>（Java <abbr title="A family of computer graphics APIs that is implemented in many graphics hardware devices. There are several versions of the API, and there are implementations, or &quot;bindings&quot; for several different programming languages. Versions of OpenGL for embedded systems such as mobile phones are known as OpenGL ES. WebGL is a version for use on Web pages. OpenGL can be used for 2D as well as for 3D graphics, but it is most commonly associated with 3D.">OpenGL</abbr>）是一组类，使得在Java应用程序中使用OpenGL成为可能。JOGL已集成到Swing和AWT中，这是标准的Java图形用户界面API。使用JOGL，您可以创建Java GUI组件，并使用OpenGL进行绘制。这些OpenGL组件可以在任何Java应用程序中使用，类似于您使用</strong>Canvas<strong>或</strong>JPanel**作为绘图表面的方式。像许多Java的东西一样，JOGL非常复杂。我们只会在相当简单的应用程序中使用它。JOGL不是Java的标准部分。它的官方网站是<a href="http://jogamp.org/jogl/www/">http://jogamp.org/jogl/www/</a>。</p>
<p>本节包含了使用GLUT和JOGL的入门信息，假设您已经了解了使用C和Java进行编程的基础知识。它还简要讨论了<em>glsim.js</em>，这是我编写的一个JavaScript库，用于模拟本书中使用的OpenGL 1.1的子集。</p>
</div>
<div class="tabbed-block">
<p><abbr title="A family of computer graphics APIs that is implemented in many graphics hardware devices. There are several versions of the API, and there are implementations, or &quot;bindings&quot; for several different programming languages. Versions of OpenGL for embedded systems such as mobile phones are known as OpenGL ES. WebGL is a version for use on Web pages. OpenGL can be used for 2D as well as for 3D graphics, but it is most commonly associated with 3D.">OpenGL</abbr> is an <abbr title="Application Programming Interface. A collection of related classes, functions, constants, etc., for performing some task. An API is an &quot;interface&quot; in the sense that it can be used without understanding how its functionality is actually implemented.">API</abbr> for graphics only, with no support for things like windows or events. <abbr title="A family of computer graphics APIs that is implemented in many graphics hardware devices. There are several versions of the API, and there are implementations, or &quot;bindings&quot; for several different programming languages. Versions of OpenGL for embedded systems such as mobile phones are known as OpenGL ES. WebGL is a version for use on Web pages. OpenGL can be used for 2D as well as for 3D graphics, but it is most commonly associated with 3D.">OpenGL</abbr> depends on external mechanisms to create the drawing surfaces on which it will draw. Windowing APIs that support <abbr title="A family of computer graphics APIs that is implemented in many graphics hardware devices. There are several versions of the API, and there are implementations, or &quot;bindings&quot; for several different programming languages. Versions of OpenGL for embedded systems such as mobile phones are known as OpenGL ES. WebGL is a version for use on Web pages. OpenGL can be used for 2D as well as for 3D graphics, but it is most commonly associated with 3D.">OpenGL</abbr> often do so as one library among many others that are used to produce a complete application. We will look at two cross-platform APIs that make it possible to use <abbr title="A family of computer graphics APIs that is implemented in many graphics hardware devices. There are several versions of the API, and there are implementations, or &quot;bindings&quot; for several different programming languages. Versions of OpenGL for embedded systems such as mobile phones are known as OpenGL ES. WebGL is a version for use on Web pages. OpenGL can be used for 2D as well as for 3D graphics, but it is most commonly associated with 3D.">OpenGL</abbr> in applications, one for C/C++ and one for Java.</p>
<p>For simple applications written in C or C++, one possible windowing <abbr title="Application Programming Interface. A collection of related classes, functions, constants, etc., for performing some task. An API is an &quot;interface&quot; in the sense that it can be used without understanding how its functionality is actually implemented.">API</abbr> is <abbr title="OpenGL实用工具包。用于编写OpenGL应用程序的跨平台库。OpenGL本身不包含对窗口或事件的支持。GLUT添加了这样的支持。它还具有用于绘制3D形状（如球体和多面体，更不用说茶壶了）的函数。GLUT用C语言编写，并与OpenGL的C API一起使用。然而，许多GLUT函数也在JOGL中可用，它是OpenGL的Java API。一种较新且稍有改进的工具包版本名为“FreeGLUT”，通常用于取代原始版本。">GLUT</abbr> (<abbr title="A family of computer graphics APIs that is implemented in many graphics hardware devices. There are several versions of the API, and there are implementations, or &quot;bindings&quot; for several different programming languages. Versions of OpenGL for embedded systems such as mobile phones are known as OpenGL ES. WebGL is a version for use on Web pages. OpenGL can be used for 2D as well as for 3D graphics, but it is most commonly associated with 3D.">OpenGL</abbr> Utility Toolkit). <abbr title="OpenGL实用工具包。用于编写OpenGL应用程序的跨平台库。OpenGL本身不包含对窗口或事件的支持。GLUT添加了这样的支持。它还具有用于绘制3D形状（如球体和多面体，更不用说茶壶了）的函数。GLUT用C语言编写，并与OpenGL的C API一起使用。然而，许多GLUT函数也在JOGL中可用，它是OpenGL的Java API。一种较新且稍有改进的工具包版本名为“FreeGLUT”，通常用于取代原始版本。">GLUT</abbr> is a small <abbr title="Application Programming Interface. A collection of related classes, functions, constants, etc., for performing some task. An API is an &quot;interface&quot; in the sense that it can be used without understanding how its functionality is actually implemented.">API</abbr>. It is used to create windows that serve as simple frames for <abbr title="A family of computer graphics APIs that is implemented in many graphics hardware devices. There are several versions of the API, and there are implementations, or &quot;bindings&quot; for several different programming languages. Versions of OpenGL for embedded systems such as mobile phones are known as OpenGL ES. WebGL is a version for use on Web pages. OpenGL can be used for 2D as well as for 3D graphics, but it is most commonly associated with 3D.">OpenGL</abbr> drawing surfaces. It has support for handling mouse and keyboard events, and it can do basic <abbr title="A sequence of images that, when displayed quickly one after the other, will produce the impression of continuous motion or change. The term animation also refers to the process of creating such image sequences.">animation</abbr>. It does not support controls such as buttons or input fields, but it does allow for a menu that pops up in response to a mouse action. The original version of <abbr title="OpenGL实用工具包。用于编写OpenGL应用程序的跨平台库。OpenGL本身不包含对窗口或事件的支持。GLUT添加了这样的支持。它还具有用于绘制3D形状（如球体和多面体，更不用说茶壶了）的函数。GLUT用C语言编写，并与OpenGL的C API一起使用。然而，许多GLUT函数也在JOGL中可用，它是OpenGL的Java API。一种较新且稍有改进的工具包版本名为“FreeGLUT”，通常用于取代原始版本。">GLUT</abbr> is no longer actively supported, and a version called freeglut (<a href="http://freeglut.sourceforge.net/">http://freeglut.sourceforge.net/</a>) is recommended instead. For example, the version included in Linux is actually freeglut. For details of the freeglut <abbr title="Application Programming Interface. A collection of related classes, functions, constants, etc., for performing some task. An API is an &quot;interface&quot; in the sense that it can be used without understanding how its functionality is actually implemented.">API</abbr>, see</p>
<p><a href="http://freeglut.sourceforge.net/docs/api.php">http://freeglut.sourceforge.net/docs/api.php</a></p>
<p><abbr title="OpenGL的Java实现。JOGL非常复杂，因为它试图在一个编程系统中支持所有版本的OpenGL。JOGL与Java的Swing和AWT图形无缝集成。">JOGL</abbr> (Java <abbr title="A family of computer graphics APIs that is implemented in many graphics hardware devices. There are several versions of the API, and there are implementations, or &quot;bindings&quot; for several different programming languages. Versions of OpenGL for embedded systems such as mobile phones are known as OpenGL ES. WebGL is a version for use on Web pages. OpenGL can be used for 2D as well as for 3D graphics, but it is most commonly associated with 3D.">OpenGL</abbr>) is a collection of classes that make it possible to use <abbr title="A family of computer graphics APIs that is implemented in many graphics hardware devices. There are several versions of the API, and there are implementations, or &quot;bindings&quot; for several different programming languages. Versions of OpenGL for embedded systems such as mobile phones are known as OpenGL ES. WebGL is a version for use on Web pages. OpenGL can be used for 2D as well as for 3D graphics, but it is most commonly associated with 3D.">OpenGL</abbr> in Java applications. <abbr title="OpenGL的Java实现。JOGL非常复杂，因为它试图在一个编程系统中支持所有版本的OpenGL。JOGL与Java的Swing和AWT图形无缝集成。">JOGL</abbr> is integrated into Swing and AWT, the standard Java graphical user interface APIs. With <abbr title="OpenGL的Java实现。JOGL非常复杂，因为它试图在一个编程系统中支持所有版本的OpenGL。JOGL与Java的Swing和AWT图形无缝集成。">JOGL</abbr>, you can create Java <abbr title="(Graphical User Interface.) A user interface for a program where the user interacts with the program using components such as windows, menus, buttons, and text-input boxes.">GUI</abbr> components on which you can draw using <abbr title="A family of computer graphics APIs that is implemented in many graphics hardware devices. There are several versions of the API, and there are implementations, or &quot;bindings&quot; for several different programming languages. Versions of OpenGL for embedded systems such as mobile phones are known as OpenGL ES. WebGL is a version for use on Web pages. OpenGL can be used for 2D as well as for 3D graphics, but it is most commonly associated with 3D.">OpenGL</abbr>. These <abbr title="A family of computer graphics APIs that is implemented in many graphics hardware devices. There are several versions of the API, and there are implementations, or &quot;bindings&quot; for several different programming languages. Versions of OpenGL for embedded systems such as mobile phones are known as OpenGL ES. WebGL is a version for use on Web pages. OpenGL can be used for 2D as well as for 3D graphics, but it is most commonly associated with 3D.">OpenGL</abbr> components can be used in any Java application, in much the same way that you would use a <strong>Canvas</strong> or <strong>JPanel</strong> as a drawing surface. Like many things Java, <abbr title="OpenGL的Java实现。JOGL非常复杂，因为它试图在一个编程系统中支持所有版本的OpenGL。JOGL与Java的Swing和AWT图形无缝集成。">JOGL</abbr> is immensely complicated. We will use it only in fairly simple applications. <abbr title="OpenGL的Java实现。JOGL非常复杂，因为它试图在一个编程系统中支持所有版本的OpenGL。JOGL与Java的Swing和AWT图形无缝集成。">JOGL</abbr> is not a standard part of Java. It's home web site is</p>
<p><a href="http://jogamp.org/jogl/www/">http://jogamp.org/jogl/www/</a></p>
<p>This section contains information to get you started using <abbr title="OpenGL实用工具包。用于编写OpenGL应用程序的跨平台库。OpenGL本身不包含对窗口或事件的支持。GLUT添加了这样的支持。它还具有用于绘制3D形状（如球体和多面体，更不用说茶壶了）的函数。GLUT用C语言编写，并与OpenGL的C API一起使用。然而，许多GLUT函数也在JOGL中可用，它是OpenGL的Java API。一种较新且稍有改进的工具包版本名为“FreeGLUT”，通常用于取代原始版本。">GLUT</abbr> and <abbr title="OpenGL的Java实现。JOGL非常复杂，因为它试图在一个编程系统中支持所有版本的OpenGL。JOGL与Java的Swing和AWT图形无缝集成。">JOGL</abbr>, assuming that you already know the basics of programming with C and Java. It also briefly discusses <em>glsim.js</em>, a <abbr title="A programming language for web pages. JavaScript code on a web page is executed by a web browser that displays the page, and it can interact with the contents of the web page and with the user. There are JavaScript APIs for 2D and for 3D graphics">JavaScript</abbr> library that I have written to simulate the subset of <abbr title="A family of computer graphics APIs that is implemented in many graphics hardware devices. There are several versions of the API, and there are implementations, or &quot;bindings&quot; for several different programming languages. Versions of OpenGL for embedded systems such as mobile phones are known as OpenGL ES. WebGL is a version for use on Web pages. OpenGL can be used for 2D as well as for 3D graphics, but it is most commonly associated with 3D.">OpenGL</abbr> 1.1 that is used in this book.</p>
</div>
</div>
</div>
<h2 id="361-使用glut">3.6.1 使用GLUT<a class="headerlink" href="#361-使用glut" title="Permanent link">&para;</a></h2>
<div class="tabbed-set tabbed-alternate" data-tabs="2:2"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio" /><input id="__tabbed_2_2" name="__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="__tabbed_2_1">中文</label><label for="__tabbed_2_2">英文</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>要使用GLUT，您需要一个C编译器以及OpenGL和GLUT（或freeglut）开发库的副本。我无法告诉您在您自己的计算机上具体是什么意思。例如，在我运行Linux Mint的计算机上，免费的C编译器gcc已经可用。为了进行OpenGL开发，我安装了几个包，包括freeglut3-dev和libgl1-mesa-dev。（Mesa是OpenGL的Linux实现。）如果glutprog.c包含一个完整的使用GLUT的C程序，我可以使用如下命令编译它：</p>
<div class="highlight"><pre><span></span><code><span class="n">gcc</span><span class="w"> </span><span class="o">-</span><span class="n">o</span><span class="w"> </span><span class="n">glutprog</span><span class="w"> </span><span class="n">glutprog</span><span class="p">.</span><span class="n">c</span><span class="w"> </span><span class="o">-</span><span class="n">lGL</span><span class="w"> </span><span class="o">-</span><span class="n">lglut</span>
</code></pre></div>
<p>“-o glutprog”告诉编译器将“glutprog”用作其输出文件的名称，然后可以像正常的可执行文件一样运行它；如果没有此选项，则可执行文件的名称将为“a.out”。“-lglut”和“-lGL”选项告诉编译器将程序与GLUT和OpenGL库链接在一起。（“-”后的字符是小写的“L”。）如果没有这些选项，链接器将不会识别任何GLUT或OpenGL函数。如果程序还使用了GLU库，编译它将需要选项“-lGLU”，如果使用了数学库，还需要选项“-lm”。如果程序需要其他.c文件，也应该包括在内。例如，示例程序<a href="../../../en/source/glut/color-cube-of-spheres.c">glut/color-cube-of-spheres.c</a>依赖于camera.c，可以使用Linux的gcc编译器使用以下命令编译：</p>
<div class="highlight"><pre><span></span><code><span class="n">gcc</span><span class="w"> </span><span class="o">-</span><span class="n">o</span><span class="w"> </span><span class="n">cubes</span><span class="w"> </span><span class="n">color</span><span class="o">-</span><span class="n">cube</span><span class="o">-</span><span class="n">of</span><span class="o">-</span><span class="n">spheres</span><span class="p">.</span><span class="n">c</span><span class="w"> </span><span class="n">camera</span><span class="p">.</span><span class="n">c</span><span class="w"> </span><span class="o">-</span><span class="n">lGL</span><span class="w"> </span><span class="o">-</span><span class="n">lglut</span><span class="w"> </span><span class="o">-</span><span class="n">lGLU</span><span class="w"> </span><span class="o">-</span><span class="n">lm</span>
</code></pre></div>
<p>示例程序<a href="../../../en/source/glut/glut-starter.c">glut/glut-starter.c</a>可用作编写使用GLUT的程序的起点。虽然它除了打开一个窗口外什么也不做，但程序包含进行OpenGL绘制所需的框架，包括执行动画、响应鼠标和键盘事件以及设置菜单。源代码包含了告诉您如何使用它的注释。</p>
<p><strong>在Windows上</strong>，您可以考虑安装WSL，即Windows子系统Linux（<a href="https://docs.microsoft.com/zh-cn/windows/wsl/">https://docs.microsoft.com/zh-cn/windows/wsl/</a>），根据我写这篇文章的时间，它应该很快将包括使用图形界面程序的功能。WSL是微软的官方系统，允许您在Windows内部安装Linux的一个版本。另一个选择是较旧的开源项目Cygwin（<a href="https://cygwin.com/">https://cygwin.com/</a>）。（使用Cygwin，我安装了gcc-core、xinit、xorg-server、libglut-devel、libGLU-devel和libGL-devel等软件包。使用startxwin命令启动X11窗口系统后，我能够在Cygwin终端窗口中使用与在Linux中相同的命令编译和运行来自本教材的OpenGL示例。）</p>
<p><strong>对于MacOS</strong>，情况更为复杂，因为OpenGL已被苹果自家的专有API Metal所取代。然而，根据我写这篇文章的时间，仍然可以使用苹果的XCode开发工具在MacOS上使用OpenGL。本教材的示例需要进行一些修改，以便与XCode工具一起使用，因为在Mac上，OpenGL和GLUT库的加载方式与在Linux上不同。用于在MacOS上使用的修改过的程序可以在源文件夹<a href="../../../en/source/glut/glut-mac">glut/glut-mac</a>中找到。有关更多信息，请参阅该文件夹中的README.txt文件。</p>
<hr />
<p>GLUT库使得在C语言中编写基本的OpenGL应用程序变得简单。GLUT使用事件处理函数。您需要编写处理事件的函数，以处理显示需要重新绘制时发生的事件，或者当用户点击鼠标或按键盘上的键时发生的事件。</p>
<p>要使用GLUT，您需要在任何使用它的源代码文件开头包含头文件<em>glut.h</em>（或<em>freeglut.h</em>），以及通用的OpenGL头文件<em>gl.h</em>。头文件应安装在标准位置，即名为GL的文件夹中。（但请注意，文件夹名称可能不同，或者完全省略。）因此，程序通常以以下方式开始：</p>
<div class="highlight"><pre><span></span><code><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;GL/gl.h&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;GL/glut.h&gt;</span>
</code></pre></div>
<p>在我的计算机上，写 <code>#include &lt;GL/glut.h&gt;</code> 实际上包含了对应于GLUT的FreeGLUT的子集。要访问所有FreeGLUT，我会替换为 <code>#include &lt;GL/freeglut.h&gt;</code>。根据程序使用的功能，程序可能需要其他头文件，如 <code>#include &lt;GL/glu.h&gt;</code> 和 <code>#include &lt;math.h&gt;</code>。</p>
<p>程序的<code>main()</code>函数必须包含一些代码来初始化GLUT，创建和打开一个窗口，并通过注册应该在各种事件发生时调用的函数来设置事件处理。设置完成后，它必须调用一个函数来运行GLUT事件处理循环。该函数等待事件并通过调用已注册的函数来处理它们。事件循环一直运行，直到程序结束，这发生在用户关闭窗口或程序调用标准的<code>exit()</code>函数时。</p>
<p>为了设置事件处理函数，GLUT利用了在C语言中将函数名作为参数传递给另一个函数的事实。例如，如果<code>display()</code>是应该被调用来绘制窗口内容的函数，那么程序将使用命令</p>
<div class="highlight"><pre><span></span><code><span class="n">glutDisplayFunc</span><span class="p">(</span><span class="n">display</span><span class="p">);</span>
</code></pre></div>
<p>将此函数安装为显示事件的事件处理程序。显示事件发生在需要重新绘制窗口的内容时，包括窗口首次打开时。请注意，<em>display</em> 必须事先定义为一个没有参数的函数：</p>
<div class="highlight"><pre><span></span><code><span class="kt">void</span><span class="w"> </span><span class="nf">display</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="p">.</span>
<span class="p">.</span><span class="w">  </span><span class="c1">// OpenGL绘图代码在这里！</span>
<span class="p">.</span>
<span class="p">}</span>
</code></pre></div>
<p>请记住，它并不是函数的名称使其成为一个OpenGL显示函数。它必须通过调用glutDisplayFunc(display)设置为显示函数。所有的GLUT事件处理函数都以类似的方式工作（除了其中许多确实需要参数）。</p>
<p>有许多可能的事件处理函数，在这里我只涵盖了其中的一些。让我们直接跳入，看一个使用大多数常见事件处理程序的GLUT程序可能的<code>main()</code>函数例程：</p>
<div class="highlight"><pre><span></span><code><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">argc</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="o">**</span><span class="w"> </span><span class="n">argv</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">glutInit</span><span class="p">(</span><span class="o">&amp;</span><span class="n">argc</span><span class="p">,</span><span class="w"> </span><span class="n">argv</span><span class="p">);</span><span class="w">  </span><span class="c1">// 必要的初始化！</span>
<span class="w">    </span><span class="n">glutInitDisplayMode</span><span class="p">(</span><span class="n">GLUT_DOUBLE</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">GLUT_DEPTH</span><span class="p">);</span>
<span class="w">    </span><span class="n">glutInitWindowSize</span><span class="p">(</span><span class="mi">500</span><span class="p">,</span><span class="mi">500</span><span class="p">);</span><span class="w">        </span><span class="c1">// 显示区域的大小，以像素为单位</span>
<span class="w">    </span><span class="n">glutInitWindowPosition</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="mi">100</span><span class="p">);</span><span class="w">    </span><span class="c1">// 屏幕坐标中的位置</span>
<span class="w">    </span><span class="n">glutCreateWindow</span><span class="p">(</span><span class="s">&quot;OpenGL程序&quot;</span><span class="p">);</span><span class="w"> </span><span class="c1">// 参数是窗口标题  </span>

<span class="w">    </span><span class="n">glutDisplayFunc</span><span class="p">(</span><span class="n">display</span><span class="p">);</span><span class="w">       </span><span class="c1">// 当窗口需要重新绘制时调用</span>
<span class="w">    </span><span class="n">glutReshapeFunc</span><span class="p">(</span><span class="n">reshape</span><span class="p">);</span><span class="w">       </span><span class="c1">// 当窗口大小变化时调用</span>
<span class="w">    </span><span class="n">glutKeyboardFunc</span><span class="p">(</span><span class="n">keyFunc</span><span class="p">);</span><span class="w">      </span><span class="c1">// 当用户键入字符时调用</span>
<span class="w">    </span><span class="n">glutSpecialFunc</span><span class="p">(</span><span class="n">specialKeyFunc</span><span class="p">);</span><span class="c1">// 当用户按下特殊键时调用</span>
<span class="w">    </span><span class="n">glutMouseFunc</span><span class="p">(</span><span class="n">mouseFunc</span><span class="p">);</span><span class="w">       </span><span class="c1">// 鼠标按下和抬起事件调用</span>
<span class="w">    </span><span class="n">glutMotionFunc</span><span class="p">(</span><span class="n">mouseDragFunc</span><span class="p">);</span><span class="w">  </span><span class="c1">// 当鼠标拖动时调用</span>
<span class="w">    </span><span class="n">glutIdleFunc</span><span class="p">(</span><span class="n">idleFun</span><span class="p">);</span><span class="w">          </span><span class="c1">// 当没有其他事件时调用</span>

<span class="w">    </span><span class="n">glutMainLoop</span><span class="p">();</span><span class="w"> </span><span class="c1">// 运行事件循环！这个函数永远不会返回。</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w">  </span><span class="c1">// （这一行实际上永远不会被执行。）</span>
<span class="p">}</span>
</code></pre></div>
<p>前五行进行了一些必要的初始化，接下来的七行安装了事件处理程序，而调用<em>glutMainLoop()</em>则运行了GLUT事件循环。我将讨论此处使用的所有函数。第一个GLUT函数调用必须是glutInit，参数如所示。（请注意，argc和argv表示程序的命令行参数。将它们传递给glutInit允许它处理GLUT识别的某些命令行参数。我在这里不讨论这些参数。）函数<em>glutInitWindowSize</em>和<em>glutInitWindowPosition</em>分别做了显而易见的事情；大小以像素为单位给出，窗口位置以计算机屏幕上的像素坐标表示，左上角为(0,0)。函数<em>glutCreateWindow</em>创建窗口，但请注意，在调用<em>glutMainLoop</em>之前，该窗口中不会发生任何事情。通常，在main()中调用一个额外的用户定义函数来进行所需的全局变量和OpenGL状态的初始化。OpenGL初始化可以在调用<em>glutCreateWindow</em>之后和调用<em>glutMainLoop</em>之前进行。转向main()中使用的其他函数，</p>
<p><code>glutInitDisplayMode(GLUT_DOUBLE | GLUT_DEPTH)</code> — 必须调用以定义OpenGL绘图上下文的一些特征。参数指定您希望OpenGL上下文具有的特征。这些特征由在参数中OR在一起的常量表示。<em>GLUT_DEPTH</em>表示应创建深度缓冲区；如果没有它，深度测试将无法工作。如果您正在进行2D图形绘制，您不会包含此选项。<em>GLUT_DOUBLE</em>请求<strong><abbr title="一种图形技术，图像绘制在屏幕之外的内存区域中，称为&quot;后备缓冲区&quot;或&quot;后缓冲区&quot;。当图像绘制完成后，它可以被复制到表示屏幕内容的缓冲区，也称为&quot;前缓冲区&quot;。在真正的双缓冲中，图像不必被复制；相反，缓冲区可以被&quot;交换&quot;，使得后缓冲区成为前缓冲区，而前缓冲区成为后缓冲区。">双缓冲</abbr></strong>，这意味着绘图实际上是在屏幕外进行的，并且必须将屏幕外的副本复制到屏幕上才能看到。复制由<code>glutSwapBuffers()</code>执行，在显示函数的末尾必须调用它。（您可以使用GLUT_SINGLE代替<em>GLUT_DOUBLE</em>以获得单缓冲；在这种情况下，您必须在显示函数的末尾调用<em>glFlush()</em>而不是<code>glutSwapBuffers()</code>。然而，本书中的所有示例都使用<em>GLUT_DOUBLE</em>。）</p>
<p><code>glutDisplayFunc(display)</code> — 显示函数应包含能够完全重绘场景的OpenGL绘制代码。这类似于Java Swing API中的<em>paintComponent()</em>。显示函数可以具有任何名称，但它必须声明为无参数的void函数：<em>void display()</em>。</p>
<p><code>glutReshapeFunc(reshape)</code> — 当用户改变窗口的大小时，会调用重塑函数。它的参数告诉了绘图区域的新宽度和高度：</p>
<div class="highlight"><pre><span></span><code><span class="kt">void</span><span class="w"> </span><span class="n">reshape</span><span class="p">(</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">width</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">height</span><span class="w"> </span><span class="p">)</span>
</code></pre></div>
<p>例如，如果投影只取决于窗口大小，您可能会使用此方法来设置投影变换。不需要重塑函数，但如果提供了一个，它应该始终设置OpenGL视口，这是用于绘制的窗口的一部分。通过调用以下代码来实现：</p>
<div class="highlight"><pre><span></span><code><span class="n">glViewport</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="n">width</span><span class="p">,</span><span class="n">height</span><span class="p">);</span>
</code></pre></div>
<p>如果没有指定重塑函数，则会自动设置视口。</p>
<p><code>glutKeyboardFunc(keyFunc)</code> — 键盘函数在用户键入字符（如'b'、'A'或空格）时调用。当按下不产生字符的特殊键（如箭头键）时，不会调用键盘函数。键盘函数有一个<strong>unsigned char</strong>类型的参数，表示键入的字符。它还有两个int类型的参数，表示按下键时鼠标的位置，以像素坐标表示，左上角为绘图区域的(0,0)。因此，键函数的定义必须具有以下形式：</p>
<div class="highlight"><pre><span></span><code><span class="kt">void</span><span class="w"> </span><span class="n">keyFunc</span><span class="p">(</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">ch</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="p">)</span>
</code></pre></div>
<p>每当您对程序的数据进行更改需要重新绘制时，您应该调用<em>glutPostRedisplay()</em>。这类似于在Java中调用repaint()。最好调用<em>glutPostRedisplay()</em>而不是直接调用显示函数。 （我还注意到，可以在事件处理函数中直接调用OpenGL绘图命令，但这可能只有在使用单缓冲时才有意义；如果这样做，调用glFlush()确保绘图显示在屏幕上。）</p>
<p><code>glutSpecialFunc(specialKeyFunc)</code> — 当用户按下某些特殊键，如箭头键或Home键时，会调用“特殊”函数。参数是按下的键的整数代码，以及按下键时的鼠标位置：</p>
<div class="highlight"><pre><span></span><code><span class="kt">void</span><span class="w"> </span><span class="n">specialKeyFunc</span><span class="p">(</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">key</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="p">)</span>
</code></pre></div>
<p>GLUT有常量来表示可能的键代码，包括<em>GLUT_KEY_LEFT</em>、<em>GLUT_KEY_RIGHT</em>、<em>GLUT_KEY_UP</em>和<em>GLUT_KEY_DOWN</em>表示箭头键，以及<em>GLUT_KEY_HOME</em>表示Home键。例如，您可以通过测试是否(key == GLUT_KEY_LEFT)来检查用户是否按下了左箭头键。</p>
<p><code>glutMouseFunc(mouseFunc)</code> — 当用户按下鼠标按钮和释放鼠标按钮时，都会调用鼠标函数，参数告诉发生了哪种情况。该函数通常会像这样：</p>
<div class="highlight"><pre><span></span><code><span class="kt">void</span><span class="w"> </span><span class="nf">mouseFunc</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">button</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">buttonState</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">y</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">buttonState</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">GLUT_DOWN</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// 处理鼠标按下事件</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// buttonState is GLUT_UP</span>
<span class="w">        </span><span class="c1">// 处理鼠标释放事件</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>第一个参数告诉了是哪个鼠标按钮被按下或释放；它的值为常量<em>GLUT_LEFT_BUTTON</em>表示左键，<em>GLUT_MIDDLE_BUTTON</em>表示中键，<em>GLUT_RIGHT_BUTTON</em>表示右键。另外两个参数告诉了鼠标的位置。鼠标位置以像素坐标给出，左上角为(0,0)，y坐标从上到下增加。</p>
<p><code>glutMotionFunc(mouseDragFunc)</code> — 当用户拖动鼠标时调用运动函数，也就是说，当鼠标按钮按下时。在用户在OpenGL窗口中按下鼠标之后，即使鼠标移出窗口，此函数也将继续被调用，并且鼠标释放事件也将发送到同一窗口。该函数有两个参数来指定新的鼠标位置：</p>
<div class="highlight"><pre><span></span><code><span class="kt">void</span><span class="w"> </span><span class="n">mouseDragFunc</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">y</span><span class="p">)</span>
</code></pre></div>
<p><code>glutIdleFunc(idleFunction)</code> — 每当没有事件等待处理时，GLUT事件循环将调用空闲函数。空闲函数没有参数。它尽可能频繁地被调用，而不是以周期性间隔。GLUT还有一个定时器函数，它安排在指定延迟后调用某个函数一次。要设置定时器，调用</p>
<div class="highlight"><pre><span></span><code><span class="n">glutTimerFunc</span><span class="p">(</span><span class="n">delayInMilliseconds</span><span class="p">,</span><span class="w"> </span><span class="n">timerFunction</span><span class="p">,</span><span class="w"> </span><span class="n">userSelectedID</span><span class="p">)</span>
</code></pre></div>
<p>并将timerFunction定义为</p>
<div class="highlight"><pre><span></span><code><span class="kt">void</span><span class="w"> </span><span class="nf">timerFunction</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">timerID</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">...</span>
</code></pre></div>
<p>当调用timerFunction时，传递给它的参数将是与<em>glutTimerFunc</em>的第三个参数相同的整数。如果您想要使用<em>glutTimerFunc</em>进行动画，则timerFunction应该以另一个对<em>glutTimerFunc</em>的调用结束。</p>
<hr />
<p>一个GLUT窗口没有菜单栏，但可以向窗口添加一个隐藏的弹出菜单。该菜单将在鼠标单击显示区域时出现。您可以设置是由左、中还是右鼠标按钮触发菜单。</p>
<p>使用函数<em>glutCreateMenu(menuHandler)</em>创建菜单，其中参数是用户从菜单中选择命令时将调用的函数的名称。该函数必须使用int类型的参数定义，该参数标识用户选择的命令：</p>
<div class="highlight"><pre><span></span><code><span class="kt">void</span><span class="w"> </span><span class="nf">menuHandler</span><span class="p">(</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">commandID</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">...</span>
</code></pre></div>
<p>菜单创建后，通过调用函数<em>glutAddMenuEntry(name,commandID)</em>向菜单添加命令。第一个参数是菜单中显示的字符串。第二个参数是一个<strong>int</strong>，表示命令的标识符；当用户从菜单中选择命令时，该整数将传递给菜单处理函数。</p>
<p>最后，函数<em>glutAttachMenu(button)</em>将菜单附加到窗口。参数指定哪个鼠标按钮将触发菜单。可能的值包括<em>GLUT_LEFT_BUTTON</em>、<em>GLUT_MIDDLE_BUTTON</em>和<em>GLUT_RIGHT_BUTTON</em>。据我所知，如果使用鼠标单击触发弹出菜单，则相同的鼠标单击不会产生对鼠标处理程序函数的调用。</p>
<p>请注意，调用<em>glutAddMenuEntry</em>不提及菜单，调用<em>glutAttachMenu</em>也不提及菜单或窗口。当调用glutCreateMenu时，创建的菜单成为GLUT状态中的“当前菜单”。调用<em>glutAddMenuEntry</em>时，它会向当前菜单添加一个命令。当调用<em>glutAttachMenu</em>时，它将当前菜单附加到当前窗口，这是通过调用<em>glutCreateWindow</em>设置的。所有这些都与OpenGL“状态机”哲学一致，其中函数通过修改当前状态来执行操作。</p>
<p>例如，假设我们想让用户设置显示的背景颜色。我们需要一个函数来执行我们将添加到菜单中的命令。例如，我们可以定义</p>
<div class="highlight"><pre><span></span><code><span class="kt">void</span><span class="w"> </span><span class="nf">doMenu</span><span class="p">(</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">commandID</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">commandID</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span>
<span class="w">        </span><span class="n">glClearColor</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span><span class="w">  </span><span class="c1">// 黑色</span>
<span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">commandID</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span>
<span class="w">        </span><span class="n">glClearColor</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span><span class="w">  </span><span class="c1">// 白色</span>
<span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">commandID</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span>
<span class="w">        </span><span class="n">glClearColor</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mf">0.5</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span><span class="w">  </span><span class="c1">// 深蓝色</span>
<span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">commandID</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span>
<span class="w">        </span><span class="n">exit</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span><span class="w">  </span><span class="c1">// 结束程序</span>
<span class="w">    </span><span class="n">glutPostRedisplay</span><span class="p">();</span><span class="w">  </span><span class="c1">// 使用新的背景颜色重新绘制显示区域</span>
<span class="p">}</span>
</code></pre></div>
<p>我们可以有另一个函数来创建菜单。此函数将在<em>main()</em>中调用，在调用<em>glutCreateWindow</em>后调用：</p>
<div class="highlight"><pre><span></span><code><span class="kt">void</span><span class="w"> </span><span class="nf">createMenu</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">glutCreateMenu</span><span class="p">(</span><span class="w"> </span><span class="n">doMenu</span><span class="w"> </span><span class="p">);</span><span class="w">  </span><span class="c1">// 对菜单命令调用doMenu()。</span>
<span class="w">    </span><span class="n">glutAddMenuEntry</span><span class="p">(</span><span class="w"> </span><span class="s">&quot;黑色背景&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="n">glutAddMenuEntry</span><span class="p">(</span><span class="w"> </span><span class="s">&quot;白色背景&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="n">glutAddMenuEntry</span><span class="p">(</span><span class="w"> </span><span class="s">&quot;蓝色背景&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="n">glutAddMenuEntry</span><span class="p">(</span><span class="w"> </span><span class="s">&quot;退出&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="n">glutAttachMenu</span><span class="p">(</span><span class="n">GLUT_RIGHT_BUTTON</span><span class="p">);</span><span class="w"> </span><span class="c1">// 右键单击显示菜单。</span>
<span class="p">}</span>
</code></pre></div>
<p>菜单中还可以有子菜单。我不会在此处讨论该过程，但您可以查看样例程序<a href="../../../en/source/glut/ifs-polyhedron-viewer.c">glut/ifs-<abbr title="A closed 3D figure whose faces, or sides, are polygons. Usually, it is assumed that the faces of a polyhedron do not intersect, except along their edges.">polyhedron</abbr>-viewer.c</a>，了解如何使用子菜单的示例。</p>
<hr />
<p>除了窗口和事件处理之外，GLUT还包括一些用于绘制基本三维形状的函数，例如球体、圆锥体和常规多面体。每种形状都有两个函数，一个是“实心”版本，绘制实心对象，另一个是<strong><abbr title="一种绘制多面体或多边形网格的样式，只绘制边缘，结果是由线段构成的图像。">线框</abbr></strong>版本，绘制看起来像是由线网构成的东西。（线框是通过仅绘制构成对象的多边形的轮廓来生成的。）例如，函数</p>
<div class="highlight"><pre><span></span><code><span class="kt">void</span><span class="w"> </span><span class="n">glutSolidSphere</span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">radius</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">slices</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">stacks</span><span class="p">)</span>
</code></pre></div>
<p>绘制具有给定半径的实心球体，其中心位于原点。请记住，这只是球体的近似表示，由多边形组成。为了进行近似，球体被经线分隔，就像橘子的切片一样，以及纬线，就像一叠圆盘一样。参数slices和stacks指定要使用的子分割数量。典型值为32和16，但为了得到球体的良好近似，您需要的数量取决于屏幕上球体的大小。函数glutWireframeSphere具有相同的参数，但仅绘制纬线和经线。圆锥体、圆柱体和<strong><abbr title="一种3D几何对象，形状类似于一个甜甜圈（或贝果）。">圆环体</abbr></strong>（甜甜圈）的函数类似：</p>
<div class="highlight"><pre><span></span><code><span class="kt">void</span><span class="w"> </span><span class="n">glutSolidCone</span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">base</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">height</span><span class="p">,</span>
<span class="w">                                    </span><span class="kt">int</span><span class="w"> </span><span class="n">slices</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">stacks</span><span class="p">)</span>

<span class="kt">void</span><span class="w"> </span><span class="n">glutSolidTorus</span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">innerRadius</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">outerRadius</span><span class="p">,</span>
<span class="w">                                    </span><span class="kt">int</span><span class="w"> </span><span class="n">slices</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">rings</span><span class="p">)</span>

<span class="kt">void</span><span class="w"> </span><span class="n">glutSolidCylinder</span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">radius</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">height</span><span class="p">,</span>
<span class="w">                                    </span><span class="kt">int</span><span class="w"> </span><span class="n">slices</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">stacks</span><span class="p">)</span>
<span class="c1">// 注意：圆柱体在FreeGLUT和Java中都可用，但在原始的GLUT库中不可用。</span>
</code></pre></div>
<p>对于圆环体，<em>innerRadius</em>是甜甜圈孔的大小。函数</p>
<div class="highlight"><pre><span></span><code><span class="kt">void</span><span class="w"> </span><span class="n">glutSolidCube</span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">size</span><span class="p">)</span>
</code></pre></div>
<p>绘制指定大小的立方体。还有一些没有参数的其他常规多面体的函数，它们以一定的固定大小绘制对象：<em>glutSolidTetrahedron()</em>, <em>glutSolidOctahedron()</em>, <em>glutSolidDodecahedron()</em>, 和 <em>glutSolidIcosahedron()</em>。还有一个<em>glutSolidTeapot(size)</em>，绘制一个经常用作示例的著名对象。这就是茶壶的样子：</p>
<p><a class="glightbox" href="../../../en/c3/teapot.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="123" src="../../../en/c3/teapot.png" /></a></p>
<p>所有形状都有线框版本。例如，glutWireTeapot(size)绘制一个线框茶壶。请注意，GLUT形状带有用于光照计算的法向量。然而，除了茶壶外，它们不带有纹理坐标，纹理坐标用于将纹理应用于对象。</p>
<p>GLUT还包括对在OpenGL绘图环境中绘制文本的一些有限支持。我不会在此处讨论这种可能性。如果您感兴趣，可以查阅API文档，并在示例程序<a href="../../../en/source/glut/color-cube-of-spheres.c">glut/color-cube-of-spheres.c</a>中找到一个示例。</p>
</div>
<div class="tabbed-block">
<p>To work with <abbr title="OpenGL实用工具包。用于编写OpenGL应用程序的跨平台库。OpenGL本身不包含对窗口或事件的支持。GLUT添加了这样的支持。它还具有用于绘制3D形状（如球体和多面体，更不用说茶壶了）的函数。GLUT用C语言编写，并与OpenGL的C API一起使用。然而，许多GLUT函数也在JOGL中可用，它是OpenGL的Java API。一种较新且稍有改进的工具包版本名为“FreeGLUT”，通常用于取代原始版本。">GLUT</abbr>, you will need a C compiler and copies of the <abbr title="A family of computer graphics APIs that is implemented in many graphics hardware devices. There are several versions of the API, and there are implementations, or &quot;bindings&quot; for several different programming languages. Versions of OpenGL for embedded systems such as mobile phones are known as OpenGL ES. WebGL is a version for use on Web pages. OpenGL can be used for 2D as well as for 3D graphics, but it is most commonly associated with 3D.">OpenGL</abbr> and <abbr title="OpenGL实用工具包。用于编写OpenGL应用程序的跨平台库。OpenGL本身不包含对窗口或事件的支持。GLUT添加了这样的支持。它还具有用于绘制3D形状（如球体和多面体，更不用说茶壶了）的函数。GLUT用C语言编写，并与OpenGL的C API一起使用。然而，许多GLUT函数也在JOGL中可用，它是OpenGL的Java API。一种较新且稍有改进的工具包版本名为“FreeGLUT”，通常用于取代原始版本。">GLUT</abbr> (or freeglut) development libraries. I can't tell you exactly that means on your own computer. On my computer, which runs Linux Mint, for example, the free C compiler gcc is already available. To do <abbr title="A family of computer graphics APIs that is implemented in many graphics hardware devices. There are several versions of the API, and there are implementations, or &quot;bindings&quot; for several different programming languages. Versions of OpenGL for embedded systems such as mobile phones are known as OpenGL ES. WebGL is a version for use on Web pages. OpenGL can be used for 2D as well as for 3D graphics, but it is most commonly associated with 3D.">OpenGL</abbr> development, I installed several packages, including freeglut3-dev and libgl1-mesa-dev. (Mesa is a Linux implementation of <abbr title="A family of computer graphics APIs that is implemented in many graphics hardware devices. There are several versions of the API, and there are implementations, or &quot;bindings&quot; for several different programming languages. Versions of OpenGL for embedded systems such as mobile phones are known as OpenGL ES. WebGL is a version for use on Web pages. OpenGL can be used for 2D as well as for 3D graphics, but it is most commonly associated with 3D.">OpenGL</abbr>.) If glutprog.c contains a complete C program that uses <abbr title="OpenGL实用工具包。用于编写OpenGL应用程序的跨平台库。OpenGL本身不包含对窗口或事件的支持。GLUT添加了这样的支持。它还具有用于绘制3D形状（如球体和多面体，更不用说茶壶了）的函数。GLUT用C语言编写，并与OpenGL的C API一起使用。然而，许多GLUT函数也在JOGL中可用，它是OpenGL的Java API。一种较新且稍有改进的工具包版本名为“FreeGLUT”，通常用于取代原始版本。">GLUT</abbr>, I can compile it using a command such as</p>
<div class="highlight"><pre><span></span><code><span class="n">gcc</span><span class="w"> </span><span class="o">-</span><span class="n">o</span><span class="w"> </span><span class="n">glutprog</span><span class="w"> </span><span class="n">glutprog</span><span class="p">.</span><span class="n">c</span><span class="w"> </span><span class="o">-</span><span class="n">lGL</span><span class="w"> </span><span class="o">-</span><span class="n">lglut</span>
</code></pre></div>
<p>The "-o glutprog" tells the compiler to use "glutprog" as the name of its output file, which can then be run as a normal executable file; without this option, the executable file would be named "a.out". The "-lglut" and "-lGL" options tell the compiler to link the program with the <abbr title="OpenGL实用工具包。用于编写OpenGL应用程序的跨平台库。OpenGL本身不包含对窗口或事件的支持。GLUT添加了这样的支持。它还具有用于绘制3D形状（如球体和多面体，更不用说茶壶了）的函数。GLUT用C语言编写，并与OpenGL的C API一起使用。然而，许多GLUT函数也在JOGL中可用，它是OpenGL的Java API。一种较新且稍有改进的工具包版本名为“FreeGLUT”，通常用于取代原始版本。">GLUT</abbr> and <abbr title="A family of computer graphics APIs that is implemented in many graphics hardware devices. There are several versions of the API, and there are implementations, or &quot;bindings&quot; for several different programming languages. Versions of OpenGL for embedded systems such as mobile phones are known as OpenGL ES. WebGL is a version for use on Web pages. OpenGL can be used for 2D as well as for 3D graphics, but it is most commonly associated with 3D.">OpenGL</abbr> libraries. (The character after the "-" is a lower case "L".) Without these options, the linker won't recognize any <abbr title="OpenGL实用工具包。用于编写OpenGL应用程序的跨平台库。OpenGL本身不包含对窗口或事件的支持。GLUT添加了这样的支持。它还具有用于绘制3D形状（如球体和多面体，更不用说茶壶了）的函数。GLUT用C语言编写，并与OpenGL的C API一起使用。然而，许多GLUT函数也在JOGL中可用，它是OpenGL的Java API。一种较新且稍有改进的工具包版本名为“FreeGLUT”，通常用于取代原始版本。">GLUT</abbr> or <abbr title="A family of computer graphics APIs that is implemented in many graphics hardware devices. There are several versions of the API, and there are implementations, or &quot;bindings&quot; for several different programming languages. Versions of OpenGL for embedded systems such as mobile phones are known as OpenGL ES. WebGL is a version for use on Web pages. OpenGL can be used for 2D as well as for 3D graphics, but it is most commonly associated with 3D.">OpenGL</abbr> functions. If the program also uses the <abbr title="The OpenGL Utility library. Defines several functions for use with older versions of OpenGL, including gluPerspective and gluLookAt. Not to be confused with GLUT. GLU is a standard part of OpenGL.">GLU</abbr> library, compiling it would require the option "-lGLU, and if it uses the math library, it would need the option "-lm". If a program requires additional .c files, they should be included as well. For example, the sample program <a href="../../../en/source/glut/color-cube-of-spheres.c">glut/color-cube-of-spheres.c</a> depends on <abbr title="In 3D computer graphics, an object that combines the projection and viewing transforms into an abstraction that imitates a physical camera or eye.">camera</abbr>.c, and it can be compiled with the Linux gcc compiler using the command:</p>
<div class="highlight"><pre><span></span><code><span class="n">gcc</span><span class="w"> </span><span class="o">-</span><span class="n">o</span><span class="w"> </span><span class="n">cubes</span><span class="w"> </span><span class="n">color</span><span class="o">-</span><span class="n">cube</span><span class="o">-</span><span class="n">of</span><span class="o">-</span><span class="n">spheres</span><span class="p">.</span><span class="n">c</span><span class="w"> </span><span class="n">camera</span><span class="p">.</span><span class="n">c</span><span class="w"> </span><span class="o">-</span><span class="n">lGL</span><span class="w"> </span><span class="o">-</span><span class="n">lglut</span><span class="w"> </span><span class="o">-</span><span class="n">lGLU</span><span class="w"> </span><span class="o">-</span><span class="n">lm</span>
</code></pre></div>
<p>The sample program <a href="../../../en/source/glut/glut-starter.c">glut/glut-starter.c</a> can be used as a starting point for writing programs that use <abbr title="OpenGL实用工具包。用于编写OpenGL应用程序的跨平台库。OpenGL本身不包含对窗口或事件的支持。GLUT添加了这样的支持。它还具有用于绘制3D形状（如球体和多面体，更不用说茶壶了）的函数。GLUT用C语言编写，并与OpenGL的C API一起使用。然而，许多GLUT函数也在JOGL中可用，它是OpenGL的Java API。一种较新且稍有改进的工具包版本名为“FreeGLUT”，通常用于取代原始版本。">GLUT</abbr>. While it doesn't do anything except open a window, the program contains the framework needed to do <abbr title="A family of computer graphics APIs that is implemented in many graphics hardware devices. There are several versions of the API, and there are implementations, or &quot;bindings&quot; for several different programming languages. Versions of OpenGL for embedded systems such as mobile phones are known as OpenGL ES. WebGL is a version for use on Web pages. OpenGL can be used for 2D as well as for 3D graphics, but it is most commonly associated with 3D.">OpenGL</abbr> drawing, including doing <abbr title="A sequence of images that, when displayed quickly one after the other, will produce the impression of continuous motion or change. The term animation also refers to the process of creating such image sequences.">animation</abbr>, responding to mouse and keyboard events, and setting up a menu. The source code contains comments that tell you how to use it.</p>
<p><strong>On Windows</strong>, you might consider installing the WSL, or Windows Subsystem for Linux, (<a href="https://docs.microsoft.com/en-us/windows/wsl/">https://docs.microsoft.com/en-us/windows/wsl/</a>), which as I write this should soon include the ability to work with <abbr title="(Graphical User Interface.) A user interface for a program where the user interacts with the program using components such as windows, menus, buttons, and text-input boxes.">GUI</abbr> programs. WSL is an official Microsoft system lets you install a version of Linux inside Windows. Another option is the older open source project, Cygwin (<a href="https://cygwin.com/">https://cygwin.com/</a>). (Using Cygwin, I installed the packages gcc-core, xinit, xorg-server, libglut-devel, libGLU-devel, and libGL-devel. After starting the X11 window system with the startxwin command, I was able to compile and run <abbr title="A family of computer graphics APIs that is implemented in many graphics hardware devices. There are several versions of the API, and there are implementations, or &quot;bindings&quot; for several different programming languages. Versions of OpenGL for embedded systems such as mobile phones are known as OpenGL ES. WebGL is a version for use on Web pages. OpenGL can be used for 2D as well as for 3D graphics, but it is most commonly associated with 3D.">OpenGL</abbr> examples from this textbook in a Cygwin terminal window using the same commands that I would use in Linux.)</p>
<p><strong>For MacOS</strong>, the situation is more complicated, because <abbr title="A family of computer graphics APIs that is implemented in many graphics hardware devices. There are several versions of the API, and there are implementations, or &quot;bindings&quot; for several different programming languages. Versions of OpenGL for embedded systems such as mobile phones are known as OpenGL ES. WebGL is a version for use on Web pages. OpenGL can be used for 2D as well as for 3D graphics, but it is most commonly associated with 3D.">OpenGL</abbr> has been deprecated in favor of <abbr title="Apple's proprietary API for 3D graphics and computation on MacOS computers and iOS devices.">Metal</abbr>, Apple's own proprietary <abbr title="Application Programming Interface. A collection of related classes, functions, constants, etc., for performing some task. An API is an &quot;interface&quot; in the sense that it can be used without understanding how its functionality is actually implemented.">API</abbr>. However, as I write this, <abbr title="A family of computer graphics APIs that is implemented in many graphics hardware devices. There are several versions of the API, and there are implementations, or &quot;bindings&quot; for several different programming languages. Versions of OpenGL for embedded systems such as mobile phones are known as OpenGL ES. WebGL is a version for use on Web pages. OpenGL can be used for 2D as well as for 3D graphics, but it is most commonly associated with 3D.">OpenGL</abbr> can still be used on MacOS with Apple's XCode developer tools. The examples from this textbook require some modification to work with XCode tools, since the <abbr title="A family of computer graphics APIs that is implemented in many graphics hardware devices. There are several versions of the API, and there are implementations, or &quot;bindings&quot; for several different programming languages. Versions of OpenGL for embedded systems such as mobile phones are known as OpenGL ES. WebGL is a version for use on Web pages. OpenGL can be used for 2D as well as for 3D graphics, but it is most commonly associated with 3D.">OpenGL</abbr> and <abbr title="OpenGL实用工具包。用于编写OpenGL应用程序的跨平台库。OpenGL本身不包含对窗口或事件的支持。GLUT添加了这样的支持。它还具有用于绘制3D形状（如球体和多面体，更不用说茶壶了）的函数。GLUT用C语言编写，并与OpenGL的C API一起使用。然而，许多GLUT函数也在JOGL中可用，它是OpenGL的Java API。一种较新且稍有改进的工具包版本名为“FreeGLUT”，通常用于取代原始版本。">GLUT</abbr> libraries are not loaded in the same way on Mac as they are on Linux. Modified programs for use on MacOS can be found in the source folder <a href="../../../en/source/glut/glut-mac">glut/glut-mac</a>. See the README.txt file in that folder for more information.</p>
<hr />
<p>The <abbr title="OpenGL实用工具包。用于编写OpenGL应用程序的跨平台库。OpenGL本身不包含对窗口或事件的支持。GLUT添加了这样的支持。它还具有用于绘制3D形状（如球体和多面体，更不用说茶壶了）的函数。GLUT用C语言编写，并与OpenGL的C API一起使用。然而，许多GLUT函数也在JOGL中可用，它是OpenGL的Java API。一种较新且稍有改进的工具包版本名为“FreeGLUT”，通常用于取代原始版本。">GLUT</abbr> library makes it easy to write basic <abbr title="A family of computer graphics APIs that is implemented in many graphics hardware devices. There are several versions of the API, and there are implementations, or &quot;bindings&quot; for several different programming languages. Versions of OpenGL for embedded systems such as mobile phones are known as OpenGL ES. WebGL is a version for use on Web pages. OpenGL can be used for 2D as well as for 3D graphics, but it is most commonly associated with 3D.">OpenGL</abbr> applications in C. <abbr title="OpenGL实用工具包。用于编写OpenGL应用程序的跨平台库。OpenGL本身不包含对窗口或事件的支持。GLUT添加了这样的支持。它还具有用于绘制3D形状（如球体和多面体，更不用说茶壶了）的函数。GLUT用C语言编写，并与OpenGL的C API一起使用。然而，许多GLUT函数也在JOGL中可用，它是OpenGL的Java API。一种较新且稍有改进的工具包版本名为“FreeGLUT”，通常用于取代原始版本。">GLUT</abbr> uses event-handling functions. You write functions to handle events that occur when the display needs to be redrawn or when the user clicks the mouse or presses a key on the keyboard.</p>
<p>To use <abbr title="OpenGL实用工具包。用于编写OpenGL应用程序的跨平台库。OpenGL本身不包含对窗口或事件的支持。GLUT添加了这样的支持。它还具有用于绘制3D形状（如球体和多面体，更不用说茶壶了）的函数。GLUT用C语言编写，并与OpenGL的C API一起使用。然而，许多GLUT函数也在JOGL中可用，它是OpenGL的Java API。一种较新且稍有改进的工具包版本名为“FreeGLUT”，通常用于取代原始版本。">GLUT</abbr>, you need to include the header file <em>glut.h</em> (or <em>freeglut.h</em>) at the start of any source code file that uses it, along with the general <abbr title="A family of computer graphics APIs that is implemented in many graphics hardware devices. There are several versions of the API, and there are implementations, or &quot;bindings&quot; for several different programming languages. Versions of OpenGL for embedded systems such as mobile phones are known as OpenGL ES. WebGL is a version for use on Web pages. OpenGL can be used for 2D as well as for 3D graphics, but it is most commonly associated with 3D.">OpenGL</abbr> header file, gl.h. The header files should be installed in a standard location, in a folder named GL. (But note that the folder name could be different, or omitted entirely.) So, the program usually begins with something like</p>
<div class="highlight"><pre><span></span><code><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;GL/gl.h&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;GL/glut.h&gt;</span>
</code></pre></div>
<p>On my computer, saying <code>#include &lt;GL/glut.h&gt;</code> actually includes the subset of FreeGLUT that corresponds to <abbr title="OpenGL实用工具包。用于编写OpenGL应用程序的跨平台库。OpenGL本身不包含对窗口或事件的支持。GLUT添加了这样的支持。它还具有用于绘制3D形状（如球体和多面体，更不用说茶壶了）的函数。GLUT用C语言编写，并与OpenGL的C API一起使用。然而，许多GLUT函数也在JOGL中可用，它是OpenGL的Java API。一种较新且稍有改进的工具包版本名为“FreeGLUT”，通常用于取代原始版本。">GLUT</abbr>. To get access to all of FreeGLUT, I would substitute <code>#include &lt;GL/freeglut.h&gt;</code>. Depending on the features that it uses, a program might need other header files, such as <code>#include &lt;GL/glu.h&gt;</code> and <code>#include &lt;math.h&gt;</code>.</p>
<p>The program's <code>main()</code> function must contain some code to initialize <abbr title="OpenGL实用工具包。用于编写OpenGL应用程序的跨平台库。OpenGL本身不包含对窗口或事件的支持。GLUT添加了这样的支持。它还具有用于绘制3D形状（如球体和多面体，更不用说茶壶了）的函数。GLUT用C语言编写，并与OpenGL的C API一起使用。然而，许多GLUT函数也在JOGL中可用，它是OpenGL的Java API。一种较新且稍有改进的工具包版本名为“FreeGLUT”，通常用于取代原始版本。">GLUT</abbr>, to create and open a window, and to set up event handling by registering the functions that should be called in response to various events. After this setup, it must call a function that runs the <abbr title="OpenGL实用工具包。用于编写OpenGL应用程序的跨平台库。OpenGL本身不包含对窗口或事件的支持。GLUT添加了这样的支持。它还具有用于绘制3D形状（如球体和多面体，更不用说茶壶了）的函数。GLUT用C语言编写，并与OpenGL的C API一起使用。然而，许多GLUT函数也在JOGL中可用，它是OpenGL的Java API。一种较新且稍有改进的工具包版本名为“FreeGLUT”，通常用于取代原始版本。">GLUT</abbr> event-handling loop. That function waits for events and processes them by calling the functions that have been registered to handle them. The event loop runs until the program ends, which happens when the user closes the window or when the program calls the standard <code>exit()</code> function.</p>
<p>To set up the event-handling functions, <abbr title="OpenGL实用工具包。用于编写OpenGL应用程序的跨平台库。OpenGL本身不包含对窗口或事件的支持。GLUT添加了这样的支持。它还具有用于绘制3D形状（如球体和多面体，更不用说茶壶了）的函数。GLUT用C语言编写，并与OpenGL的C API一起使用。然而，许多GLUT函数也在JOGL中可用，它是OpenGL的Java API。一种较新且稍有改进的工具包版本名为“FreeGLUT”，通常用于取代原始版本。">GLUT</abbr> uses the fact that in C, it is possible to pass a function name as a parameter to another function. For example, if <code>display()</code> is the function that should be called to draw the content of the window, then the program would use the command</p>
<div class="highlight"><pre><span></span><code><span class="n">glutDisplayFunc</span><span class="p">(</span><span class="n">display</span><span class="p">);</span>
</code></pre></div>
<p>to install this function as an event handler for display events. A display event occurs when the contents of the window need to be redrawn, including when the window is first opened. Note that <em>display</em> must have been previously defined, as a function with no parameters:</p>
<div class="highlight"><pre><span></span><code><span class="kt">void</span><span class="w"> </span><span class="nf">display</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="p">.</span>
<span class="p">.</span><span class="w">  </span><span class="c1">// OpenGL drawing code goes here!</span>
<span class="p">.</span>
<span class="p">}</span>
</code></pre></div>
<p>Keep in mind that it's not the name of this function that makes it an <abbr title="A family of computer graphics APIs that is implemented in many graphics hardware devices. There are several versions of the API, and there are implementations, or &quot;bindings&quot; for several different programming languages. Versions of OpenGL for embedded systems such as mobile phones are known as OpenGL ES. WebGL is a version for use on Web pages. OpenGL can be used for 2D as well as for 3D graphics, but it is most commonly associated with 3D.">OpenGL</abbr> display function. It has to be set as the display function by calling glutDisplayFunc(display). All of the <abbr title="OpenGL实用工具包。用于编写OpenGL应用程序的跨平台库。OpenGL本身不包含对窗口或事件的支持。GLUT添加了这样的支持。它还具有用于绘制3D形状（如球体和多面体，更不用说茶壶了）的函数。GLUT用C语言编写，并与OpenGL的C API一起使用。然而，许多GLUT函数也在JOGL中可用，它是OpenGL的Java API。一种较新且稍有改进的工具包版本名为“FreeGLUT”，通常用于取代原始版本。">GLUT</abbr> event-handling functions work in a similar way (except many of them do need to have parameters).</p>
<p>There are a lot of possible event-handling functions, and I will only cover some of them here. Let's jump right in and look at a possible <code>main()</code> routine for a <abbr title="OpenGL实用工具包。用于编写OpenGL应用程序的跨平台库。OpenGL本身不包含对窗口或事件的支持。GLUT添加了这样的支持。它还具有用于绘制3D形状（如球体和多面体，更不用说茶壶了）的函数。GLUT用C语言编写，并与OpenGL的C API一起使用。然而，许多GLUT函数也在JOGL中可用，它是OpenGL的Java API。一种较新且稍有改进的工具包版本名为“FreeGLUT”，通常用于取代原始版本。">GLUT</abbr> program that uses most of the common event handlers:</p>
<div class="highlight"><pre><span></span><code><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">argc</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="o">**</span><span class="w"> </span><span class="n">argv</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">glutInit</span><span class="p">(</span><span class="o">&amp;</span><span class="n">argc</span><span class="p">,</span><span class="w"> </span><span class="n">argv</span><span class="p">);</span><span class="w">  </span><span class="c1">// Required initialization!</span>
<span class="w">    </span><span class="n">glutInitDisplayMode</span><span class="p">(</span><span class="n">GLUT_DOUBLE</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">GLUT_DEPTH</span><span class="p">);</span>
<span class="w">    </span><span class="n">glutInitWindowSize</span><span class="p">(</span><span class="mi">500</span><span class="p">,</span><span class="mi">500</span><span class="p">);</span><span class="w">        </span><span class="c1">// size of display area, in pixels</span>
<span class="w">    </span><span class="n">glutInitWindowPosition</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="mi">100</span><span class="p">);</span><span class="w">    </span><span class="c1">// location in screen coordinates</span>
<span class="w">    </span><span class="n">glutCreateWindow</span><span class="p">(</span><span class="s">&quot;OpenGL Program&quot;</span><span class="p">);</span><span class="w"> </span><span class="c1">// the parameter is the window title  </span>

<span class="w">    </span><span class="n">glutDisplayFunc</span><span class="p">(</span><span class="n">display</span><span class="p">);</span><span class="w">       </span><span class="c1">// called when window needs to be redrawn</span>
<span class="w">    </span><span class="n">glutReshapeFunc</span><span class="p">(</span><span class="n">reshape</span><span class="p">);</span><span class="w">       </span><span class="c1">// called when size of the window changes</span>
<span class="w">    </span><span class="n">glutKeyboardFunc</span><span class="p">(</span><span class="n">keyFunc</span><span class="p">);</span><span class="w">      </span><span class="c1">// called when user types a character</span>
<span class="w">    </span><span class="n">glutSpecialFunc</span><span class="p">(</span><span class="n">specialKeyFunc</span><span class="p">);</span><span class="c1">// called when user presses a special key</span>
<span class="w">    </span><span class="n">glutMouseFunc</span><span class="p">(</span><span class="n">mouseFunc</span><span class="p">);</span><span class="w">       </span><span class="c1">// called for mousedown and mouseup events</span>
<span class="w">    </span><span class="n">glutMotionFunc</span><span class="p">(</span><span class="n">mouseDragFunc</span><span class="p">);</span><span class="w">  </span><span class="c1">// called when mouse is dragged</span>
<span class="w">    </span><span class="n">glutIdleFunc</span><span class="p">(</span><span class="n">idleFun</span><span class="p">);</span><span class="w">          </span><span class="c1">// called when there are no other events</span>

<span class="w">    </span><span class="n">glutMainLoop</span><span class="p">();</span><span class="w"> </span><span class="c1">// Run the event loop!  This function never returns.</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w">  </span><span class="c1">// (This line will never actually be reached.)</span>
<span class="p">}</span>
</code></pre></div>
<p>The first five lines do some necessary initialization, the next seven lines install event handlers, and the call to <em>glutMainLoop()</em> runs the <abbr title="OpenGL实用工具包。用于编写OpenGL应用程序的跨平台库。OpenGL本身不包含对窗口或事件的支持。GLUT添加了这样的支持。它还具有用于绘制3D形状（如球体和多面体，更不用说茶壶了）的函数。GLUT用C语言编写，并与OpenGL的C API一起使用。然而，许多GLUT函数也在JOGL中可用，它是OpenGL的Java API。一种较新且稍有改进的工具包版本名为“FreeGLUT”，通常用于取代原始版本。">GLUT</abbr> event loop. I will discuss all of the functions that are used here. The first <abbr title="OpenGL实用工具包。用于编写OpenGL应用程序的跨平台库。OpenGL本身不包含对窗口或事件的支持。GLUT添加了这样的支持。它还具有用于绘制3D形状（如球体和多面体，更不用说茶壶了）的函数。GLUT用C语言编写，并与OpenGL的C API一起使用。然而，许多GLUT函数也在JOGL中可用，它是OpenGL的Java API。一种较新且稍有改进的工具包版本名为“FreeGLUT”，通常用于取代原始版本。">GLUT</abbr> function call must be glutInit, with the parameters as shown. (Note that argc and argv represent command-line arguments for the program. Passing them to glutInit allows it to process certain command-line arguments that are recognized by <abbr title="OpenGL实用工具包。用于编写OpenGL应用程序的跨平台库。OpenGL本身不包含对窗口或事件的支持。GLUT添加了这样的支持。它还具有用于绘制3D形状（如球体和多面体，更不用说茶壶了）的函数。GLUT用C语言编写，并与OpenGL的C API一起使用。然而，许多GLUT函数也在JOGL中可用，它是OpenGL的Java API。一种较新且稍有改进的工具包版本名为“FreeGLUT”，通常用于取代原始版本。">GLUT</abbr>. I won't discuss those arguments here.) The functions <em>glutInitWindowSize</em> and <em>glutInitWindowPosition</em> do the obvious things; size is given in <abbr title="A digital image is made up of rows and columns of small rectangles called pixels. To specify a digital image, a color is assigned to each pixel in the image.">pixels</abbr>, and window position is given in terms of <abbr title="A digital image is made up of rows and columns of small rectangles called pixels. To specify a digital image, a color is assigned to each pixel in the image.">pixel</abbr> coordinates on the computer screen, with (0,0) at the upper left corner of the screen. The function <em>glutCreateWindow</em> creates the window, but note that nothing can happen in that window until <em>glutMainLoop</em> is called. Often, an additional, user-defined function is called in main() to do whatever initialization of global variables and <abbr title="A family of computer graphics APIs that is implemented in many graphics hardware devices. There are several versions of the API, and there are implementations, or &quot;bindings&quot; for several different programming languages. Versions of OpenGL for embedded systems such as mobile phones are known as OpenGL ES. WebGL is a version for use on Web pages. OpenGL can be used for 2D as well as for 3D graphics, but it is most commonly associated with 3D.">OpenGL</abbr> state is required by the program. <abbr title="A family of computer graphics APIs that is implemented in many graphics hardware devices. There are several versions of the API, and there are implementations, or &quot;bindings&quot; for several different programming languages. Versions of OpenGL for embedded systems such as mobile phones are known as OpenGL ES. WebGL is a version for use on Web pages. OpenGL can be used for 2D as well as for 3D graphics, but it is most commonly associated with 3D.">OpenGL</abbr> initialization can be done after calling <em>glutCreateWindow</em> and before calling <em>glutMainLoop</em>. Turning to the other functions used in main(),</p>
<p><code>glutInitDisplayMode(GLUT_DOUBLE | GLUT_DEPTH)</code> — Must be called to define some characteristics of the <abbr title="A family of computer graphics APIs that is implemented in many graphics hardware devices. There are several versions of the API, and there are implementations, or &quot;bindings&quot; for several different programming languages. Versions of OpenGL for embedded systems such as mobile phones are known as OpenGL ES. WebGL is a version for use on Web pages. OpenGL can be used for 2D as well as for 3D graphics, but it is most commonly associated with 3D.">OpenGL</abbr> drawing context. The parameter specifies features that you would like the <abbr title="A family of computer graphics APIs that is implemented in many graphics hardware devices. There are several versions of the API, and there are implementations, or &quot;bindings&quot; for several different programming languages. Versions of OpenGL for embedded systems such as mobile phones are known as OpenGL ES. WebGL is a version for use on Web pages. OpenGL can be used for 2D as well as for 3D graphics, but it is most commonly associated with 3D.">OpenGL</abbr> context to have. The features are represented by constants that are OR'ed together in the parameter. <em>GLUT_DEPTH</em> says that a <abbr title="A region of memory that stores the information needed for the depth test in 3D graphics, that is, a depth value for each pixel in the image. Also called the &quot;z-buffer.&quot;">depth buffer</abbr> should be created; without it, the <abbr title="A solution to the hidden surface problem that involves keeping track of the depth, or distance from the viewer, of the object currently visible at each pixel in the image. When a new object is drawn at a pixel, the depth of the new object is compared to the depth of the current object to decide which one is closer to the viewer. The advantage of the depth test is that objects can be rendered in any order. A disadvantage is that only a limited range of depths can be represented in the image.">depth test</abbr> won't work. If you are doing 2D graphics, you wouldn't include this option. <em>GLUT_DOUBLE</em> asks for <strong><abbr title="A graphics technique in which an image is drawn off-screen, in a region of memory called an off-screen buffer or &quot;back buffer.&quot; When the image is drawn, it can be copied to the buffer that represents the contents of the screen, which is also known as the &quot;front buffer.&quot; In true double buffering, the image doesn't have to be copied; instead, the buffers can be &quot;swapped&quot; so that the back buffer becomes the front buffer, and the front buffer becomes the back buffer.">double buffering</abbr></strong>, which means that drawing is actually done off-screen, and the off-screen copy has to copied to the screen to be seen. The copying is done by <code>glutSwapBuffers()</code>, which must be called at the end of the display function. (You can use GLUT_SINGLE instead of <em>GLUT_DOUBLE</em> to get <abbr title="As opposed to double buffering, a graphics technique in which the image is drawn directly to the screen (that is, to the buffer that serves as the source for the screen image). The disadvantage of single buffering is that, for a complex image, the user can observe the process of drawing the image.">single buffering</abbr>; in that case, you have to call <em>glFlush()</em> at the end of the display function instead of <code>glutSwapBuffers()</code>. However, all of the examples in this book use <em>GLUT_DOUBLE</em>.)</p>
<p><code>glutDisplayFunc(display)</code> — The display function should contain <abbr title="A family of computer graphics APIs that is implemented in many graphics hardware devices. There are several versions of the API, and there are implementations, or &quot;bindings&quot; for several different programming languages. Versions of OpenGL for embedded systems such as mobile phones are known as OpenGL ES. WebGL is a version for use on Web pages. OpenGL can be used for 2D as well as for 3D graphics, but it is most commonly associated with 3D.">OpenGL</abbr> drawing code that can completely redraw the scene. This is similar to <em>paintComponent()</em> in the Java Swing <abbr title="Application Programming Interface. A collection of related classes, functions, constants, etc., for performing some task. An API is an &quot;interface&quot; in the sense that it can be used without understanding how its functionality is actually implemented.">API</abbr>. The display function can have any name, but it must be declared as a void function with no parameters: <em>void display()</em>.</p>
<p><code>glutReshapeFunc(reshape)</code> — The reshape function is called when the user changes the size of the window. Its parameters tell the new width and height of the drawing area:</p>
<div class="highlight"><pre><span></span><code><span class="kt">void</span><span class="w"> </span><span class="n">reshape</span><span class="p">(</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">width</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">height</span><span class="w"> </span><span class="p">)</span>
</code></pre></div>
<p>For example, you might use this method to set up the <abbr title="A transformation that maps coordinates in 3D to coordinates in 2D. Projection is used to convert a three-dimensional scene into a two-dimensional image.">projection</abbr> transform, if the <abbr title="A transformation that maps coordinates in 3D to coordinates in 2D. Projection is used to convert a three-dimensional scene into a two-dimensional image.">projection</abbr> depends only on the window size. A reshape function is not required, but if one is provided, it should always set the <abbr title="A family of computer graphics APIs that is implemented in many graphics hardware devices. There are several versions of the API, and there are implementations, or &quot;bindings&quot; for several different programming languages. Versions of OpenGL for embedded systems such as mobile phones are known as OpenGL ES. WebGL is a version for use on Web pages. OpenGL can be used for 2D as well as for 3D graphics, but it is most commonly associated with 3D.">OpenGL</abbr> <abbr title="The rectangular area in which the image for 2D or 3D graphics is displayed. The coordinates on the viewport are pixel coordinates, more properly called device coordinates since they are actual physical coordinates on the device where the image is being displayed.">viewport</abbr>, which is the part of the window that is used for drawing. Do this by calling</p>
<div class="highlight"><pre><span></span><code><span class="n">glViewport</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="n">width</span><span class="p">,</span><span class="n">height</span><span class="p">);</span>
</code></pre></div>
<p>The <abbr title="The rectangular area in which the image for 2D or 3D graphics is displayed. The coordinates on the viewport are pixel coordinates, more properly called device coordinates since they are actual physical coordinates on the device where the image is being displayed.">viewport</abbr> is set automatically if no reshape function is specified.</p>
<p><code>glutKeyboardFunc(keyFunc)</code> — The keyboard function is called when the user types a character such as 'b' or 'A' or a space. It is not called for special keys such as arrow keys that do not produce characters when pressed. The keyboard function has a parameter of type <strong>unsigned char</strong> which represents the character that was typed. It also has two int parameters that give the location of the mouse when the key was pressed, in <abbr title="A digital image is made up of rows and columns of small rectangles called pixels. To specify a digital image, a color is assigned to each pixel in the image.">pixel</abbr> coordinates with (0,0) at the upper left corner of the display area. So, the definition of the key function must have the form:</p>
<div class="highlight"><pre><span></span><code><span class="kt">void</span><span class="w"> </span><span class="n">keyFunc</span><span class="p">(</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">ch</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="p">)</span>
</code></pre></div>
<p>Whenever you make any changes to the program's data that require the display to be redrawn, you should call <em>glutPostRedisplay()</em>. This is similar to calling repaint() in Java. It is better to call <em>glutPostRedisplay()</em> than to call the display function directly. (I also note that it's possible to call <abbr title="A family of computer graphics APIs that is implemented in many graphics hardware devices. There are several versions of the API, and there are implementations, or &quot;bindings&quot; for several different programming languages. Versions of OpenGL for embedded systems such as mobile phones are known as OpenGL ES. WebGL is a version for use on Web pages. OpenGL can be used for 2D as well as for 3D graphics, but it is most commonly associated with 3D.">OpenGL</abbr> drawing commands directly in the event-handling functions, but it probably only makes sense if you are using <abbr title="As opposed to double buffering, a graphics technique in which the image is drawn directly to the screen (that is, to the buffer that serves as the source for the screen image). The disadvantage of single buffering is that, for a complex image, the user can observe the process of drawing the image.">single buffering</abbr>; if you do this, call glFlush() to make sure that the drawing appears on the screen.)</p>
<p><code>glutSpecialFunc(specialKeyFunc)</code> — The "special" function is called when the user presses certain special keys, such as an arrow key or the Home key. The parameters are an integer code for the key that was pressed, plus the mouse position when the key was pressed:</p>
<div class="highlight"><pre><span></span><code><span class="kt">void</span><span class="w"> </span><span class="n">specialKeyFunc</span><span class="p">(</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">key</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="p">)</span>
</code></pre></div>
<p><abbr title="OpenGL实用工具包。用于编写OpenGL应用程序的跨平台库。OpenGL本身不包含对窗口或事件的支持。GLUT添加了这样的支持。它还具有用于绘制3D形状（如球体和多面体，更不用说茶壶了）的函数。GLUT用C语言编写，并与OpenGL的C API一起使用。然而，许多GLUT函数也在JOGL中可用，它是OpenGL的Java API。一种较新且稍有改进的工具包版本名为“FreeGLUT”，通常用于取代原始版本。">GLUT</abbr> has constants to represent the possible key codes, including <em>GLUT_KEY_LEFT</em>, <em>GLUT_KEY_RIGHT</em>, <em>GLUT_KEY_UP</em>, and <em>GLUT_KEY_DOWN</em> for the arrow keys and <em>GLUT_KEY_HOME</em> for the Home key. For example, you can check whether the user pressed the left arrow key by testing if (key == GLUT_KEY_LEFT).</p>
<p><code>glutMouseFunc(mouseFunc)</code> — The mouse function is called both when the user presses and when the user releases a button on the mouse, with a parameter to tell which of these occurred. The function will generally look like this:</p>
<div class="highlight"><pre><span></span><code><span class="kt">void</span><span class="w"> </span><span class="nf">mouseFunc</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">button</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">buttonState</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">y</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">buttonState</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">GLUT_DOWN</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// handle mousePressed event</span>
<span class="p">}</span>
<span class="k">else</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// buttonState is GLUT_UP</span>
<span class="w">        </span><span class="c1">// handle mouseReleased event</span>
<span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>The first parameter tells which mouse button was pressed or released; its value is the constant <em>GLUT_LEFT_BUTTON</em> for the left, <em>GLUT_MIDDLE_BUTTON</em> for the middle, and <em>GLUT_RIGHT_BUTTON</em> for the right mouse button. The other two parameters tell the position of the mouse. The mouse position is given in <abbr title="A digital image is made up of rows and columns of small rectangles called pixels. To specify a digital image, a color is assigned to each pixel in the image.">pixel</abbr> coordinates with (0,0) in the top left corner of the display area and with y increasing from top to bottom.</p>
<p><code>glutMotionFunc(mouseDragFunc)</code> — The motion function is called when the user moves the mouse while dragging, that is, while a mouse button is pressed. After the user presses the mouse in the <abbr title="A family of computer graphics APIs that is implemented in many graphics hardware devices. There are several versions of the API, and there are implementations, or &quot;bindings&quot; for several different programming languages. Versions of OpenGL for embedded systems such as mobile phones are known as OpenGL ES. WebGL is a version for use on Web pages. OpenGL can be used for 2D as well as for 3D graphics, but it is most commonly associated with 3D.">OpenGL</abbr> window, this function will continue to be called even if the mouse moves outside the window, and the mouse release event will also be sent to the same window. The function has two parameters to specify the new mouse position:</p>
<div class="highlight"><pre><span></span><code><span class="kt">void</span><span class="w"> </span><span class="n">mouseDragFunc</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">y</span><span class="p">)</span>
</code></pre></div>
<p><code>glutIdleFunc(idleFunction)</code> — The idle function is called by the <abbr title="OpenGL实用工具包。用于编写OpenGL应用程序的跨平台库。OpenGL本身不包含对窗口或事件的支持。GLUT添加了这样的支持。它还具有用于绘制3D形状（如球体和多面体，更不用说茶壶了）的函数。GLUT用C语言编写，并与OpenGL的C API一起使用。然而，许多GLUT函数也在JOGL中可用，它是OpenGL的Java API。一种较新且稍有改进的工具包版本名为“FreeGLUT”，通常用于取代原始版本。">GLUT</abbr> event loop whenever there are no events waiting to be processed. The idle function has no parameters. It is called as often as possible, not at periodic intervals. <abbr title="OpenGL实用工具包。用于编写OpenGL应用程序的跨平台库。OpenGL本身不包含对窗口或事件的支持。GLUT添加了这样的支持。它还具有用于绘制3D形状（如球体和多面体，更不用说茶壶了）的函数。GLUT用C语言编写，并与OpenGL的C API一起使用。然而，许多GLUT函数也在JOGL中可用，它是OpenGL的Java API。一种较新且稍有改进的工具包版本名为“FreeGLUT”，通常用于取代原始版本。">GLUT</abbr> also has a timer function, which schedules some function to be called once, after a specified delay. To set a timer, call</p>
<div class="highlight"><pre><span></span><code><span class="n">glutTimerFunc</span><span class="p">(</span><span class="n">delayInMilliseconds</span><span class="p">,</span><span class="w"> </span><span class="n">timerFunction</span><span class="p">,</span><span class="w"> </span><span class="n">userSelectedID</span><span class="p">)</span>
</code></pre></div>
<p>and define timerFunction as</p>
<div class="highlight"><pre><span></span><code><span class="kt">void</span><span class="w"> </span><span class="nf">timerFunction</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">timerID</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">...</span>
</code></pre></div>
<p>The parameter to timerFunction when it is called will be the same integer that was passed as the third parameter to <em>glutTimerFunc</em>. If you want to use <em>glutTimerFunc</em> for <abbr title="A sequence of images that, when displayed quickly one after the other, will produce the impression of continuous motion or change. The term animation also refers to the process of creating such image sequences.">animation</abbr>, then timerFunction should end with another call to <em>glutTimerFunc</em>.</p>
<hr />
<p>A <abbr title="OpenGL实用工具包。用于编写OpenGL应用程序的跨平台库。OpenGL本身不包含对窗口或事件的支持。GLUT添加了这样的支持。它还具有用于绘制3D形状（如球体和多面体，更不用说茶壶了）的函数。GLUT用C语言编写，并与OpenGL的C API一起使用。然而，许多GLUT函数也在JOGL中可用，它是OpenGL的Java API。一种较新且稍有改进的工具包版本名为“FreeGLUT”，通常用于取代原始版本。">GLUT</abbr> window does not have a menu bar, but it is possible to add a hidden popup menu to the window. The menu will appear in response to a mouse click on the display. You can set whether it is triggered by the left, middle, or right mouse button.</p>
<p>A menu is created using the function <em>glutCreateMenu(menuHandler)</em>, where the parameter is the name of a function that will be called when the user selects a command from the menu. The function must be defined with a parameter of type int that identifies the command that was selected:</p>
<div class="highlight"><pre><span></span><code><span class="kt">void</span><span class="w"> </span><span class="nf">menuHandler</span><span class="p">(</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">commandID</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">...</span>
</code></pre></div>
<p>Once the menu has been created, commands are added to the menu by calling the function <em>glutAddMenuEntry(name,commandID)</em>. The first parameter is the string that will appear in the menu. The second is an <strong>int</strong> that identifies the command; it is the integer that will be passed to the menu-handling function when the user selects the command from the menu.</p>
<p>Finally, the function <em>glutAttachMenu(button)</em> attaches the menu to the window. The parameter specifies which mouse button will trigger the menu. Possible values are <em>GLUT_LEFT_BUTTON</em>, <em>GLUT_MIDDLE_BUTTON</em>, and <em>GLUT_RIGHT_BUTTON</em>. As far as I can tell, if a mouse click is used to trigger the popup menu, than the same mouse click will <strong>not</strong> also produce a call to the mouse-handler function.</p>
<p>Note that a call to <em>glutAddMenuEntry</em> doesn't mention the menu, and a call to <em>glutAttachMenu</em> doesn't mention either the menu or the window. When you call glutCreateMenu, the menu that is created becomes the "current menu" in the <abbr title="OpenGL实用工具包。用于编写OpenGL应用程序的跨平台库。OpenGL本身不包含对窗口或事件的支持。GLUT添加了这样的支持。它还具有用于绘制3D形状（如球体和多面体，更不用说茶壶了）的函数。GLUT用C语言编写，并与OpenGL的C API一起使用。然而，许多GLUT函数也在JOGL中可用，它是OpenGL的Java API。一种较新且稍有改进的工具包版本名为“FreeGLUT”，通常用于取代原始版本。">GLUT</abbr> state. When <em>glutAddMenuEntry</em> is called, it adds a command to the current menu. When <em>glutAttachMenu</em> is called, it attaches the current menu to the current window, which was set by a call to <em>glutCreateWindow</em>. All this is consistent with the <abbr title="A family of computer graphics APIs that is implemented in many graphics hardware devices. There are several versions of the API, and there are implementations, or &quot;bindings&quot; for several different programming languages. Versions of OpenGL for embedded systems such as mobile phones are known as OpenGL ES. WebGL is a version for use on Web pages. OpenGL can be used for 2D as well as for 3D graphics, but it is most commonly associated with 3D.">OpenGL</abbr> "state machine" philosophy, where functions act by modifying the current state.</p>
<p>As an example, suppose that we want to let the user set the background color for the display. We need a function to carry out commands that we will add to the menu. For example, we might define</p>
<div class="highlight"><pre><span></span><code><span class="n">function</span><span class="w"> </span><span class="nf">doMenu</span><span class="p">(</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">commandID</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">commandID</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span>
<span class="w">        </span><span class="n">glClearColor</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span><span class="w">  </span><span class="c1">// BLACK</span>
<span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">commandID</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span>
<span class="w">        </span><span class="n">glClearColor</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span><span class="w">  </span><span class="c1">// WHITE</span>
<span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">commandID</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span>
<span class="w">        </span><span class="n">glClearColor</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mf">0.5</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span><span class="w">  </span><span class="c1">// DARK BLUE</span>
<span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">commandID</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span>
<span class="w">        </span><span class="n">exit</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span><span class="w">  </span><span class="c1">// END THE PROGRAM</span>
<span class="w">    </span><span class="n">glutPostRedisplay</span><span class="p">();</span><span class="w">  </span><span class="c1">// redraw the display, with the new background color</span>
<span class="p">}</span>
</code></pre></div>
<p>We might have another function to create the menu. This function would be called in <em>main()</em>, after calling <em>glutCreateWindow</em>:</p>
<div class="highlight"><pre><span></span><code><span class="n">function</span><span class="w"> </span><span class="nf">createMenu</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">glutCreateMenu</span><span class="p">(</span><span class="w"> </span><span class="n">doMenu</span><span class="w"> </span><span class="p">);</span><span class="w">  </span><span class="c1">// Call doMenu() in response to menu commands.</span>
<span class="w">    </span><span class="n">glutAddMenuEntry</span><span class="p">(</span><span class="w"> </span><span class="s">&quot;Black Background&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="n">glutAddMenuEntry</span><span class="p">(</span><span class="w"> </span><span class="s">&quot;White Background&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="n">glutAddMenuEntry</span><span class="p">(</span><span class="w"> </span><span class="s">&quot;Blue Background&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="n">glutAddMenuEntry</span><span class="p">(</span><span class="w"> </span><span class="s">&quot;EXIT&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="n">glutAttachMenu</span><span class="p">(</span><span class="n">GLUT_RIGHT_BUTTON</span><span class="p">);</span><span class="w"> </span><span class="c1">// Show menu on right-click.</span>
<span class="p">}</span>
</code></pre></div>
<p>It's possible to have submenus in a menu. I won't discuss the procedure here, but you can look at the sample program <a href="../../../en/source/glut/ifs-polyhedron-viewer.c">glut/ifs-<abbr title="A closed 3D figure whose faces, or sides, are polygons. Usually, it is assumed that the faces of a polyhedron do not intersect, except along their edges.">polyhedron</abbr>-viewer.c</a> for an example of using submenus.</p>
<hr />
<p>In addition to window and event handling, <abbr title="OpenGL实用工具包。用于编写OpenGL应用程序的跨平台库。OpenGL本身不包含对窗口或事件的支持。GLUT添加了这样的支持。它还具有用于绘制3D形状（如球体和多面体，更不用说茶壶了）的函数。GLUT用C语言编写，并与OpenGL的C API一起使用。然而，许多GLUT函数也在JOGL中可用，它是OpenGL的Java API。一种较新且稍有改进的工具包版本名为“FreeGLUT”，通常用于取代原始版本。">GLUT</abbr> includes some functions for drawing basic 3D shapes such as spheres, cones, and regular polyhedra. It has two functions for each shape, a "solid" version that draws the shape as a solid object, and a <strong><abbr title="A style of drawing a polyhedron or polygonal mesh in which only the edges are drawn, resulting in an image made up of line segments.">wireframe</abbr></strong> version that draws something that looks like it's made of wire mesh. (The <abbr title="A style of drawing a polyhedron or polygonal mesh in which only the edges are drawn, resulting in an image made up of line segments.">wireframe</abbr> is produced by drawing just the outlines of the polygons that make up the object.) For example, the function</p>
<div class="highlight"><pre><span></span><code><span class="kt">void</span><span class="w"> </span><span class="n">glutSolidSphere</span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">radius</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">slices</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">stacks</span><span class="p">)</span>
</code></pre></div>
<p>draws a solid sphere with the given radius, centered at the origin. Remember that this is just an approximation of a sphere, made up of polygons. For the approximation, the sphere is divided by lines of longitude, like the slices of an orange, and by lines of latitude, like a <abbr title="A data structure with the operations push() and pop(). Pushing an item onto a stack just adds that item to the stack. Popping from the stack will remove and return the item that was most recently pushed onto the stack.">stack</abbr> of disks. The parameters slices and stacks tell how many subdivisions to use. Typical values are 32 and 16, but the number that you need to get a good approximation for a sphere depends on the size of the sphere on the screen. The function glutWireframeSphere has the same parameters but draws only the lines of latitude and longitude. Functions for a cone, a cylinder, and a <strong><abbr title="A 3D geometric object having the shape of a doughnut (or bagel).">torus</abbr></strong> (doughnut) are similar:</p>
<div class="highlight"><pre><span></span><code><span class="kt">void</span><span class="w"> </span><span class="n">glutSolidCone</span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">base</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">height</span><span class="p">,</span>
<span class="w">                                    </span><span class="kt">int</span><span class="w"> </span><span class="n">slices</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">stacks</span><span class="p">)</span>

<span class="kt">void</span><span class="w"> </span><span class="n">glutSolidTorus</span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">innerRadius</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">outerRadius</span><span class="p">,</span>
<span class="w">                                    </span><span class="kt">int</span><span class="w"> </span><span class="n">slices</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">rings</span><span class="p">)</span>

<span class="kt">void</span><span class="w"> </span><span class="n">glutSolidCylinder</span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">radius</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">height</span><span class="p">,</span>
<span class="w">                                    </span><span class="kt">int</span><span class="w"> </span><span class="n">slices</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">stacks</span><span class="p">)</span>
<span class="c1">// NOTE: Cylinders are available in FreeGLUT and in Java,</span>
<span class="c1">// but not in the original GLUT library.</span>
</code></pre></div>
<p>For a <abbr title="A 3D geometric object having the shape of a doughnut (or bagel).">torus</abbr>, the <em>innerRadius</em> is the size of the doughnut hole. The function</p>
<div class="highlight"><pre><span></span><code><span class="kt">void</span><span class="w"> </span><span class="n">glutSolidCube</span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">size</span><span class="p">)</span>
</code></pre></div>
<p>draws a cube of a specified size. There are functions for the other regular polyhedra that have no parameters and draw the object at some fixed size: <em>glutSolidTetrahedron()</em>, <em>glutSolidOctahedron()</em>, <em>glutSolidDodecahedron()</em>, and <em>glutSolidIcosahedron()</em>. There is also <em>glutSolidTeapot(size)</em> that draws a famous object that is often used as an example. Here's what the teapot looks like:</p>
<p><a class="glightbox" href="../../../en/c3/teapot.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="123" src="../../../en/c3/teapot.png" /></a></p>
<p>Wireframe versions of all of the shapes are also available. For example, glutWireTeapot(size) draws a <abbr title="A style of drawing a polyhedron or polygonal mesh in which only the edges are drawn, resulting in an image made up of line segments.">wireframe</abbr> teapot. Note that <abbr title="OpenGL实用工具包。用于编写OpenGL应用程序的跨平台库。OpenGL本身不包含对窗口或事件的支持。GLUT添加了这样的支持。它还具有用于绘制3D形状（如球体和多面体，更不用说茶壶了）的函数。GLUT用C语言编写，并与OpenGL的C API一起使用。然而，许多GLUT函数也在JOGL中可用，它是OpenGL的Java API。一种较新且稍有改进的工具包版本名为“FreeGLUT”，通常用于取代原始版本。">GLUT</abbr> shapes come with normal vectors that are required for <abbr title="Using light sources in a 3D scene, so that the appearance of objects in the scene can be computed based on the interaction of light with the objects' material properties.">lighting</abbr> calculations. However, except for the teapot, they do not come with <abbr title="Variation in some property from point-to-point on an object. The most common type is image texture. When an image texture is applied to a surface, the surface color varies from point to point.">texture</abbr> coordinates, which are required for applying textures to objects.</p>
<p><abbr title="OpenGL实用工具包。用于编写OpenGL应用程序的跨平台库。OpenGL本身不包含对窗口或事件的支持。GLUT添加了这样的支持。它还具有用于绘制3D形状（如球体和多面体，更不用说茶壶了）的函数。GLUT用C语言编写，并与OpenGL的C API一起使用。然而，许多GLUT函数也在JOGL中可用，它是OpenGL的Java API。一种较新且稍有改进的工具包版本名为“FreeGLUT”，通常用于取代原始版本。">GLUT</abbr> also includes some limited support for drawing text in an <abbr title="A family of computer graphics APIs that is implemented in many graphics hardware devices. There are several versions of the API, and there are implementations, or &quot;bindings&quot; for several different programming languages. Versions of OpenGL for embedded systems such as mobile phones are known as OpenGL ES. WebGL is a version for use on Web pages. OpenGL can be used for 2D as well as for 3D graphics, but it is most commonly associated with 3D.">OpenGL</abbr> drawing context. I won't discuss that possibility here. You can check the <abbr title="Application Programming Interface. A collection of related classes, functions, constants, etc., for performing some task. An API is an &quot;interface&quot; in the sense that it can be used without understanding how its functionality is actually implemented.">API</abbr> documentation if you are interested, and you can find an example in the sample program <a href="../../../en/source/glut/color-cube-of-spheres.c">glut/color-cube-of-spheres.c</a>.</p>
</div>
</div>
</div>
<h2 id="362-使用jogl">3.6.2 使用JOGL<a class="headerlink" href="#362-使用jogl" title="Permanent link">&para;</a></h2>
<div class="tabbed-set tabbed-alternate" data-tabs="3:2"><input checked="checked" id="__tabbed_3_1" name="__tabbed_3" type="radio" /><input id="__tabbed_3_2" name="__tabbed_3" type="radio" /><div class="tabbed-labels"><label for="__tabbed_3_1">中文</label><label for="__tabbed_3_2">英文</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>JOGL是在Java程序中使用OpenGL的框架。它是一个庞大且复杂的API，支持所有版本的OpenGL，但对于基本的应用程序来说使用起来相当容易。您应该使用JOGL 2.4或更高版本。本书中的程序已经在版本2.4.0中进行了测试。</p>
<p>示例程序<em><a href="../../../en/source/jogl/JoglStarter.java">jogl/JoglStarter.java</a></em>可用作使用JOGL编写OpenGL程序的起点。虽然它除了打开一个窗口外什么也不做，但该程序包含了进行OpenGL绘图所需的框架，包括进行动画、响应鼠标和键盘事件以及设置菜单。源代码中包含了说明如何使用它的注释。</p>
<p>要使用JOGL，您需要两个包含JOGL Java类的.jar文件：<em>jogl-all.jar</em>和<em>gluegen-rt.jar</em>。此外，您还需要两个本地库文件。本地库是一组可以从Java调用但不是用Java编写的例程。本地库中的例程只能在一种类型的计算机上工作；您需要为要使用程序的每种计算机类型获取不同的本地库。JOGL的本地库存储在额外的.jar文件中，针对不同计算机提供了几个版本。例如，对于Intel或AMD CPU上的64位Linux，您需要<em>jogl-all-natives-linux-amd64.jar</em>和<em>gluegen-rt-natives-linux-amd64.jar</em>。不幸的是，对于不同平台有不同版本，因为许多人不确定自己使用的是哪个版本。但是，如果您有疑问，可以获取多个版本；JOGL将确定要使用哪一个版本。</p>
<p>JOGL软件可以在<a href="https://jogamp.org/">https://jogamp.org/</a>找到。您可以从最新版本中下载.jar文件，这些文件可以在以下列表的末尾附近找到：</p>
<p><a href="https://jogamp.org/deployment/archive/rc/">https://jogamp.org/deployment/archive/rc/</a></p>
<p>点击发布名称，然后点击<code>jar/</code>链接以查看所有.jar文件的完整列表。找到并下载<em>jogl-all.jar</em>和<em>gluegen-rt.jar</em>以及相应的本地库文件。我还在自己的网站上提供了<em>jogl-all.jar</em>和<em>gluegen-rt.jar</em>，以及一些最常见平台的本地库文件，网址是：</p>
<p><a href="http://math.hws.edu/eck/cs424/jogl_2_4_support/">http://math.hws.edu/eck/cs424/jogl_2_4_support/</a></p>
<p>JOGL是开源的，根据其许可证，文件可以自由重新分发。</p>
<p>要进行JOGL开发，您应该在计算机上的某个目录中创建一个目录来保存.jar文件。将两个JOGL jar文件放入该目录中，以及您平台的两个本地库jar文件。 （拥有额外的本地库jar文件并不会有什么损害，只要您拥有所需的那些。）</p>
<p>可以在命令行上进行JOGL开发。您必须告诉javac命令在哪里找到这两个JOGL jar文件。您可以在javac命令的类路径（"-cp"）选项中执行此操作。例如，如果您在Linux或MacOS中工作，并且如果jar文件碰巧位于您正在工作的目录中，您可以这样说：</p>
<div class="highlight"><pre><span></span><code>javac<span class="w">  </span>-cp<span class="w">  </span>jogl-all.jar:gluegen-rt.jar:.<span class="w">  </span>MyOpenGLProg.java
</code></pre></div>
<p>对于Windows，操作类似，只是类路径使用 ";" 而不是 ":" 来分隔列表中的项目：</p>
<div class="highlight"><pre><span></span><code>javac<span class="w">  </span>-cp<span class="w">  </span>jogl-all.jar<span class="p">;</span>gluegen-rt.jar<span class="p">;</span>.<span class="w">  </span>MyOpenGLProg.java
</code></pre></div>
<p>类路径的末尾有一个必要的句号，使Java能够在当前目录中找到 .java 文件。如果jar文件不在当前目录中，您可以使用完整路径名或相对路径名来引用文件。例如，</p>
<div class="highlight"><pre><span></span><code>javac<span class="w">  </span>-cp<span class="w">  </span>../jogl/jogl-all.jar:../jogl/gluegen-rt.jar:.<span class="w">  </span>MyOpenGLProg.java
</code></pre></div>
<p>使用java命令运行程序完全相同。例如：</p>
<div class="highlight"><pre><span></span><code>java<span class="w">  </span>-cp<span class="w">  </span>jogl-all.jar:gluegen-rt.jar:.<span class="w">  </span>MyOpenGLProg
</code></pre></div>
<p>请注意，您不必显式引用本地库jar文件。它们只需要与JOGL jar文件位于同一个目录中即可。</p>
<hr />
<p>我大部分的Java开发都是使用Eclipse IDE（<a href="http://eclipse.org">http://eclipse.org</a>）。要在Eclipse中使用JOGL进行开发，您需要使用关于jar文件的信息配置Eclipse。要做到这一点，启动Eclipse。您希望创建一个“用户库”来包含jar文件：打开Eclipse首选项窗口，在左侧选择“Java” / “构建路径” / “用户库”。在右侧单击“新建”按钮。将“<abbr title="OpenGL的Java实现。JOGL非常复杂，因为它试图在一个编程系统中支持所有版本的OpenGL。JOGL与Java的Swing和AWT图形无缝集成。">JOGL</abbr>”（或您喜欢的任何名称）输入为用户库的名称。确保在库列表中选择了新创建的用户库，然后单击“添加外部Jars”按钮。在文件选择框中，导航到包含JOGL jar文件的目录，并选择JOGL所需的两个jar文件，即jogl-all.jar和gluegen-rt.jar。（再次强调，您不需要添加本地库；它们只需要与JOGL jar文件位于同一个目录中。）单击“打开”。所选的jar文件将添加到用户库中。（如果您不知道如何选择多个文件，您也可以逐个添加。）它应该类似于这样：</p>
<p><a class="glightbox" href="../../../en/c3/jogl-user-library.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="123" src="../../../en/c3/jogl-user-library.png" /></a></p>
<p>单击“确定”。用户库已创建。您只需要执行此操作一次，然后就可以在所有JOGL项目中使用它。</p>
<p>现在，要在项目中使用OpenGL，请像通常在Eclipse中创建一个新的Java项目。（如果询问是否要为项目创建module-info.java文件，请选择“不创建”。本教材的示例程序不使用Java模块。）右键单击Project Explorer视图中的新项目，并从菜单中选择“Build Path” / “Configure Build Path”。您将看到项目属性对话框，左侧选择“Java构建路径”。（您也可以通过“项目”菜单中的“<abbr title="图形对象的属性，例如颜色。图像可以通过其包含的几何形状以及它们的属性来指定。">属性</abbr>”命令访问此对话框。）在窗口顶部选择“库”选项卡，然后点击“库”选项卡中的“类路径”以选择它。点击右侧的“添加库”按钮。在弹出窗口中，选择“用户库”并点击“下一步”。在下一个窗口中，选择您的JOGL用户库并点击“完成”。最后，在主要属性窗口中点击“应用并关闭”。您的项目现在应该已经设置好进行JOGL开发了。您应该在Project Explorer中的项目部分中看到JOGL用户库作为项目的一部分列出。每当您想要启动一个新的JOGL项目时，您可以通过相同的设置步骤将JOGL用户库添加到项目的构建路径中。</p>
<hr />
<p>完成了所有设置，现在是时候讨论如何使用Java编写OpenGL程序了。使用JOGL，我们不必谈论鼠标和键盘处理或动画，因为这可以像在任何Java Swing程序中一样完成。您只需要了解JOGL API中的几个类。</p>
<p>首先，您需要一个GUI组件，用于使用OpenGL进行绘制。为此，您可以使用<strong>GLJPanel</strong>，它是<strong>JPanel</strong>的子类。（<strong>GLJPanel</strong>用于基于Swing API的程序；另一种选择是<strong>GLCanvas</strong>，它是较旧的AWT类<strong>Canvas</strong>的子类。）该类定义在包<em>com.jogamp.opengl.awt</em>中。我们需要用于基本OpenGL编程的所有其他类都在包<em>com.jogamp.opengl</em>中。</p>
<p>JOGL使用Java的事件框架来管理OpenGL绘图上下文，并定义了一个自定义的事件监听器接口<strong>GLEventListener</strong>来管理OpenGL事件。要使用OpenGL在<strong>GLJPanel</strong>上绘制，您需要创建一个实现<strong>GLEventListener</strong>接口的对象，并将该监听器注册到您的<strong>GLJPanel</strong>上。<strong>GLEventListener</strong>接口定义了以下方法：</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">init</span><span class="p">(</span><span class="n">GLAutoDrawable</span><span class="w"> </span><span class="n">drawable</span><span class="p">)</span>

<span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">display</span><span class="p">(</span><span class="n">GLAutoDrawable</span><span class="w"> </span><span class="n">drawable</span><span class="p">)</span>

<span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">dispose</span><span class="p">(</span><span class="n">GLAutoDrawable</span><span class="w"> </span><span class="n">drawable</span><span class="p">)</span>

<span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">reshape</span><span class="p">(</span><span class="n">GLAutoDrawable</span><span class="w"> </span><span class="n">drawable</span><span class="p">,</span>
<span class="w">                        </span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">width</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">height</span><span class="p">)</span>
</code></pre></div>
<p>这些方法中的drawable参数告诉您涉及哪个OpenGL绘图表面。它将是对<strong>GLJPanel</strong>的引用。（<strong>GLAutoDrawable</strong>是由<strong>GLJPanel</strong>和其他OpenGL绘图表面实现的接口。）init()方法是进行OpenGL初始化的地方。（根据文档，它实际上可以被调用多次，如果需要重新创建OpenGL上下文的话。因此，init()不应用于只应该执行一次的初始化。）dispose()方法将在销毁OpenGL绘图上下文之前调用，以便您有机会在其销毁之前进行任何清理。当窗口首次打开或<strong>GLJPanel</strong>的大小发生变化时，将调用reshape()方法。OpenGL的glViewport()函数在调用reshape()之前自动调用，因此您不需要自己调用它。通常情况下，您不需要在dispose()或reshape()中编写任何代码，但它们必须存在以满足<strong>GLEventListener</strong>接口的定义。</p>
<p><em>display()</em>方法是实际绘制和大部分工作的地方。它通常应清除绘图区域并完全重绘场景。花一分钟时间查看一个最小的JOGL程序大纲。它创建了一个<strong>GLJPanel</strong>，它也充当了<strong>GLEventListener</strong>：</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">com.jogamp.opengl.*</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.jogamp.opengl.awt.GLJPanel</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.awt.Dimension</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">javax.swing.JFrame</span><span class="p">;</span>

<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">JOGLProgram</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">GLJPanel</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">GLEventListener</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">JFrame</span><span class="w"> </span><span class="n">window</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">JFrame</span><span class="p">(</span><span class="s">&quot;JOGL Program&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="n">JOGLProgram</span><span class="w"> </span><span class="n">panel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">JOGLProgram</span><span class="p">();</span>
<span class="w">        </span><span class="n">window</span><span class="p">.</span><span class="na">setContentPane</span><span class="p">(</span><span class="n">panel</span><span class="p">);</span>
<span class="w">        </span><span class="n">window</span><span class="p">.</span><span class="na">pack</span><span class="p">();</span>
<span class="w">        </span><span class="n">window</span><span class="p">.</span><span class="na">setLocation</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span><span class="mi">50</span><span class="p">);</span>
<span class="w">        </span><span class="n">window</span><span class="p">.</span><span class="na">setDefaultCloseOperation</span><span class="p">(</span><span class="n">JFrame</span><span class="p">.</span><span class="na">EXIT_ON_CLOSE</span><span class="p">);</span>
<span class="w">        </span><span class="n">window</span><span class="p">.</span><span class="na">setVisible</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">JOGLProgram</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">setPreferredSize</span><span class="p">(</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Dimension</span><span class="p">(</span><span class="mi">500</span><span class="p">,</span><span class="mi">500</span><span class="p">)</span><span class="w"> </span><span class="p">);</span>
<span class="w">        </span><span class="n">addGLEventListener</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// ---------------  Methods of the GLEventListener interface -----------</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">init</span><span class="p">(</span><span class="n">GLAutoDrawable</span><span class="w"> </span><span class="n">drawable</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="c1">// called when the panel is created</span>
<span class="w">        </span><span class="n">GL2</span><span class="w"> </span><span class="n">gl</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">drawable</span><span class="p">.</span><span class="na">getGL</span><span class="p">().</span><span class="na">getGL2</span><span class="p">();</span>
<span class="w">        </span><span class="c1">// Add initialization code here!</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">display</span><span class="p">(</span><span class="n">GLAutoDrawable</span><span class="w"> </span><span class="n">drawable</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">    </span>
<span class="w">            </span><span class="c1">// called when the panel needs to be drawn</span>
<span class="w">        </span><span class="n">GL2</span><span class="w"> </span><span class="n">gl</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">drawable</span><span class="p">.</span><span class="na">getGL</span><span class="p">().</span><span class="na">getGL2</span><span class="p">();</span>
<span class="w">        </span><span class="c1">// Add drawing code here!</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">reshape</span><span class="p">(</span><span class="n">GLAutoDrawable</span><span class="w"> </span><span class="n">drawable</span><span class="p">,</span>
<span class="w">                            </span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">width</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">height</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// called when user resizes the window</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">dispose</span><span class="p">(</span><span class="n">GLAutoDrawable</span><span class="w"> </span><span class="n">drawable</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// called when the panel is being disposed</span>
<span class="w">    </span><span class="p">}</span>

<span class="p">}</span>
</code></pre></div>
<hr />
<p>此时，您需要了解的另一件事就是如何在程序中使用OpenGL函数。在JOGL中，<abbr title="A family of computer graphics APIs that is implemented in many graphics hardware devices. There are several versions of the API, and there are implementations, or &quot;bindings&quot; for several different programming languages. Versions of OpenGL for embedded systems such as mobile phones are known as OpenGL ES. WebGL is a version for use on Web pages. OpenGL can be used for 2D as well as for 3D graphics, but it is most commonly associated with 3D.">OpenGL</abbr> 1.1函数被收集到<strong>GL2</strong>类型的对象中。（不同版本的OpenGL有不同的类；<strong>GL2</strong>包含与1.1兼容的OpenGL 1.1功能以及后来的版本。）<strong>GL2</strong>类型的对象是一个OpenGL图形上下文，就像<strong>Graphics2D</strong>类型的对象是普通Java 2D绘图的图形上下文一样。在上面的程序中，</p>
<div class="highlight"><pre><span></span><code><span class="n">GL2</span><span class="w"> </span><span class="n">gl</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">drawable</span><span class="p">.</span><span class="na">getGL</span><span class="p">().</span><span class="na">getGL2</span><span class="p">();</span>
</code></pre></div>
<p>获取了<strong>GLAutoDrawable</strong>的绘图上下文，也就是在该程序中的<strong>GLJPanel</strong>的绘图上下文。变量的名称当然可以是任何名称，但gl或gl2是常规的命名。</p>
<p>大部分情况下，在JOGL中使用OpenGL函数与在C中相同，只是这些函数现在是对象gl中的方法。例如，调用glClearColor(r,g,b,a)变成了</p>
<div class="highlight"><pre><span></span><code><span class="n">gl</span><span class="p">.</span><span class="na">glClearColor</span><span class="p">(</span><span class="n">r</span><span class="p">,</span><span class="n">g</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">a</span><span class="p">);</span>
</code></pre></div>
<p>冗余的“gl.gl”有点恼人，但您会习惯的。OpenGL常量，如<em>GL_TRIANGLES</em>，是<strong>GL2</strong>的静态成员，因此，在JOGL中，例如，<em>GL_TRIANGLES</em>变成了<strong>GL2</strong>.<em>GL_TRIANGLES</em>。在大多数情况下，OpenGL函数的参数列表与C API中的参数列表相同。一个例外是对于函数（如glVertex3fv()）在C中采用数组/指针参数的函数。在JOGL中，该参数变成了普通的Java数组，并且添加了额外的整数参数来指定数组中数据的位置。例如，下面是如何在JOGL中绘制一个三角形，其中所有顶点坐标都在一个数组中：</p>
<div class="highlight"><pre><span></span><code><span class="kt">float</span><span class="o">[]</span><span class="w"> </span><span class="n">coords</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="mf">0.5F</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mf">0.5F</span><span class="p">,</span><span class="o">-</span><span class="mf">0.5F</span><span class="p">,</span><span class="w"> </span><span class="mf">0.5F</span><span class="p">,</span><span class="o">-</span><span class="mf">0.5F</span><span class="w"> </span><span class="p">};</span>

<span class="n">gl</span><span class="p">.</span><span class="na">glBegin</span><span class="p">(</span><span class="n">GL2</span><span class="p">.</span><span class="na">GL_TRIANGLES</span><span class="p">);</span>
<span class="n">gl</span><span class="p">.</span><span class="na">glVertex2fv</span><span class="p">(</span><span class="n">coords</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span><span class="w">     </span><span class="c1">// 第一个顶点数据从索引0开始</span>
<span class="n">gl</span><span class="p">.</span><span class="na">glVertex2fv</span><span class="p">(</span><span class="n">coords</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span><span class="w">     </span><span class="c1">// 第二个顶点数据从索引2开始</span>
<span class="n">gl</span><span class="p">.</span><span class="na">glVertex2fv</span><span class="p">(</span><span class="n">coords</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">);</span><span class="w">     </span><span class="c1">// 第三个顶点数据从索引4开始</span>
<span class="n">gl</span><span class="p">.</span><span class="na">glEnd</span><span class="p">();</span>
</code></pre></div>
<p><abbr title="OpenGL的Java实现。JOGL非常复杂，因为它试图在一个编程系统中支持所有版本的OpenGL。JOGL与Java的Swing和AWT图形无缝集成。">JOGL</abbr> API中最大的变化是在诸如glVertexPointer之类的函数中使用nio缓冲区而不是数组。这在<a href="../s4/#343-java-中的数据缓冲区">3.4.3小节</a>中有所讨论。在<a href="../../c4/s3/#439">4.3.9小节</a>中，我们将看到纹理图像在JOGL中也有特殊处理。</p>
<hr />
<p><abbr title="OpenGL的Java实现。JOGL非常复杂，因为它试图在一个编程系统中支持所有版本的OpenGL。JOGL与Java的Swing和AWT图形无缝集成。">JOGL</abbr> API包括一个名为<strong><abbr title="OpenGL实用工具包。用于编写OpenGL应用程序的跨平台库。OpenGL本身不包含对窗口或事件的支持。GLUT添加了这样的支持。它还具有用于绘制3D形状（如球体和多面体，更不用说茶壶了）的函数。GLUT用C语言编写，并与OpenGL的C API一起使用。然而，许多GLUT函数也在JOGL中可用，它是OpenGL的Java API。一种较新且稍有改进的工具包版本名为“FreeGLUT”，通常用于取代原始版本。">GLUT</abbr></strong>的类，该类使得GLUT的形状绘制函数在Java中可用。（因为您不需要在Java中使用GLUT的窗口或事件功能，所以只包括了形状函数。）<strong><abbr title="OpenGL实用工具包。用于编写OpenGL应用程序的跨平台库。OpenGL本身不包含对窗口或事件的支持。GLUT添加了这样的支持。它还具有用于绘制3D形状（如球体和多面体，更不用说茶壶了）的函数。GLUT用C语言编写，并与OpenGL的C API一起使用。然而，许多GLUT函数也在JOGL中可用，它是OpenGL的Java API。一种较新且稍有改进的工具包版本名为“FreeGLUT”，通常用于取代原始版本。">GLUT</abbr></strong>类定义在包<em>com.jogamp.opengl.util.gl2</em>中。要使用此类绘制形状，您需要创建一个<strong><abbr title="OpenGL实用工具包。用于编写OpenGL应用程序的跨平台库。OpenGL本身不包含对窗口或事件的支持。GLUT添加了这样的支持。它还具有用于绘制3D形状（如球体和多面体，更不用说茶壶了）的函数。GLUT用C语言编写，并与OpenGL的C API一起使用。然而，许多GLUT函数也在JOGL中可用，它是OpenGL的Java API。一种较新且稍有改进的工具包版本名为“FreeGLUT”，通常用于取代原始版本。">GLUT</abbr></strong>类型的对象。在程序中只需要创建一个：</p>
<div class="highlight"><pre><span></span><code><span class="n">GLUT</span><span class="w"> </span><span class="n">glut</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">GLUT</span><span class="p">();</span>
</code></pre></div>
<p>该对象中的方法包括所有来自GLUT C API的形状绘制函数，具有相同的名称和参数。例如：</p>
<div class="highlight"><pre><span></span><code><span class="n">glut</span><span class="p">.</span><span class="na">glutSolidSphere</span><span class="p">(</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">32</span><span class="p">,</span><span class="w"> </span><span class="mi">16</span><span class="w"> </span><span class="p">);</span>
<span class="n">glut</span><span class="p">.</span><span class="na">glutWireTeapot</span><span class="p">(</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="p">);</span>
<span class="n">glut</span><span class="p">.</span><span class="na">glutSolidIcosahedron</span><span class="p">();</span>
</code></pre></div>
<p>（我不知道为什么这些是对象中的实例方法，而不是类中的静态方法；从逻辑上讲，对象是不需要的。）</p>
<p>GLU库可通过类<em>com.jogamp.opengl.glu.<abbr title="The OpenGL Utility library. Defines several functions for use with older versions of OpenGL, including gluPerspective and gluLookAt. Not to be confused with GLUT. GLU is a standard part of OpenGL.">GLU</abbr></em>使用，并且与GLUT类似地工作。也就是说，您必须创建一个<strong><abbr title="The OpenGL Utility library. Defines several functions for use with older versions of OpenGL, including gluPerspective and gluLookAt. Not to be confused with GLUT. GLU is a standard part of OpenGL.">GLU</abbr></strong>类型的对象，GLU函数将作为该对象的方法可用。我们仅在函数gluLookAt和gluPerspective中遇到过GLU，这些函数在<a href="../s3/">第3.3节</a>中进行了讨论。例如，</p>
<div class="highlight"><pre><span></span><code><span class="n">GLU</span><span class="w"> </span><span class="n">glu</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">GLU</span><span class="p">();</span>

<span class="n">glu</span><span class="p">.</span><span class="na">gluLookAt</span><span class="p">(</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="mi">15</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="w"> </span><span class="p">);</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p><abbr title="OpenGL的Java实现。JOGL非常复杂，因为它试图在一个编程系统中支持所有版本的OpenGL。JOGL与Java的Swing和AWT图形无缝集成。">JOGL</abbr> is a framework for using <abbr title="A family of computer graphics APIs that is implemented in many graphics hardware devices. There are several versions of the API, and there are implementations, or &quot;bindings&quot; for several different programming languages. Versions of OpenGL for embedded systems such as mobile phones are known as OpenGL ES. WebGL is a version for use on Web pages. OpenGL can be used for 2D as well as for 3D graphics, but it is most commonly associated with 3D.">OpenGL</abbr> in Java programs. It is a large and complex <abbr title="Application Programming Interface. A collection of related classes, functions, constants, etc., for performing some task. An API is an &quot;interface&quot; in the sense that it can be used without understanding how its functionality is actually implemented.">API</abbr> that supports all versions of <abbr title="A family of computer graphics APIs that is implemented in many graphics hardware devices. There are several versions of the API, and there are implementations, or &quot;bindings&quot; for several different programming languages. Versions of OpenGL for embedded systems such as mobile phones are known as OpenGL ES. WebGL is a version for use on Web pages. OpenGL can be used for 2D as well as for 3D graphics, but it is most commonly associated with 3D.">OpenGL</abbr>, but it is fairly easy to use for basic applications. You should use <abbr title="OpenGL的Java实现。JOGL非常复杂，因为它试图在一个编程系统中支持所有版本的OpenGL。JOGL与Java的Swing和AWT图形无缝集成。">JOGL</abbr> 2.4 or later. The programs in this book were tested with version 2.4.0.</p>
<p>The sample program <em><a href="../../../en/source/jogl/JoglStarter.java">jogl/JoglStarter.java</a></em> can be used as a starting point for writing <abbr title="A family of computer graphics APIs that is implemented in many graphics hardware devices. There are several versions of the API, and there are implementations, or &quot;bindings&quot; for several different programming languages. Versions of OpenGL for embedded systems such as mobile phones are known as OpenGL ES. WebGL is a version for use on Web pages. OpenGL can be used for 2D as well as for 3D graphics, but it is most commonly associated with 3D.">OpenGL</abbr> programs using <abbr title="OpenGL的Java实现。JOGL非常复杂，因为它试图在一个编程系统中支持所有版本的OpenGL。JOGL与Java的Swing和AWT图形无缝集成。">JOGL</abbr>. While it doesn't do anything except open a window, the program contains the framework needed to do <abbr title="A family of computer graphics APIs that is implemented in many graphics hardware devices. There are several versions of the API, and there are implementations, or &quot;bindings&quot; for several different programming languages. Versions of OpenGL for embedded systems such as mobile phones are known as OpenGL ES. WebGL is a version for use on Web pages. OpenGL can be used for 2D as well as for 3D graphics, but it is most commonly associated with 3D.">OpenGL</abbr> drawing, including doing <abbr title="A sequence of images that, when displayed quickly one after the other, will produce the impression of continuous motion or change. The term animation also refers to the process of creating such image sequences.">animation</abbr>, responding to mouse and keyboard events, and setting up a menu. The source code contains comments that tell you how to use it.</p>
<p>To use <abbr title="OpenGL的Java实现。JOGL非常复杂，因为它试图在一个编程系统中支持所有版本的OpenGL。JOGL与Java的Swing和AWT图形无缝集成。">JOGL</abbr>, you will need two .jar files containing the Java classes for <abbr title="OpenGL的Java实现。JOGL非常复杂，因为它试图在一个编程系统中支持所有版本的OpenGL。JOGL与Java的Swing和AWT图形无缝集成。">JOGL</abbr>: <em>jogl-all.jar</em> and <em>gluegen-rt.jar</em>. In addition, you will need two native library files. A native library is a collection of routines that can be called from Java but are not written in Java. Routines in a native library will work on only one kind of computer; you need a different native library for each type of computer on which your program is to be used. The native libraries for <abbr title="OpenGL的Java实现。JOGL非常复杂，因为它试图在一个编程系统中支持所有版本的OpenGL。JOGL与Java的Swing和AWT图形无缝集成。">JOGL</abbr> are stored in additional .jar files, which are available in several versions for different computers. For example, for 64-bit Linux on Intel or AMD CPUs, you need <em>jogl-all-natives-linux-amd64.jar</em> and <em>gluegen-rt-natives-linux-amd64.jar</em>. It is unfortunate that there are different versions for different platforms, since many people don't know exactly which one they are using. However, if you are in doubt, you can get more than one version; <abbr title="OpenGL的Java实现。JOGL非常复杂，因为它试图在一个编程系统中支持所有版本的OpenGL。JOGL与Java的Swing和AWT图形无缝集成。">JOGL</abbr> will figure out which one to use.</p>
<p><abbr title="OpenGL的Java实现。JOGL非常复杂，因为它试图在一个编程系统中支持所有版本的OpenGL。JOGL与Java的Swing和AWT图形无缝集成。">JOGL</abbr> software can be found at <a href="https://jogamp.org/">https://jogamp.org/</a>. You can download the jar files from the most recent release, which can be found near the end of the list at</p>
<p><a href="https://jogamp.org/deployment/archive/rc/">https://jogamp.org/deployment/archive/rc/</a></p>
<p>Click on the release name, then click on the <code>jar/</code> link to see the full list of jar files. Find and download <em>jogl-all.jar</em> and gluegen-rt.jar and the corresponding native library files. I have also made <em>jogl-all.jar</em> and gluegen-rt.jar available on my own web site, along with the native libraries for some of the most common platforms, at</p>
<p><a href="http://math.hws.edu/eck/cs424/jogl_2_4_support/">http://math.hws.edu/eck/cs424/jogl_2_4_support/</a></p>
<p><abbr title="OpenGL的Java实现。JOGL非常复杂，因为它试图在一个编程系统中支持所有版本的OpenGL。JOGL与Java的Swing和AWT图形无缝集成。">JOGL</abbr> is open-source, and the files are freely redistributable, according to their license.</p>
<p>To do <abbr title="OpenGL的Java实现。JOGL非常复杂，因为它试图在一个编程系统中支持所有版本的OpenGL。JOGL与Java的Swing和AWT图形无缝集成。">JOGL</abbr> development, you should create a directory somewhere on your computer to hold the jar files. Place the two <abbr title="OpenGL的Java实现。JOGL非常复杂，因为它试图在一个编程系统中支持所有版本的OpenGL。JOGL与Java的Swing和AWT图形无缝集成。">JOGL</abbr> jar files in that directory, along with the two native library jar files for your platform. (Having extra native library jar files doesn't hurt, as long as you have the ones that you need.)</p>
<p>It is possible to do <abbr title="OpenGL的Java实现。JOGL非常复杂，因为它试图在一个编程系统中支持所有版本的OpenGL。JOGL与Java的Swing和AWT图形无缝集成。">JOGL</abbr> development on the command line. You have to tell the javac command where to find the two <abbr title="OpenGL的Java实现。JOGL非常复杂，因为它试图在一个编程系统中支持所有版本的OpenGL。JOGL与Java的Swing和AWT图形无缝集成。">JOGL</abbr> jar files. You do that in the classpath ("-cp") option to the javac command. For example, if you are working in Linux or MacOS, and if the jar files happen to be in the same directory where you are working, you might say:</p>
<div class="highlight"><pre><span></span><code>javac<span class="w">  </span>-cp<span class="w">  </span>jogl-all.jar:gluegen-rt.jar:.<span class="w">  </span>MyOpenGLProg.java
</code></pre></div>
<p>It's similar for Windows, except that the classpath uses a ";" instead of a ":" to separate the items in the list:</p>
<div class="highlight"><pre><span></span><code>javac<span class="w">  </span>-cp<span class="w">  </span>jogl-all.jar<span class="p">;</span>gluegen-rt.jar<span class="p">;</span>.<span class="w">  </span>MyOpenGLProg.java
</code></pre></div>
<p>There is an essential period at the end of the classpath, which makes it possible for Java to find .java files in the current directory. If the jar files are not in the current directory, you can use full path names or relative path names to the files. For example,</p>
<div class="highlight"><pre><span></span><code>javac<span class="w">  </span>-cp<span class="w">  </span>../jogl/jogl-all.jar:../jogl/gluegen-rt.jar:.<span class="w">  </span>MyOpenGLProg.java
</code></pre></div>
<p>Running a program with the java command is exactly similar. For example:</p>
<div class="highlight"><pre><span></span><code>java<span class="w">  </span>-cp<span class="w">  </span>jogl-all.jar:gluegen-rt.jar:.<span class="w">  </span>MyOpenGLProg
</code></pre></div>
<p>Note that you don't have to explicitly reference the native library jar files. They just have to be in the same directory with the <abbr title="OpenGL的Java实现。JOGL非常复杂，因为它试图在一个编程系统中支持所有版本的OpenGL。JOGL与Java的Swing和AWT图形无缝集成。">JOGL</abbr> jar files.</p>
<hr />
<p>I do most of my Java development using the <abbr title="一个用于编写 Java（和其他编程语言）程序的集成开发环境。Eclipse 是一个可以从 http://eclipse.org 下载的免费程序。">Eclipse</abbr> IDE (<a href="http://eclipse.org">http://eclipse.org</a>). To do development with <abbr title="OpenGL的Java实现。JOGL非常复杂，因为它试图在一个编程系统中支持所有版本的OpenGL。JOGL与Java的Swing和AWT图形无缝集成。">JOGL</abbr> in <abbr title="一个用于编写 Java（和其他编程语言）程序的集成开发环境。Eclipse 是一个可以从 http://eclipse.org 下载的免费程序。">Eclipse</abbr>, you will have to configure <abbr title="一个用于编写 Java（和其他编程语言）程序的集成开发环境。Eclipse 是一个可以从 http://eclipse.org 下载的免费程序。">Eclipse</abbr> with information about the jar files. To do that, start up <abbr title="一个用于编写 Java（和其他编程语言）程序的集成开发环境。Eclipse 是一个可以从 http://eclipse.org 下载的免费程序。">Eclipse</abbr>. You want to create a "User Library" to contain the jar files: Open the <abbr title="一个用于编写 Java（和其他编程语言）程序的集成开发环境。Eclipse 是一个可以从 http://eclipse.org 下载的免费程序。">Eclipse</abbr> Preferences window, and select "Java" / "Build Path" / "User Libraries" on the left. Click the "New" button on the right. Enter "<abbr title="OpenGL的Java实现。JOGL非常复杂，因为它试图在一个编程系统中支持所有版本的OpenGL。JOGL与Java的Swing和AWT图形无缝集成。">JOGL</abbr>" (or any name you like) as the name of the user library. Make sure that the new user library is selected in the list of libraries, then click the "Add External Jars" button. In the file selection box, navigate to the directory that contains the <abbr title="OpenGL的Java实现。JOGL非常复杂，因为它试图在一个编程系统中支持所有版本的OpenGL。JOGL与Java的Swing和AWT图形无缝集成。">JOGL</abbr> jar files, and select the two jar files that are needed for <abbr title="OpenGL的Java实现。JOGL非常复杂，因为它试图在一个编程系统中支持所有版本的OpenGL。JOGL与Java的Swing和AWT图形无缝集成。">JOGL</abbr>, jogl-all.jar and gluegen-rt.jar. (Again, you do not need to add the native libraries; they just need to be in the same directory as the <abbr title="OpenGL的Java实现。JOGL非常复杂，因为它试图在一个编程系统中支持所有版本的OpenGL。JOGL与Java的Swing和AWT图形无缝集成。">JOGL</abbr> jar files.) Click "Open". The selected jars will be added to the user library. (You could also add them one at a time, if you don't know how to select multiple files.) It should look something like this:</p>
<p><a class="glightbox" href="../../../en/c3/jogl-user-library.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="123" src="../../../en/c3/jogl-user-library.png" /></a></p>
<p>Click "OK." The user library has been created. You will only have to do this once, and then you can use it in all of your <abbr title="OpenGL的Java实现。JOGL非常复杂，因为它试图在一个编程系统中支持所有版本的OpenGL。JOGL与Java的Swing和AWT图形无缝集成。">JOGL</abbr> projects.</p>
<p>Now, to use <abbr title="A family of computer graphics APIs that is implemented in many graphics hardware devices. There are several versions of the API, and there are implementations, or &quot;bindings&quot; for several different programming languages. Versions of OpenGL for embedded systems such as mobile phones are known as OpenGL ES. WebGL is a version for use on Web pages. OpenGL can be used for 2D as well as for 3D graphics, but it is most commonly associated with 3D.">OpenGL</abbr> in a project, create a new Java project as usual in <abbr title="一个用于编写 Java（和其他编程语言）程序的集成开发环境。Eclipse 是一个可以从 http://eclipse.org 下载的免费程序。">Eclipse</abbr>. (If you are asked whether you want to create a module-info.java file for the project, say "Don't Create". Sample programs for this textbook do not use Java modules.) Right-click the new project in the Project Explorer view, and select "Build Path" / "Configure Build Path" from the menu. You will see the project Properties dialog, with "Java Build Path" selected on the left. (You can also access this through the "Properties" command in the "Project" menu.) Select the "Libraries" tab at the top of the window, and then click on "Class Path" in the "Libraries" tab to select it. Click the "Add Library" button, on the right. In the popup window, select "User Library" and click "Next." In the next window, select your <abbr title="OpenGL的Java实现。JOGL非常复杂，因为它试图在一个编程系统中支持所有版本的OpenGL。JOGL与Java的Swing和AWT图形无缝集成。">JOGL</abbr> User Library and click "Finish." Finally, click "Apply and Close" in the main Properties window. Your project should now be set up to do <abbr title="OpenGL的Java实现。JOGL非常复杂，因为它试图在一个编程系统中支持所有版本的OpenGL。JOGL与Java的Swing和AWT图形无缝集成。">JOGL</abbr> development. You should see the <abbr title="OpenGL的Java实现。JOGL非常复杂，因为它试图在一个编程系统中支持所有版本的OpenGL。JOGL与Java的Swing和AWT图形无缝集成。">JOGL</abbr> User Library listed as part of the project in the Project Explorer. Any time you want to start a new <abbr title="OpenGL的Java实现。JOGL非常复杂，因为它试图在一个编程系统中支持所有版本的OpenGL。JOGL与Java的Swing和AWT图形无缝集成。">JOGL</abbr> project, you can go through the same setup to add the <abbr title="OpenGL的Java实现。JOGL非常复杂，因为它试图在一个编程系统中支持所有版本的OpenGL。JOGL与Java的Swing和AWT图形无缝集成。">JOGL</abbr> User Library to the build path in the project.</p>
<hr />
<p>With all that setup out of the way, it's time to talk about actually writing <abbr title="A family of computer graphics APIs that is implemented in many graphics hardware devices. There are several versions of the API, and there are implementations, or &quot;bindings&quot; for several different programming languages. Versions of OpenGL for embedded systems such as mobile phones are known as OpenGL ES. WebGL is a version for use on Web pages. OpenGL can be used for 2D as well as for 3D graphics, but it is most commonly associated with 3D.">OpenGL</abbr> programs with Java. With <abbr title="OpenGL的Java实现。JOGL非常复杂，因为它试图在一个编程系统中支持所有版本的OpenGL。JOGL与Java的Swing和AWT图形无缝集成。">JOGL</abbr>, we don't have to talk about mouse and keyboard handling or <abbr title="A sequence of images that, when displayed quickly one after the other, will produce the impression of continuous motion or change. The term animation also refers to the process of creating such image sequences.">animation</abbr>, since that can be done in the same way as in any Java Swing program. You will only need to know about a few classes from the <abbr title="OpenGL的Java实现。JOGL非常复杂，因为它试图在一个编程系统中支持所有版本的OpenGL。JOGL与Java的Swing和AWT图形无缝集成。">JOGL</abbr> <abbr title="Application Programming Interface. A collection of related classes, functions, constants, etc., for performing some task. An API is an &quot;interface&quot; in the sense that it can be used without understanding how its functionality is actually implemented.">API</abbr>.</p>
<p>First, you need a <abbr title="(Graphical User Interface.) A user interface for a program where the user interacts with the program using components such as windows, menus, buttons, and text-input boxes.">GUI</abbr> component on which you can draw using <abbr title="A family of computer graphics APIs that is implemented in many graphics hardware devices. There are several versions of the API, and there are implementations, or &quot;bindings&quot; for several different programming languages. Versions of OpenGL for embedded systems such as mobile phones are known as OpenGL ES. WebGL is a version for use on Web pages. OpenGL can be used for 2D as well as for 3D graphics, but it is most commonly associated with 3D.">OpenGL</abbr>. For that, you can use <strong>GLJPanel</strong>, which is a subclass of <strong>JPanel</strong>. (<strong>GLJPanel</strong> is for use in programs based on the Swing <abbr title="Application Programming Interface. A collection of related classes, functions, constants, etc., for performing some task. An API is an &quot;interface&quot; in the sense that it can be used without understanding how its functionality is actually implemented.">API</abbr>; an alternative is <strong>GLCanvas</strong>, which is a subclass of the older AWT class <strong>Canvas</strong>.) The class is defined in the package <em>com.jogamp.opengl.awt</em>. All of the other classes that we will need for basic <abbr title="A family of computer graphics APIs that is implemented in many graphics hardware devices. There are several versions of the API, and there are implementations, or &quot;bindings&quot; for several different programming languages. Versions of OpenGL for embedded systems such as mobile phones are known as OpenGL ES. WebGL is a version for use on Web pages. OpenGL can be used for 2D as well as for 3D graphics, but it is most commonly associated with 3D.">OpenGL</abbr> programming are in the package <em>com.jogamp.opengl</em>.</p>
<p><abbr title="OpenGL的Java实现。JOGL非常复杂，因为它试图在一个编程系统中支持所有版本的OpenGL。JOGL与Java的Swing和AWT图形无缝集成。">JOGL</abbr> uses Java's event framework to manage <abbr title="A family of computer graphics APIs that is implemented in many graphics hardware devices. There are several versions of the API, and there are implementations, or &quot;bindings&quot; for several different programming languages. Versions of OpenGL for embedded systems such as mobile phones are known as OpenGL ES. WebGL is a version for use on Web pages. OpenGL can be used for 2D as well as for 3D graphics, but it is most commonly associated with 3D.">OpenGL</abbr> drawing contexts, and it defines a custom event listener interface, <strong>GLEventListener</strong>, to manage <abbr title="A family of computer graphics APIs that is implemented in many graphics hardware devices. There are several versions of the API, and there are implementations, or &quot;bindings&quot; for several different programming languages. Versions of OpenGL for embedded systems such as mobile phones are known as OpenGL ES. WebGL is a version for use on Web pages. OpenGL can be used for 2D as well as for 3D graphics, but it is most commonly associated with 3D.">OpenGL</abbr> events. To draw on a <strong>GLJPanel</strong> with <abbr title="A family of computer graphics APIs that is implemented in many graphics hardware devices. There are several versions of the API, and there are implementations, or &quot;bindings&quot; for several different programming languages. Versions of OpenGL for embedded systems such as mobile phones are known as OpenGL ES. WebGL is a version for use on Web pages. OpenGL can be used for 2D as well as for 3D graphics, but it is most commonly associated with 3D.">OpenGL</abbr>, you need to create an object that implements the <strong>GLEventListener</strong> interface, and register that listener with your <strong>GLJPanel</strong>. The <strong>GLEventListener</strong> interface defines the following methods:</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">init</span><span class="p">(</span><span class="n">GLAutoDrawable</span><span class="w"> </span><span class="n">drawable</span><span class="p">)</span>

<span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">display</span><span class="p">(</span><span class="n">GLAutoDrawable</span><span class="w"> </span><span class="n">drawable</span><span class="p">)</span>

<span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">dispose</span><span class="p">(</span><span class="n">GLAutoDrawable</span><span class="w"> </span><span class="n">drawable</span><span class="p">)</span>

<span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">reshape</span><span class="p">(</span><span class="n">GLAutoDrawable</span><span class="w"> </span><span class="n">drawable</span><span class="p">,</span>
<span class="w">                        </span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">width</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">height</span><span class="p">)</span>
</code></pre></div>
<p>The drawable parameter in these methods tells which <abbr title="A family of computer graphics APIs that is implemented in many graphics hardware devices. There are several versions of the API, and there are implementations, or &quot;bindings&quot; for several different programming languages. Versions of OpenGL for embedded systems such as mobile phones are known as OpenGL ES. WebGL is a version for use on Web pages. OpenGL can be used for 2D as well as for 3D graphics, but it is most commonly associated with 3D.">OpenGL</abbr> drawing surface is involved. It will be a reference to the <strong>GLJPanel</strong>. (<strong>GLAutoDrawable</strong> is an interface that is implemented by <strong>GLJPanel</strong> and other <abbr title="A family of computer graphics APIs that is implemented in many graphics hardware devices. There are several versions of the API, and there are implementations, or &quot;bindings&quot; for several different programming languages. Versions of OpenGL for embedded systems such as mobile phones are known as OpenGL ES. WebGL is a version for use on Web pages. OpenGL can be used for 2D as well as for 3D graphics, but it is most commonly associated with 3D.">OpenGL</abbr> drawing surfaces.) The init() method is a place to do <abbr title="A family of computer graphics APIs that is implemented in many graphics hardware devices. There are several versions of the API, and there are implementations, or &quot;bindings&quot; for several different programming languages. Versions of OpenGL for embedded systems such as mobile phones are known as OpenGL ES. WebGL is a version for use on Web pages. OpenGL can be used for 2D as well as for 3D graphics, but it is most commonly associated with 3D.">OpenGL</abbr> initialization. (According to the documentation, it can actually be called several times, if the <abbr title="A family of computer graphics APIs that is implemented in many graphics hardware devices. There are several versions of the API, and there are implementations, or &quot;bindings&quot; for several different programming languages. Versions of OpenGL for embedded systems such as mobile phones are known as OpenGL ES. WebGL is a version for use on Web pages. OpenGL can be used for 2D as well as for 3D graphics, but it is most commonly associated with 3D.">OpenGL</abbr> context needs to be recreated for some reason. So init() should not be used to do initialization that shouldn't be done more than once.) The dispose() method will be called to give you a chance to do any cleanup before the <abbr title="A family of computer graphics APIs that is implemented in many graphics hardware devices. There are several versions of the API, and there are implementations, or &quot;bindings&quot; for several different programming languages. Versions of OpenGL for embedded systems such as mobile phones are known as OpenGL ES. WebGL is a version for use on Web pages. OpenGL can be used for 2D as well as for 3D graphics, but it is most commonly associated with 3D.">OpenGL</abbr> drawing context is destroyed. The reshape() method is called when the window first opens and whenever the size of the <strong>GLJPanel</strong> changes. <abbr title="A family of computer graphics APIs that is implemented in many graphics hardware devices. There are several versions of the API, and there are implementations, or &quot;bindings&quot; for several different programming languages. Versions of OpenGL for embedded systems such as mobile phones are known as OpenGL ES. WebGL is a version for use on Web pages. OpenGL can be used for 2D as well as for 3D graphics, but it is most commonly associated with 3D.">OpenGL</abbr>'s glViewport() function is called automatically before reshape() is called, so you won't need to do it yourself. Usually, you won't need to write any code in dispose() or reshape(), but they have to be there to satisfy the definition of the <strong>GLEventListener</strong> interface.</p>
<p>The <em>display()</em> method is where the actual drawing is done and where you will do most of your work. It should ordinarily clear the drawing area and completely redraw the scene. Take a minute to study an outline for a minimal <abbr title="OpenGL的Java实现。JOGL非常复杂，因为它试图在一个编程系统中支持所有版本的OpenGL。JOGL与Java的Swing和AWT图形无缝集成。">JOGL</abbr> program. It creates a <strong>GLJPanel</strong> which also serves as the <strong>GLEventListener</strong>:</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">com.jogamp.opengl.*</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.jogamp.opengl.awt.GLJPanel</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.awt.Dimension</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">javax.swing.JFrame</span><span class="p">;</span>

<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">JOGLProgram</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">GLJPanel</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">GLEventListener</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">JFrame</span><span class="w"> </span><span class="n">window</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">JFrame</span><span class="p">(</span><span class="s">&quot;JOGL Program&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="n">JOGLProgram</span><span class="w"> </span><span class="n">panel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">JOGLProgram</span><span class="p">();</span>
<span class="w">        </span><span class="n">window</span><span class="p">.</span><span class="na">setContentPane</span><span class="p">(</span><span class="n">panel</span><span class="p">);</span>
<span class="w">        </span><span class="n">window</span><span class="p">.</span><span class="na">pack</span><span class="p">();</span>
<span class="w">        </span><span class="n">window</span><span class="p">.</span><span class="na">setLocation</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span><span class="mi">50</span><span class="p">);</span>
<span class="w">        </span><span class="n">window</span><span class="p">.</span><span class="na">setDefaultCloseOperation</span><span class="p">(</span><span class="n">JFrame</span><span class="p">.</span><span class="na">EXIT_ON_CLOSE</span><span class="p">);</span>
<span class="w">        </span><span class="n">window</span><span class="p">.</span><span class="na">setVisible</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">JOGLProgram</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">setPreferredSize</span><span class="p">(</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Dimension</span><span class="p">(</span><span class="mi">500</span><span class="p">,</span><span class="mi">500</span><span class="p">)</span><span class="w"> </span><span class="p">);</span>
<span class="w">        </span><span class="n">addGLEventListener</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// ---------------  Methods of the GLEventListener interface -----------</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">init</span><span class="p">(</span><span class="n">GLAutoDrawable</span><span class="w"> </span><span class="n">drawable</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="c1">// called when the panel is created</span>
<span class="w">        </span><span class="n">GL2</span><span class="w"> </span><span class="n">gl</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">drawable</span><span class="p">.</span><span class="na">getGL</span><span class="p">().</span><span class="na">getGL2</span><span class="p">();</span>
<span class="w">        </span><span class="c1">// Add initialization code here!</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">display</span><span class="p">(</span><span class="n">GLAutoDrawable</span><span class="w"> </span><span class="n">drawable</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">    </span>
<span class="w">            </span><span class="c1">// called when the panel needs to be drawn</span>
<span class="w">        </span><span class="n">GL2</span><span class="w"> </span><span class="n">gl</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">drawable</span><span class="p">.</span><span class="na">getGL</span><span class="p">().</span><span class="na">getGL2</span><span class="p">();</span>
<span class="w">        </span><span class="c1">// Add drawing code here!</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">reshape</span><span class="p">(</span><span class="n">GLAutoDrawable</span><span class="w"> </span><span class="n">drawable</span><span class="p">,</span>
<span class="w">                            </span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">width</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">height</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// called when user resizes the window</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">dispose</span><span class="p">(</span><span class="n">GLAutoDrawable</span><span class="w"> </span><span class="n">drawable</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// called when the panel is being disposed</span>
<span class="w">    </span><span class="p">}</span>

<span class="p">}</span>
</code></pre></div>
<hr />
<p>At this point, the only other thing you need to know is how to use <abbr title="A family of computer graphics APIs that is implemented in many graphics hardware devices. There are several versions of the API, and there are implementations, or &quot;bindings&quot; for several different programming languages. Versions of OpenGL for embedded systems such as mobile phones are known as OpenGL ES. WebGL is a version for use on Web pages. OpenGL can be used for 2D as well as for 3D graphics, but it is most commonly associated with 3D.">OpenGL</abbr> functions in the program. In <abbr title="OpenGL的Java实现。JOGL非常复杂，因为它试图在一个编程系统中支持所有版本的OpenGL。JOGL与Java的Swing和AWT图形无缝集成。">JOGL</abbr>, the <abbr title="A family of computer graphics APIs that is implemented in many graphics hardware devices. There are several versions of the API, and there are implementations, or &quot;bindings&quot; for several different programming languages. Versions of OpenGL for embedded systems such as mobile phones are known as OpenGL ES. WebGL is a version for use on Web pages. OpenGL can be used for 2D as well as for 3D graphics, but it is most commonly associated with 3D.">OpenGL</abbr> 1.1 functions are collected into an object of type <strong>GL2</strong>. (There are different classes for different versions of <abbr title="A family of computer graphics APIs that is implemented in many graphics hardware devices. There are several versions of the API, and there are implementations, or &quot;bindings&quot; for several different programming languages. Versions of OpenGL for embedded systems such as mobile phones are known as OpenGL ES. WebGL is a version for use on Web pages. OpenGL can be used for 2D as well as for 3D graphics, but it is most commonly associated with 3D.">OpenGL</abbr>; <strong>GL2</strong> contains <abbr title="A family of computer graphics APIs that is implemented in many graphics hardware devices. There are several versions of the API, and there are implementations, or &quot;bindings&quot; for several different programming languages. Versions of OpenGL for embedded systems such as mobile phones are known as OpenGL ES. WebGL is a version for use on Web pages. OpenGL can be used for 2D as well as for 3D graphics, but it is most commonly associated with 3D.">OpenGL</abbr> 1.1 functionality, along with later versions that are compatible with 1.1.) An object of type <strong>GL2</strong> is an <abbr title="A family of computer graphics APIs that is implemented in many graphics hardware devices. There are several versions of the API, and there are implementations, or &quot;bindings&quot; for several different programming languages. Versions of OpenGL for embedded systems such as mobile phones are known as OpenGL ES. WebGL is a version for use on Web pages. OpenGL can be used for 2D as well as for 3D graphics, but it is most commonly associated with 3D.">OpenGL</abbr> graphics context, in the same way that an object of type <strong>Graphics2D</strong> is a graphics context for ordinary Java 2D drawing. The statement</p>
<div class="highlight"><pre><span></span><code><span class="n">GL2</span><span class="w"> </span><span class="n">gl</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">drawable</span><span class="p">.</span><span class="na">getGL</span><span class="p">().</span><span class="na">getGL2</span><span class="p">();</span>
</code></pre></div>
<p>in the above program obtains the drawing context for the <strong>GLAutoDrawable</strong>, that is, for the <strong>GLJPanel</strong> in that program. The name of the variable could, of course, be anything, but gl or gl2 is conventional.</p>
<p>For the most part, using <abbr title="A family of computer graphics APIs that is implemented in many graphics hardware devices. There are several versions of the API, and there are implementations, or &quot;bindings&quot; for several different programming languages. Versions of OpenGL for embedded systems such as mobile phones are known as OpenGL ES. WebGL is a version for use on Web pages. OpenGL can be used for 2D as well as for 3D graphics, but it is most commonly associated with 3D.">OpenGL</abbr> functions in <abbr title="OpenGL的Java实现。JOGL非常复杂，因为它试图在一个编程系统中支持所有版本的OpenGL。JOGL与Java的Swing和AWT图形无缝集成。">JOGL</abbr> is the same as in C, except that the functions are now methods in the object gl. For example, a call to glClearColor(r,g,b,a) becomes</p>
<div class="highlight"><pre><span></span><code><span class="n">gl</span><span class="p">.</span><span class="na">glClearColor</span><span class="p">(</span><span class="n">r</span><span class="p">,</span><span class="n">g</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">a</span><span class="p">);</span>
</code></pre></div>
<p>The redundant "gl.gl" is a little annoying, but you get used to it. <abbr title="A family of computer graphics APIs that is implemented in many graphics hardware devices. There are several versions of the API, and there are implementations, or &quot;bindings&quot; for several different programming languages. Versions of OpenGL for embedded systems such as mobile phones are known as OpenGL ES. WebGL is a version for use on Web pages. OpenGL can be used for 2D as well as for 3D graphics, but it is most commonly associated with 3D.">OpenGL</abbr> constants such as <em>GL_TRIANGLES</em> are static members of <strong>GL2</strong>, so that, for example, <em>GL_TRIANGLES</em> becomes <strong>GL2</strong>.<em>GL_TRIANGLES</em> in <abbr title="OpenGL的Java实现。JOGL非常复杂，因为它试图在一个编程系统中支持所有版本的OpenGL。JOGL与Java的Swing和AWT图形无缝集成。">JOGL</abbr>. Parameter lists for <abbr title="A family of computer graphics APIs that is implemented in many graphics hardware devices. There are several versions of the API, and there are implementations, or &quot;bindings&quot; for several different programming languages. Versions of OpenGL for embedded systems such as mobile phones are known as OpenGL ES. WebGL is a version for use on Web pages. OpenGL can be used for 2D as well as for 3D graphics, but it is most commonly associated with 3D.">OpenGL</abbr> functions are the same as in the C <abbr title="Application Programming Interface. A collection of related classes, functions, constants, etc., for performing some task. An API is an &quot;interface&quot; in the sense that it can be used without understanding how its functionality is actually implemented.">API</abbr> in most cases. One exception is for functions such as glVertex3fv() that take an array/pointer parameter in C. In <abbr title="OpenGL的Java实现。JOGL非常复杂，因为它试图在一个编程系统中支持所有版本的OpenGL。JOGL与Java的Swing和AWT图形无缝集成。">JOGL</abbr>, the parameter becomes an ordinary Java array, and an extra integer parameter is added to give the position of the data in the array. Here, for example, is how one might draw a triangle in <abbr title="OpenGL的Java实现。JOGL非常复杂，因为它试图在一个编程系统中支持所有版本的OpenGL。JOGL与Java的Swing和AWT图形无缝集成。">JOGL</abbr>, with all the <abbr title="One of the points that define a geometric primitive, such as the two endpoints of a line segment or the three vertices of a triangle. (The plural is &quot;vertices.&quot;) A vertex can be specified in a coordinate system by giving its x and y coordinates in 2D graphics, or its x, y, and z coordinates in 3D graphics.">vertex</abbr> coordinates in one array:</p>
<div class="highlight"><pre><span></span><code><span class="kt">float</span><span class="p">[]</span><span class="w"> </span><span class="n">coords</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="mf">0.5F</span><span class="p">,</span><span class="w"> </span><span class="mf">-0.5F</span><span class="p">,</span><span class="mf">-0.5F</span><span class="p">,</span><span class="w"> </span><span class="mf">0.5F</span><span class="p">,</span><span class="mf">-0.5F</span><span class="w"> </span><span class="p">};</span>

<span class="n">gl</span><span class="p">.</span><span class="n">glBegin</span><span class="p">(</span><span class="n">GL2</span><span class="p">.</span><span class="n">GL_TRIANGLES</span><span class="p">);</span>
<span class="n">gl</span><span class="p">.</span><span class="n">glVertex2fv</span><span class="p">(</span><span class="n">coords</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span><span class="w">     </span><span class="c1">// first vertex data starts at index 0</span>
<span class="n">gl</span><span class="p">.</span><span class="n">glVertex2fv</span><span class="p">(</span><span class="n">coords</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span><span class="w">     </span><span class="c1">// second vertex data starts at index 2</span>
<span class="n">gl</span><span class="p">.</span><span class="n">glVertex2fv</span><span class="p">(</span><span class="n">coords</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">);</span><span class="w">     </span><span class="c1">// third vertex data starts at index 4</span>
<span class="n">gl</span><span class="p">.</span><span class="n">glEnd</span><span class="p">();</span>
</code></pre></div>
<p>The biggest change in the <abbr title="OpenGL的Java实现。JOGL非常复杂，因为它试图在一个编程系统中支持所有版本的OpenGL。JOGL与Java的Swing和AWT图形无缝集成。">JOGL</abbr> <abbr title="Application Programming Interface. A collection of related classes, functions, constants, etc., for performing some task. An API is an &quot;interface&quot; in the sense that it can be used without understanding how its functionality is actually implemented.">API</abbr> is the use of nio buffers instead of arrays in functions such as glVertexPointer. This is discussed in <a href="../s4/#343-java-中的数据缓冲区">Subsection 3.4.3</a>. We will see in <a href="../../c4/s3/#439">Subsection 4.3.9</a> that <abbr title="Variation in some property from point-to-point on an object. The most common type is image texture. When an image texture is applied to a surface, the surface color varies from point to point.">texture</abbr> images also get special treatment in <abbr title="OpenGL的Java实现。JOGL非常复杂，因为它试图在一个编程系统中支持所有版本的OpenGL。JOGL与Java的Swing和AWT图形无缝集成。">JOGL</abbr>.</p>
<hr />
<p>The <abbr title="OpenGL的Java实现。JOGL非常复杂，因为它试图在一个编程系统中支持所有版本的OpenGL。JOGL与Java的Swing和AWT图形无缝集成。">JOGL</abbr> <abbr title="Application Programming Interface. A collection of related classes, functions, constants, etc., for performing some task. An API is an &quot;interface&quot; in the sense that it can be used without understanding how its functionality is actually implemented.">API</abbr> includes a class named <strong><abbr title="OpenGL实用工具包。用于编写OpenGL应用程序的跨平台库。OpenGL本身不包含对窗口或事件的支持。GLUT添加了这样的支持。它还具有用于绘制3D形状（如球体和多面体，更不用说茶壶了）的函数。GLUT用C语言编写，并与OpenGL的C API一起使用。然而，许多GLUT函数也在JOGL中可用，它是OpenGL的Java API。一种较新且稍有改进的工具包版本名为“FreeGLUT”，通常用于取代原始版本。">GLUT</abbr></strong> that makes <abbr title="OpenGL实用工具包。用于编写OpenGL应用程序的跨平台库。OpenGL本身不包含对窗口或事件的支持。GLUT添加了这样的支持。它还具有用于绘制3D形状（如球体和多面体，更不用说茶壶了）的函数。GLUT用C语言编写，并与OpenGL的C API一起使用。然而，许多GLUT函数也在JOGL中可用，它是OpenGL的Java API。一种较新且稍有改进的工具包版本名为“FreeGLUT”，通常用于取代原始版本。">GLUT</abbr>'s shape-drawing functions available in Java. (Since you don't need <abbr title="OpenGL实用工具包。用于编写OpenGL应用程序的跨平台库。OpenGL本身不包含对窗口或事件的支持。GLUT添加了这样的支持。它还具有用于绘制3D形状（如球体和多面体，更不用说茶壶了）的函数。GLUT用C语言编写，并与OpenGL的C API一起使用。然而，许多GLUT函数也在JOGL中可用，它是OpenGL的Java API。一种较新且稍有改进的工具包版本名为“FreeGLUT”，通常用于取代原始版本。">GLUT</abbr>'s window or event functions in Java, only the shape functions are included.) Class <strong><abbr title="OpenGL实用工具包。用于编写OpenGL应用程序的跨平台库。OpenGL本身不包含对窗口或事件的支持。GLUT添加了这样的支持。它还具有用于绘制3D形状（如球体和多面体，更不用说茶壶了）的函数。GLUT用C语言编写，并与OpenGL的C API一起使用。然而，许多GLUT函数也在JOGL中可用，它是OpenGL的Java API。一种较新且稍有改进的工具包版本名为“FreeGLUT”，通常用于取代原始版本。">GLUT</abbr></strong> is defined in the package <em>com.jogamp.opengl.util.gl2</em>. To draw shapes using this class, you need to create an object of type <abbr title="OpenGL实用工具包。用于编写OpenGL应用程序的跨平台库。OpenGL本身不包含对窗口或事件的支持。GLUT添加了这样的支持。它还具有用于绘制3D形状（如球体和多面体，更不用说茶壶了）的函数。GLUT用C语言编写，并与OpenGL的C API一起使用。然而，许多GLUT函数也在JOGL中可用，它是OpenGL的Java API。一种较新且稍有改进的工具包版本名为“FreeGLUT”，通常用于取代原始版本。">GLUT</abbr>. It's only necessary to make one of these for use in a program:</p>
<div class="highlight"><pre><span></span><code><span class="n">GLUT</span><span class="w"> </span><span class="n">glut</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">GLUT</span><span class="p">();</span>
</code></pre></div>
<p>The methods in this object include all the shape-drawing functions from the <abbr title="OpenGL实用工具包。用于编写OpenGL应用程序的跨平台库。OpenGL本身不包含对窗口或事件的支持。GLUT添加了这样的支持。它还具有用于绘制3D形状（如球体和多面体，更不用说茶壶了）的函数。GLUT用C语言编写，并与OpenGL的C API一起使用。然而，许多GLUT函数也在JOGL中可用，它是OpenGL的Java API。一种较新且稍有改进的工具包版本名为“FreeGLUT”，通常用于取代原始版本。">GLUT</abbr> C <abbr title="Application Programming Interface. A collection of related classes, functions, constants, etc., for performing some task. An API is an &quot;interface&quot; in the sense that it can be used without understanding how its functionality is actually implemented.">API</abbr>, with the same names and parameters. For example:</p>
<div class="highlight"><pre><span></span><code><span class="n">glut</span><span class="p">.</span><span class="na">glutSolidSphere</span><span class="p">(</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">32</span><span class="p">,</span><span class="w"> </span><span class="mi">16</span><span class="w"> </span><span class="p">);</span>
<span class="n">glut</span><span class="p">.</span><span class="na">glutWireTeapot</span><span class="p">(</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="p">);</span>
<span class="n">glut</span><span class="p">.</span><span class="na">glutSolidIcosahedron</span><span class="p">();</span>
</code></pre></div>
<p>(I don't know why these are instance methods in an object rather than static methods in a class; logically, there is no need for the object.)</p>
<p>The <abbr title="The OpenGL Utility library. Defines several functions for use with older versions of OpenGL, including gluPerspective and gluLookAt. Not to be confused with GLUT. GLU is a standard part of OpenGL.">GLU</abbr> library is available through the class <em>com.jogamp.opengl.glu.<abbr title="The OpenGL Utility library. Defines several functions for use with older versions of OpenGL, including gluPerspective and gluLookAt. Not to be confused with GLUT. GLU is a standard part of OpenGL.">GLU</abbr></em>, and it works similarly to <abbr title="OpenGL实用工具包。用于编写OpenGL应用程序的跨平台库。OpenGL本身不包含对窗口或事件的支持。GLUT添加了这样的支持。它还具有用于绘制3D形状（如球体和多面体，更不用说茶壶了）的函数。GLUT用C语言编写，并与OpenGL的C API一起使用。然而，许多GLUT函数也在JOGL中可用，它是OpenGL的Java API。一种较新且稍有改进的工具包版本名为“FreeGLUT”，通常用于取代原始版本。">GLUT</abbr>. That is, you have to create an object of type <strong><abbr title="The OpenGL Utility library. Defines several functions for use with older versions of OpenGL, including gluPerspective and gluLookAt. Not to be confused with GLUT. GLU is a standard part of OpenGL.">GLU</abbr></strong>, and the <abbr title="The OpenGL Utility library. Defines several functions for use with older versions of OpenGL, including gluPerspective and gluLookAt. Not to be confused with GLUT. GLU is a standard part of OpenGL.">GLU</abbr> functions will be available as methods in that object. We have encountered <abbr title="The OpenGL Utility library. Defines several functions for use with older versions of OpenGL, including gluPerspective and gluLookAt. Not to be confused with GLUT. GLU is a standard part of OpenGL.">GLU</abbr> only for the functions gluLookAt and gluPerspective, which are discussed in <a href="../s3/">Section 3.3</a>. For example,</p>
<div class="highlight"><pre><span></span><code><span class="n">GLU</span><span class="w"> </span><span class="n">glu</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">GLU</span><span class="p">();</span>

<span class="n">glu</span><span class="p">.</span><span class="na">gluLookAt</span><span class="p">(</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="mi">15</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="w"> </span><span class="p">);</span>
</code></pre></div>
</div>
</div>
</div>
<h2 id="363-关于-glsimjs">3.6.3 关于 glsim.js<a class="headerlink" href="#363-关于-glsimjs" title="Permanent link">&para;</a></h2>
<div class="tabbed-set tabbed-alternate" data-tabs="4:2"><input checked="checked" id="__tabbed_4_1" name="__tabbed_4" type="radio" /><input id="__tabbed_4_2" name="__tabbed_4" type="radio" /><div class="tabbed-labels"><label for="__tabbed_4_1">中文</label><label for="__tabbed_4_2">英文</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>JavaScript库glsim.js是为了配合和支持本教材而编写的。它实现了<a href="../">第3章</a>和<a href="../../c4/">第4章</a>讨论的OpenGL 1.1的子集，但不包括显示列表(<a href="../s4/#344-显示列表和vbo">小节3.4.4</a>)。它在这些章节中出现的演示中使用。在这些章节中讨论的许多示例程序都以使用glsim.js的JavaScript版本提供。</p>
<p>如果您想要尝试OpenGL 1.1，但不想费力设置支持OpenGL编程的C或Java环境，您可以考虑编写使用glsim.js的网页程序。请注意，glsim仅用于实验和练习，不适用于严肃的应用程序。</p>
<p>glsim.js实现的OpenGL API基本上与C API相同，尽管一些语义细节有所不同。当然，创建绘图表面和OpenGL绘图上下文的技术是特定于JavaScript的，并且与GLUT或JOGL中使用的技术不同。</p>
<p>要使用glsim.js，您需要创建一个包含<code>&lt;canvas&gt;</code>元素作为绘图表面的HTML文档。HTML文件必须导入该脚本；如果glsim.js与HTML文件位于同一目录中，您可以使用以下方法导入：</p>
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;glsim.js&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</code></pre></div>
<p>要创建OpenGL绘图上下文，请使用JavaScript命令</p>
<div class="highlight"><pre><span></span><code><span class="nx">glsimUse</span><span class="p">(</span><span class="nx">canvas</span><span class="p">);</span>
</code></pre></div>
<p>其中canvas是一个字符串，给出了<code>&lt;canvas&gt;</code>元素的id，或者是与<code>&lt;canvas&gt;</code>元素对应的JavaScript DOM对象。通过这种方式创建绘图上下文后，您给出的任何OpenGL命令都将应用于canvas。要运行程序，只需在支持WebGL 1.0的Web浏览器中打开HTML文档。</p>
<p>开始编程的最简单方法是修改一个已经存在的程序。来自<a href="../s1/#312--opengl颜色">小节3.1.2</a>的示例程序<a href="../../../en/source/glsim/first-triangle.html">glsim/first-triangle.html</a>是使用glsim.js的一个非常简单的示例。示例网页<a href="../../../en/source/glsim/glsim-starter.html">glsim/glsim-starter.html</a>可以用作编写使用glsim.js的较长程序的起点。它提供了一个用于进行OpenGL绘图的框架，支持动画以及鼠标和键盘事件。代码中包含了告诉您如何使用它的注释。glsim.js库的一些文档可以在<a href="../../../en/source/glsim/glsim-doc.html">glsim/glsim-doc.html</a>中找到。</p>
</div>
<div class="tabbed-block">
<p>The <abbr title="A programming language for web pages. JavaScript code on a web page is executed by a web browser that displays the page, and it can interact with the contents of the web page and with the user. There are JavaScript APIs for 2D and for 3D graphics">JavaScript</abbr> library glsim.js was written to accompany and support this textbook. It implements the subset of <abbr title="A family of computer graphics APIs that is implemented in many graphics hardware devices. There are several versions of the API, and there are implementations, or &quot;bindings&quot; for several different programming languages. Versions of OpenGL for embedded systems such as mobile phones are known as OpenGL ES. WebGL is a version for use on Web pages. OpenGL can be used for 2D as well as for 3D graphics, but it is most commonly associated with 3D.">OpenGL</abbr> 1.1 that is discussed in <a href="../">Chapter 3</a> and <a href="../../c4/">Chapter 4</a>, except for display lists (<a href="../s4/#344-显示列表和vbo">Subsection 3.4.4</a>). It is used in the demos that appear in those chapters. Many of the sample programs that are discussed in those chapters are available in <abbr title="A programming language for web pages. JavaScript code on a web page is executed by a web browser that displays the page, and it can interact with the contents of the web page and with the user. There are JavaScript APIs for 2D and for 3D graphics">JavaScript</abbr> versions that use glsim.js.</p>
<p>If you would like to experiment with <abbr title="A family of computer graphics APIs that is implemented in many graphics hardware devices. There are several versions of the API, and there are implementations, or &quot;bindings&quot; for several different programming languages. Versions of OpenGL for embedded systems such as mobile phones are known as OpenGL ES. WebGL is a version for use on Web pages. OpenGL can be used for 2D as well as for 3D graphics, but it is most commonly associated with 3D.">OpenGL</abbr> 1.1, but don't want to go through the trouble of setting up a C or Java environment that supports <abbr title="A family of computer graphics APIs that is implemented in many graphics hardware devices. There are several versions of the API, and there are implementations, or &quot;bindings&quot; for several different programming languages. Versions of OpenGL for embedded systems such as mobile phones are known as OpenGL ES. WebGL is a version for use on Web pages. OpenGL can be used for 2D as well as for 3D graphics, but it is most commonly associated with 3D.">OpenGL</abbr> programming, you can consider writing your programs as web pages using glsim.js. Note that glsim is meant for experimentation and practice only, not for serious applications.</p>
<p>The <abbr title="A family of computer graphics APIs that is implemented in many graphics hardware devices. There are several versions of the API, and there are implementations, or &quot;bindings&quot; for several different programming languages. Versions of OpenGL for embedded systems such as mobile phones are known as OpenGL ES. WebGL is a version for use on Web pages. OpenGL can be used for 2D as well as for 3D graphics, but it is most commonly associated with 3D.">OpenGL</abbr> <abbr title="Application Programming Interface. A collection of related classes, functions, constants, etc., for performing some task. An API is an &quot;interface&quot; in the sense that it can be used without understanding how its functionality is actually implemented.">API</abbr> that is implemented by glsim.js is essentially the same as the C <abbr title="Application Programming Interface. A collection of related classes, functions, constants, etc., for performing some task. An API is an &quot;interface&quot; in the sense that it can be used without understanding how its functionality is actually implemented.">API</abbr>, although some of the details of semantics are different. Of course the techniques for creating a drawing surface and an <abbr title="A family of computer graphics APIs that is implemented in many graphics hardware devices. There are several versions of the API, and there are implementations, or &quot;bindings&quot; for several different programming languages. Versions of OpenGL for embedded systems such as mobile phones are known as OpenGL ES. WebGL is a version for use on Web pages. OpenGL can be used for 2D as well as for 3D graphics, but it is most commonly associated with 3D.">OpenGL</abbr> drawing context are specific to <abbr title="A programming language for web pages. JavaScript code on a web page is executed by a web browser that displays the page, and it can interact with the contents of the web page and with the user. There are JavaScript APIs for 2D and for 3D graphics">JavaScript</abbr> and differ from those used in <abbr title="OpenGL实用工具包。用于编写OpenGL应用程序的跨平台库。OpenGL本身不包含对窗口或事件的支持。GLUT添加了这样的支持。它还具有用于绘制3D形状（如球体和多面体，更不用说茶壶了）的函数。GLUT用C语言编写，并与OpenGL的C API一起使用。然而，许多GLUT函数也在JOGL中可用，它是OpenGL的Java API。一种较新且稍有改进的工具包版本名为“FreeGLUT”，通常用于取代原始版本。">GLUT</abbr> or <abbr title="OpenGL的Java实现。JOGL非常复杂，因为它试图在一个编程系统中支持所有版本的OpenGL。JOGL与Java的Swing和AWT图形无缝集成。">JOGL</abbr>.</p>
<p>To use glsim.js, you need to create an <abbr title="HyperText Markup Language. A language that is used for specifying the content of web pages. An HTML document is made up of text, along with &quot;elements&quot; for adding other content, such as images, and for defining the structure of the document. Because of nesting of elements, the document can be represented by a tree-like data structure.">HTML</abbr> document with a <code>&lt;canvas&gt;</code> element to serve as the drawing surface. The <abbr title="HyperText Markup Language. A language that is used for specifying the content of web pages. An HTML document is made up of text, along with &quot;elements&quot; for adding other content, such as images, and for defining the structure of the document. Because of nesting of elements, the document can be represented by a tree-like data structure.">HTML</abbr> file has to import the script; if glsim.js is in the same directory as the <abbr title="HyperText Markup Language. A language that is used for specifying the content of web pages. An HTML document is made up of text, along with &quot;elements&quot; for adding other content, such as images, and for defining the structure of the document. Because of nesting of elements, the document can be represented by a tree-like data structure.">HTML</abbr> file, you can do that with</p>
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;glsim.js&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</code></pre></div>
<p>To create the <abbr title="A family of computer graphics APIs that is implemented in many graphics hardware devices. There are several versions of the API, and there are implementations, or &quot;bindings&quot; for several different programming languages. Versions of OpenGL for embedded systems such as mobile phones are known as OpenGL ES. WebGL is a version for use on Web pages. OpenGL can be used for 2D as well as for 3D graphics, but it is most commonly associated with 3D.">OpenGL</abbr> drawing context, use the <abbr title="A programming language for web pages. JavaScript code on a web page is executed by a web browser that displays the page, and it can interact with the contents of the web page and with the user. There are JavaScript APIs for 2D and for 3D graphics">JavaScript</abbr> command</p>
<div class="highlight"><pre><span></span><code><span class="nx">glsimUse</span><span class="p">(</span><span class="nx">canvas</span><span class="p">);</span>
</code></pre></div>
<p>where canvas is either a string giving the id of the <code>&lt;canvas&gt;</code> element or is the <abbr title="A programming language for web pages. JavaScript code on a web page is executed by a web browser that displays the page, and it can interact with the contents of the web page and with the user. There are JavaScript APIs for 2D and for 3D graphics">JavaScript</abbr> <abbr title="Document Object Model. A specification for representing a web page (and other kinds of structured document) as a tree-like data structure. Can also refer to the data structure itself, as in &quot;the DOM for this web page.&quot; A web page can be modified dynamically by manipulating its DOM, using the JavaScript programming language.">DOM</abbr> object corresponding to the <code>&lt;canvas&gt;</code> element. Once you have created the drawing context in this way, any <abbr title="A family of computer graphics APIs that is implemented in many graphics hardware devices. There are several versions of the API, and there are implementations, or &quot;bindings&quot; for several different programming languages. Versions of OpenGL for embedded systems such as mobile phones are known as OpenGL ES. WebGL is a version for use on Web pages. OpenGL can be used for 2D as well as for 3D graphics, but it is most commonly associated with 3D.">OpenGL</abbr> commands that you give will apply to the canvas. To run the program, you just need to open the <abbr title="HyperText Markup Language. A language that is used for specifying the content of web pages. An HTML document is made up of text, along with &quot;elements&quot; for adding other content, such as images, and for defining the structure of the document. Because of nesting of elements, the document can be represented by a tree-like data structure.">HTML</abbr> document in a web browser that supports <abbr title="A 3D graphics API for use on web pages. WebGL programs are written in the JavaScript programming language and display their images in HTML canvas elements. WebGL is based on OpenGL ES, the version of OpenGL for embedded systems, with a few changes to adapt it to the JavaScript language and the Web environment.">WebGL</abbr> 1.0.</p>
<p>The easiest way to get started programming is to modify a program that already exists. The sample program <a href="../../../en/source/glsim/first-triangle.html">glsim/first-triangle.html</a>, from <a href="../s1/#312--opengl颜色">Subsection 3.1.2</a> is a very minimal example of using glsim.js. The sample web page <a href="../../../en/source/glsim/glsim-starter.html">glsim/glsim-starter.html</a> can be used as a starting point for writing longer programs that use glsim.js. It provides a framework for doing <abbr title="A family of computer graphics APIs that is implemented in many graphics hardware devices. There are several versions of the API, and there are implementations, or &quot;bindings&quot; for several different programming languages. Versions of OpenGL for embedded systems such as mobile phones are known as OpenGL ES. WebGL is a version for use on Web pages. OpenGL can be used for 2D as well as for 3D graphics, but it is most commonly associated with 3D.">OpenGL</abbr> drawing, with support for <abbr title="A sequence of images that, when displayed quickly one after the other, will produce the impression of continuous motion or change. The term animation also refers to the process of creating such image sequences.">animation</abbr> and mouse and keyboard events. The code contains comments that tell you how to use it. Some documentation for the glsim.js library can be found in <a href="../../../en/source/glsim/glsim-doc.html">glsim/glsim-doc.html</a>.</p>
</div>
</div>
</div>







  
    
  
  
    
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="最后更新">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1-2.1-2M12.5 7v5.2l4 2.4-1 1L11 13V7h1.5M11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2v1.8Z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">2024年5月26日</span>
  </span>

    
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="创建日期">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3h-2Z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">2024年5月25日</span>
  </span>

    
    
    
  </aside>





                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  回到页面顶部
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["content.code.copy", "content.tabs.link", "navigation.tabs", "navigation.tabs.sticky", "navigation.indexes", "navigation.top", "toc.follow", "content.tooltips"], "search": "../../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.fe8b6f2b.min.js"></script>
      
        <script src="../../../javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
        <script src="https://unpkg.com/mermaid@9.4.0/dist/mermaid.min.js"></script>
      
    
  <script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body>
</html>